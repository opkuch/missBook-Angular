"use strict";(self.webpackChunkbooks_app=self.webpackChunkbooks_app||[]).push([[179],{2011:(lt,Se,k)=>{k.d(Se,{Dh:()=>fe,GT:()=>he,cc:()=>xe,hO:()=>Ve,on:()=>H,pX:()=>se,xv:()=>ge});var d=k(4650),ee=k(127),P=k(5813);lt=k.hmd(lt);const ae=["ngOnDestroy"],se=(pe,Ke,st,Ae={})=>new Proxy(pe,{get:(ve,Ce)=>st.runOutsideAngular(()=>{var Be;if(pe[Ce])return!(null===(Be=Ae?.spy)||void 0===Be)&&Be.get&&Ae.spy.get(Ce,pe[Ce]),pe[Ce];if(ae.indexOf(Ce)>-1)return()=>{};const je=Ke.toPromise().then(B=>{const ye=B&&B[Ce];return"function"==typeof ye?ye.bind(B):ye&&ye.then?ye.then(Y=>st.run(()=>Y)):st.run(()=>ye)});return new Proxy(()=>{},{get:(B,ye)=>je[ye],apply:(B,ye,Y)=>je.then(X=>{var oe;const ne=X&&X(...Y);return!(null===(oe=Ae?.spy)||void 0===oe)&&oe.apply&&Ae.spy.apply(Ce,Y,ne),ne})})})}),he=(pe,Ke)=>{Ke.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Ae=>{Object.defineProperty(pe.prototype,Ae,Object.getOwnPropertyDescriptor(st.prototype||st,Ae))})})};class ue{constructor(Ke){return Ke}}const fe=new d.OlP("angularfire2.app.options"),ge=new d.OlP("angularfire2.app.name");function H(pe,Ke,st){const ve="object"==typeof st&&st||{};ve.name=ve.name||"string"==typeof st&&st||"[DEFAULT]";const Be=ee.Z.apps.filter(je=>je&&je.name===ve.name)[0]||Ke.runOutsideAngular(()=>ee.Z.initializeApp(pe,ve));try{JSON.stringify(pe)!==JSON.stringify(Be.options)&&G("error",`${Be.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(Be)}const G=(pe,...Ke)=>{(0,d.X6Q)()&&typeof console<"u"&&console[pe](...Ke)},Q={provide:ue,useFactory:H,deps:[fe,d.R0b,[new d.FiY,ge]]};let Ve=(()=>{class pe{constructor(st){ee.Z.registerVersion("angularfire",P.q4.full,"core"),ee.Z.registerVersion("angularfire",P.q4.full,"app-compat"),ee.Z.registerVersion("angular",d.q4F.full,st.toString())}static initializeApp(st,Ae){return{ngModule:pe,providers:[{provide:fe,useValue:st},{provide:ge,useValue:Ae}]}}}return pe.\u0275fac=function(st){return new(st||pe)(d.LFG(d.Lbi))},pe.\u0275mod=d.oAB({type:pe}),pe.\u0275inj=d.cJS({providers:[Q]}),pe})();function xe(pe,Ke,st,Ae,ve){const[,Ce,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===pe)||[];if(Ce)return function we(pe,Ke){try{return pe.toString()===Ke.toString()}catch{return pe===Ke}}(ve,Be)||(_e("error",`${Ke} was already initialized on the ${st} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:ve,was:Be})),Ce;{const je=Ae();return globalThis.\u0275AngularfireInstanceCache.push([pe,je,ve]),je}}const Xe=!!lt.hot,_e=(pe,...Ke)=>{(0,d.X6Q)()&&typeof console<"u"&&console[pe](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Se,k)=>{k.d(Se,{q4:()=>ri,iC:()=>gs,HU:()=>na,vb:()=>go,JM:()=>ta});var d=k(4650),ee=k(5867),P=k(5861),ae=k(9681),se=k(2090),he=k(4859),ue=k(1877),fe=k(8766);const ge="@firebase/installations",H="0.5.12",Q=`w:${H}`,Ve="FIS_v2",Ke=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(I){return I instanceof se.ZR&&I.code.includes("request-failed")}function Ae({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function ve(I){return{token:I.token,requestStatus:2,expiresIn:X(I.expiresIn),creationTime:Date.now()}}function Ce(I,D){return Be.apply(this,arguments)}function Be(){return(Be=(0,P.Z)(function*(I,D){const L=(yield D.json()).error;return Ke.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function je({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function B(I,{refreshToken:D}){const x=je(I);return x.append("Authorization",function oe(I){return`${Ve} ${I}`}(D)),x}function ye(I){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function X(I){return Number(I.replace("s","000"))}function ne(I,D){return ke.apply(this,arguments)}function ke(){return(ke=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:x}){const L=Ae(I),J=je(I),le=D.getImmediate({optional:!0});if(le){const Et=yield le.getHeartbeatsHeader();Et&&J.append("x-firebase-client",Et)}const He={method:"POST",headers:J,body:JSON.stringify({fid:x,authVersion:Ve,appId:I.appId,sdkVersion:Q})},ft=yield ye(()=>fetch(L,He));if(ft.ok){const Et=yield ft.json();return{fid:Et.fid||x,registrationStatus:2,refreshToken:Et.refreshToken,authToken:ve(Et.authToken)}}throw yield Ce("Create Installation",ft)})).apply(this,arguments)}function Pe(I){return new Promise(D=>{setTimeout(D,I)})}const qt=/^[cdef][\w-]{21}$/;function ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const x=function un(I){return function ht(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return qt.test(x)?x:""}catch{return""}}function Fn(I){return`${I.appName}!${I.appId}`}const Yt=new Map;function Qt(I,D){const x=Fn(I);an(x,D),function Ca(I,D){const x=function Tr(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=I=>{an(I.data.key,I.data.fid)}),Zr}();x&&x.postMessage({key:I,fid:D}),function Kr(){0===Yt.size&&Zr&&(Zr.close(),Zr=null)}()}(x,D)}function an(I,D){const x=Yt.get(I);if(x)for(const L of x)L(D)}let Zr=null;const Yr="firebase-installations-store";let bi=null;function Uo(){return bi||(bi=(0,fe.X3)("firebase-installations-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Yr)}})),bi}function Ze(I,D){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,P.Z)(function*(I,D){const x=Fn(I),J=(yield Uo()).transaction(Yr,"readwrite"),le=J.objectStore(Yr),Te=yield le.get(x);return yield le.put(D,x),yield J.done,(!Te||Te.fid!==D.fid)&&Qt(I,D.fid),D})).apply(this,arguments)}function rs(I){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,P.Z)(function*(I){const D=Fn(I),L=(yield Uo()).transaction(Yr,"readwrite");yield L.objectStore(Yr).delete(D),yield L.done})).apply(this,arguments)}function Ci(I,D){return fi.apply(this,arguments)}function fi(){return(fi=(0,P.Z)(function*(I,D){const x=Fn(I),J=(yield Uo()).transaction(Yr,"readwrite"),le=J.objectStore(Yr),Te=yield le.get(x),He=D(Te);return void 0===He?yield le.delete(x):yield le.put(He,x),yield J.done,He&&(!Te||Te.fid!==He.fid)&&Qt(I,He.fid),He})).apply(this,arguments)}function Vn(I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(I){let D;const x=yield Ci(I.appConfig,L=>{const J=gn(L),le=gt(I,J);return D=le.registrationPromise,le.installationEntry});return""===x.fid?{installationEntry:yield D}:{installationEntry:x,registrationPromise:D}})).apply(this,arguments)}function gn(I){return It(I||{fid:ze(),registrationStatus:0})}function gt(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Ke.create("app-offline"))};const x={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function ut(I,D){return ln.apply(this,arguments)}(I,x);return{installationEntry:x,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:cr(I)}:{installationEntry:D}}function ln(){return(ln=(0,P.Z)(function*(I,D){try{const x=yield ne(I,D);return Ze(I.appConfig,x)}catch(x){throw st(x)&&409===x.customData.serverCode?yield rs(I.appConfig):yield Ze(I.appConfig,{fid:D.fid,registrationStatus:0}),x}})).apply(this,arguments)}function cr(I){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(I){let D=yield kr(I.appConfig);for(;1===D.registrationStatus;)yield Pe(100),D=yield kr(I.appConfig);if(0===D.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Vn(I);return L||x}return D})).apply(this,arguments)}function kr(I){return Ci(I,D=>{if(!D)throw Ke.create("installation-not-found");return It(D)})}function It(I){return function is(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Jt(I,D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:D},x){const L=Kt(I,x),J=B(I,x),le=D.getImmediate({optional:!0});if(le){const Et=yield le.getHeartbeatsHeader();Et&&J.append("x-firebase-client",Et)}const He={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Q,appId:I.appId}})},ft=yield ye(()=>fetch(L,He));if(ft.ok)return ve(yield ft.json());throw yield Ce("Generate Auth Token",ft)})).apply(this,arguments)}function Kt(I,{fid:D}){return`${Ae(I)}/${D}/authTokens:generate`}function K(I){return $.apply(this,arguments)}function $(){return($=(0,P.Z)(function*(I,D=!1){let x;const L=yield Ci(I.appConfig,le=>{if(!at(le))throw Ke.create("not-registered");const Te=le.authToken;if(!D&&fn(Te))return le;if(1===Te.requestStatus)return x=U(I,D),le;{if(!navigator.onLine)throw Ke.create("app-offline");const He=er(le);return x=Ie(I,He),He}});return x?yield x:L.authToken})).apply(this,arguments)}function U(I,D){return z.apply(this,arguments)}function z(){return(z=(0,P.Z)(function*(I,D){let x=yield W(I.appConfig);for(;1===x.authToken.requestStatus;)yield Pe(100),x=yield W(I.appConfig);const L=x.authToken;return 0===L.requestStatus?K(I,D):L})).apply(this,arguments)}function W(I){return Ci(I,D=>{if(!at(D))throw Ke.create("not-registered");return function Vt(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Ie(I,D){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*(I,D){try{const x=yield Jt(I,D),L=Object.assign(Object.assign({},D),{authToken:x});return yield Ze(I.appConfig,L),x}catch(x){if(!st(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Ze(I.appConfig,L)}else yield rs(I.appConfig);throw x}})).apply(this,arguments)}function at(I){return void 0!==I&&2===I.registrationStatus}function fn(I){return 2===I.requestStatus&&!function Xt(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+36e5}(I)}function er(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}function wn(){return(wn=(0,P.Z)(function*(I){const D=I,{installationEntry:x,registrationPromise:L}=yield Vn(D);return L?L.catch(console.error):K(D).catch(console.error),x.fid})).apply(this,arguments)}function Bi(){return(Bi=(0,P.Z)(function*(I,D=!1){const x=I;return yield Fr(x),(yield K(x,D)).token})).apply(this,arguments)}function Fr(I){return qn.apply(this,arguments)}function qn(){return(qn=(0,P.Z)(function*(I){const{registrationPromise:D}=yield Vn(I);D&&(yield D)})).apply(this,arguments)}function Ts(I){return Ke.create("missing-app-config-values",{valueName:I})}const Qs="installations",bn=I=>{const D=I.getProvider("app").getImmediate(),x=function En(I){if(!I||!I.options)throw Ts("App Configuration");if(!I.name)throw Ts("App Name");const D=["projectId","apiKey","appId"];for(const x of D)if(!I.options[x])throw Ts(x);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:x,heartbeatServiceProvider:(0,ae._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Js=I=>{const D=I.getProvider("app").getImmediate(),x=(0,ae._getProvider)(D,Qs).getImmediate();return{getId:()=>function Pt(I){return wn.apply(this,arguments)}(x),getToken:J=>function zn(I){return Bi.apply(this,arguments)}(x,J)}};(function zl(){(0,ae._registerComponent)(new he.wA(Qs,bn,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",Js,"PRIVATE"))})(),(0,ae.registerVersion)(ge,H),(0,ae.registerVersion)(ge,H,"esm2017");const ji="@firebase/remote-config",Zn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lf{constructor(D,x,L,J){this.client=D,this.storage=x,this.storageCache=L,this.logger=J}isCachedDataFresh(D,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,J=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${J}.`),J}fetch(D){var x=this;return(0,P.Z)(function*(){const[L,J]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(J&&x.isCachedDataFresh(D.cacheMaxAgeMillis,L))return J;D.eTag=J&&J.eTag;const le=yield x.client.fetch(D),Te=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&Te.push(x.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(Te),le})()}}function Yl(I=navigator){return I.languages&&I.languages[0]||I.language}class Ql{constructor(D,x,L,J,le,Te){this.firebaseInstallations=D,this.sdkVersion=x,this.namespace=L,this.projectId=J,this.apiKey=le,this.appId=Te}fetch(D){var x=this;return(0,P.Z)(function*(){var L,J,le;const[Te,He]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},dt={sdk_version:x.sdkVersion,app_instance_id:Te,app_instance_id_token:He,app_id:x.appId,language_code:Yl()},yn={method:"POST",headers:Ot,body:JSON.stringify(dt)},gr=fetch(Et,yn),ia=new Promise((sa,oa)=>{D.signal.addEventListener(()=>{const Wf=new Error("The operation was aborted.");Wf.name="AbortError",oa(Wf)})});let Bs;try{yield Promise.race([gr,ia]),Bs=yield gr}catch(sa){let oa="fetch-client-network";throw"AbortError"===(null===(L=sa)||void 0===L?void 0:L.name)&&(oa="fetch-timeout"),Zn.create(oa,{originalErrorMessage:null===(J=sa)||void 0===J?void 0:J.message})}let yo=Bs.status;const Za=Bs.headers.get("ETag")||void 0;let _o,vo;if(200===Bs.status){let sa;try{sa=yield Bs.json()}catch(oa){throw Zn.create("fetch-client-parse",{originalErrorMessage:null===(le=oa)||void 0===le?void 0:le.message})}_o=sa.entries,vo=sa.state}if("INSTANCE_STATE_UNSPECIFIED"===vo?yo=500:"NO_CHANGE"===vo?yo=304:("NO_TEMPLATE"===vo||"EMPTY_CONFIG"===vo)&&(_o={}),304!==yo&&200!==yo)throw Zn.create("fetch-status",{httpStatus:yo});return{status:yo,eTag:Za,config:_o}})()}}class dg{constructor(D,x){this.client=D,this.storage=x}fetch(D){var x=this;return(0,P.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:x,backoffCount:L}){var J=this;return(0,P.Z)(function*(){yield function nr(I,D){return new Promise((x,L)=>{const J=Math.max(D-Date.now(),0),le=setTimeout(x,J);I.addEventListener(()=>{clearTimeout(le),L(Zn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,x);try{const le=yield J.client.fetch(D);return yield J.storage.deleteThrottleMetadata(),le}catch(le){if(!function Fd(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(le))throw le;const Te={throttleEndTimeMillis:Date.now()+(0,se.$s)(L),backoffCount:L+1};return yield J.storage.setThrottleMetadata(Te),J.attemptFetch(D,Te)}})()}}class Cu{constructor(D,x,L,J,le){this.app=D,this._client=x,this._storageCache=L,this._storage=J,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jl(I,D){var x;const L=I.target.error||void 0;return Zn.create(D,{originalErrorMessage:L&&(null===(x=L)||void 0===x?void 0:x.message)})}const Os="app_namespace_store";class gg{constructor(D,x,L,J=function pg(){return new Promise((I,D)=>{var x;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=J=>{D(Jl(J,"storage-open"))},L.onsuccess=J=>{I(J.target.result)},L.onupgradeneeded=J=>{0===J.oldVersion&&J.target.result.createObjectStore(Os,{keyPath:"compositeKey"})}}catch(L){D(Zn.create("storage-open",{originalErrorMessage:null===(x=L)||void 0===x?void 0:x.message}))}})}()){this.appId=D,this.appName=x,this.namespace=L,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var x=this;return(0,P.Z)(function*(){const L=yield x.openDbPromise;return new Promise((J,le)=>{var Te;const ft=L.transaction([Os],"readonly").objectStore(Os),Et=x.createCompositeKey(D);try{const Ot=ft.get(Et);Ot.onerror=dt=>{le(Jl(dt,"storage-get"))},Ot.onsuccess=dt=>{const yn=dt.target.result;J(yn?yn.value:void 0)}}catch(Ot){le(Zn.create("storage-get",{originalErrorMessage:null===(Te=Ot)||void 0===Te?void 0:Te.message}))}})})()}set(D,x){var L=this;return(0,P.Z)(function*(){const J=yield L.openDbPromise;return new Promise((le,Te)=>{var He;const Et=J.transaction([Os],"readwrite").objectStore(Os),Ot=L.createCompositeKey(D);try{const dt=Et.put({compositeKey:Ot,value:x});dt.onerror=yn=>{Te(Jl(yn,"storage-set"))},dt.onsuccess=()=>{le()}}catch(dt){Te(Zn.create("storage-set",{originalErrorMessage:null===(He=dt)||void 0===He?void 0:He.message}))}})})()}delete(D){var x=this;return(0,P.Z)(function*(){const L=yield x.openDbPromise;return new Promise((J,le)=>{var Te;const ft=L.transaction([Os],"readwrite").objectStore(Os),Et=x.createCompositeKey(D);try{const Ot=ft.delete(Et);Ot.onerror=dt=>{le(Jl(dt,"storage-delete"))},Ot.onsuccess=()=>{J()}}catch(Ot){le(Zn.create("storage-delete",{originalErrorMessage:null===(Te=Ot)||void 0===Te?void 0:Te.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Vd{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const x=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),J=D.storage.getActiveConfig(),le=yield x;le&&(D.lastFetchStatus=le);const Te=yield L;Te&&(D.lastSuccessfulFetchTimestampMillis=Te);const He=yield J;He&&(D.activeConfig=He)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Iu(){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,P.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function Ns(){(0,ae._registerComponent)(new he.wA("remote-config",function I(D,{instanceIdentifier:x}){const L=D.getProvider("app").getImmediate(),J=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Zn.create("registration-window");if(!(0,se.hl)())throw Zn.create("indexed-db-unavailable");const{projectId:le,apiKey:Te,appId:He}=L.options;if(!le)throw Zn.create("registration-project-id");if(!Te)throw Zn.create("registration-api-key");if(!He)throw Zn.create("registration-app-id");const ft=new gg(He,L.name,x=x||"firebase"),Et=new Vd(ft),Ot=new ue.Yd(ji);Ot.logLevel=ue.in.ERROR;const dt=new Ql(J,ae.SDK_VERSION,x,le,Te,He),yn=new dg(dt,ft),gr=new Lf(yn,ft,Et,Ot),ia=new Cu(L,gr,Et,ft,Ot);return function In(I){const D=(0,se.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ia),ia},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ji,"0.3.11"),(0,ae.registerVersion)(ji,"0.3.11","esm2017")}();const Hi="/firebase-messaging-sw.js",os="/firebase-cloud-messaging-push-scope",as="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sa="google.c.a.c_id",Du="google.c.a.c_l",Xl="google.c.a.ts",Uf="google.c.a.e";var us=(()=>{return(I=us||(us={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",us;var I})();function gi(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jr(I){const x=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),J=new Uint8Array(L.length);for(let le=0;le<L.length;++le)J[le]=L.charCodeAt(le);return J}const jo="fcm_token_details_db",vr="fcm_token_object_Store";function Bf(I){return jf.apply(this,arguments)}function jf(){return jf=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(jo))return null;let D=null;return(yield(0,fe.X3)(jo,5,{upgrade:(L=(0,P.Z)(function*(J,le,Te,He){var ft;if(le<2||!J.objectStoreNames.contains(vr))return;const Et=He.objectStore(vr),Ot=yield Et.index("fcmSenderId").get(I);if(yield Et.clear(),Ot)if(2===le){const dt=Ot;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;D={token:dt.fcmToken,createTime:null!==(ft=dt.createTime)&&void 0!==ft?ft:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:gi(dt.vapidKey)}}}else if(3===le){const dt=Ot;D={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:gi(dt.auth),p256dh:gi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:gi(dt.vapidKey)}}}else if(4===le){const dt=Ot;D={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:gi(dt.auth),p256dh:gi(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:gi(dt.vapidKey)}}}}),function(le,Te,He,ft){return L.apply(this,arguments)})})).close(),yield(0,fe.Lj)(jo),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),xn(D)?D:null;var L}),jf.apply(this,arguments)}function xn(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const mi="firebase-messaging-store";let Vr=null;function Su(){return Vr||(Vr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(I,D)=>{0===D&&I.createObjectStore(mi)}})),Vr}function to(I){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(I){const D=Si(I),L=yield(yield Su()).transaction(mi).objectStore(mi).get(D);if(L)return L;{const J=yield Bf(I.appConfig.senderId);if(J)return yield $t(I,J),J}})).apply(this,arguments)}function $t(I,D){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,P.Z)(function*(I,D){const x=Si(I),J=(yield Su()).transaction(mi,"readwrite");return yield J.objectStore(mi).put(D,x),yield J.done,D})).apply(this,arguments)}function no(I){return Au.apply(this,arguments)}function Au(){return(Au=(0,P.Z)(function*(I){const D=Si(I),L=(yield Su()).transaction(mi,"readwrite");yield L.objectStore(mi).delete(D),yield L.done})).apply(this,arguments)}function Si({appConfig:I}){return I.appId}const Dn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dt(I,D){return xu.apply(this,arguments)}function xu(){return(xu=(0,P.Z)(function*(I,D){var x;const L=yield tc(I),J=De(D),le={method:"POST",headers:L,body:JSON.stringify(J)};let Te;try{Te=yield(yield fetch(cs(I.appConfig),le)).json()}catch(He){throw Dn.create("token-subscribe-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Te.error)throw Dn.create("token-subscribe-failed",{errorInfo:Te.error.message});if(!Te.token)throw Dn.create("token-subscribe-no-token");return Te.token})).apply(this,arguments)}function $f(I,D){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,P.Z)(function*(I,D){var x;const L=yield tc(I),J=De(D.subscriptionOptions),le={method:"PATCH",headers:L,body:JSON.stringify(J)};let Te;try{Te=yield(yield fetch(`${cs(I.appConfig)}/${D.token}`,le)).json()}catch(He){throw Dn.create("token-update-failed",{errorInfo:null===(x=He)||void 0===x?void 0:x.toString()})}if(Te.error)throw Dn.create("token-update-failed",{errorInfo:Te.error.message});if(!Te.token)throw Dn.create("token-update-no-token");return Te.token})).apply(this,arguments)}function Nu(I,D){return ec.apply(this,arguments)}function ec(){return(ec=(0,P.Z)(function*(I,D){var x;const J={method:"DELETE",headers:yield tc(I)};try{const Te=yield(yield fetch(`${cs(I.appConfig)}/${D}`,J)).json();if(Te.error)throw Dn.create("token-unsubscribe-failed",{errorInfo:Te.error.message})}catch(le){throw Dn.create("token-unsubscribe-failed",{errorInfo:null===(x=le)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function cs({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function tc(I){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,P.Z)(function*({appConfig:I,installations:D}){const x=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function De({p256dh:I,auth:D,endpoint:x,vapidKey:L}){const J={web:{endpoint:x,auth:D,p256dh:I}};return L!==as&&(J.web.applicationPubKey=L),J}const Ut=6048e5;function Pu(I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,P.Z)(function*(I){const D=yield nc(I.swRegistration,I.vapidKey),x={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:gi(D.getKey("auth")),p256dh:gi(D.getKey("p256dh"))},L=yield to(I.firebaseDependencies);if(L){if(Hd(L.subscriptionOptions,x))return Date.now()>=L.createTime+Ut?Ho(I,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield Nu(I.firebaseDependencies,L.token)}catch(J){console.warn(J)}return xa(I.firebaseDependencies,x)}return xa(I.firebaseDependencies,x)})).apply(this,arguments)}function On(I){return ku.apply(this,arguments)}function ku(){return(ku=(0,P.Z)(function*(I){const D=yield to(I.firebaseDependencies);D&&(yield Nu(I.firebaseDependencies,D.token),yield no(I.firebaseDependencies));const x=yield I.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Ho(I,D){return yi.apply(this,arguments)}function yi(){return(yi=(0,P.Z)(function*(I,D){try{const x=yield $f(I.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:x,createTime:Date.now()});return yield $t(I.firebaseDependencies,L),x}catch(x){throw yield On(I),x}})).apply(this,arguments)}function xa(I,D){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,P.Z)(function*(I,D){const L={token:yield Dt(I,D),createTime:Date.now(),subscriptionOptions:D};return yield $t(I,L),L.token})).apply(this,arguments)}function nc(I,D){return rc.apply(this,arguments)}function rc(){return(rc=(0,P.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jr(D)})})).apply(this,arguments)}function Hd(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}function ro(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Nn(I,D){if(!D.notification)return;I.notification={};const x=D.notification.title;x&&(I.notification.title=x);const L=D.notification.body;L&&(I.notification.body=L);const J=D.notification.image;J&&(I.notification.image=J)}(D,I),function $i(I,D){!D.data||(I.data=D.data)}(D,I),function ic(I,D){var x,L,J,le,Te;if(!(D.fcmOptions||null!==(x=D.notification)&&void 0!==x&&x.click_action))return;I.fcmOptions={};const He=null!==(J=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==J?J:null===(le=D.notification)||void 0===le?void 0:le.click_action;He&&(I.fcmOptions.link=He);const ft=null===(Te=D.fcmOptions)||void 0===Te?void 0:Te.analytics_label;ft&&(I.fcmOptions.analyticsLabel=ft)}(D,I),D}function io(I){return"object"==typeof I&&!!I&&Sa in I}function ds(I,D){const x=[];for(let L=0;L<I.length;L++)x.push(I.charAt(L)),L<D.length&&x.push(D.charAt(L));return x.join("")}function Na(I){return Dn.create("missing-app-config-values",{valueName:I})}ds("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ds("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yg{constructor(D,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function mg(I){if(!I||!I.options)throw Na("App Configuration Object");if(!I.name)throw Na("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:x}=I;for(const L of D)if(!x[L])throw Na(L);return{appName:I.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:J,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function sc(I){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,P.Z)(function*(I){var D;try{I.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:os}),I.swRegistration.update().catch(()=>{})}catch(x){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:null===(D=x)||void 0===D?void 0:D.message})}})).apply(this,arguments)}function Pa(I,D){return oc.apply(this,arguments)}function oc(){return(oc=(0,P.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield sc(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function Ra(I,D){return ac.apply(this,arguments)}function ac(){return(ac=(0,P.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=as)})).apply(this,arguments)}function Vu(){return(Vu=(0,P.Z)(function*(I,D){if(!navigator)throw Dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dn.create("permission-blocked");return yield Ra(I,D?.vapidKey),yield Pa(I,D?.serviceWorkerRegistration),Pu(I)})).apply(this,arguments)}function uc(I,D,x){return lc.apply(this,arguments)}function lc(){return(lc=(0,P.Z)(function*(I,D,x){const L=cc(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[Sa],message_name:x[Du],message_time:x[Xl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function cc(I){switch(I){case us.NOTIFICATION_CLICKED:return"notification_open";case us.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function so(){return(so=(0,P.Z)(function*(I,D){const x=D.data;if(!x.isFirebaseMessaging)return;I.onMessageHandler&&x.messageType===us.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ro(x)):I.onMessageHandler.next(ro(x)));const L=x.data;io(L)&&"1"===L[Uf]&&(yield uc(I,x.messageType,L))})).apply(this,arguments)}const oo="@firebase/messaging",rr=I=>{const D=new yg(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function $d(I,D){return so.apply(this,arguments)}(D,x)),D},Xr=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:L=>function Lu(I,D){return Vu.apply(this,arguments)}(D,L)}};function dc(){return hc.apply(this,arguments)}function hc(){return(hc=(0,P.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mn(){(0,ae._registerComponent)(new he.wA("messaging",rr,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",Xr,"PRIVATE")),(0,ae.registerVersion)(oo,"0.9.16"),(0,ae.registerVersion)(oo,"0.9.16","esm2017")}();const zo="analytics",Wd="firebase_id",ao="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ju="https://www.googletagmanager.com/gtag/js",Pn=new ue.Yd("@firebase/analytics");function Hu(I){return Promise.all(I.map(D=>D.catch(x=>x)))}function $u(I,D){const x=document.createElement("script");x.src=`${ju}?l=${I}&id=${D}`,x.async=!0,document.head.appendChild(x)}function Gf(I,D,x,L,J,le){return uo.apply(this,arguments)}function uo(){return(uo=(0,P.Z)(function*(I,D,x,L,J,le){const Te=L[J];try{if(Te)yield D[Te];else{const ft=(yield Hu(x)).find(Et=>Et.measurementId===J);ft&&(yield D[ft.appId])}}catch(He){Pn.error(He)}I("config",J,le)})).apply(this,arguments)}function qo(I,D,x,L,J){return lo.apply(this,arguments)}function lo(){return(lo=(0,P.Z)(function*(I,D,x,L,J){try{let le=[];if(J&&J.send_to){let Te=J.send_to;Array.isArray(Te)||(Te=[Te]);const He=yield Hu(x);for(const ft of Te){const Et=He.find(dt=>dt.measurementId===ft),Ot=Et&&D[Et.appId];if(!Ot){le=[];break}le.push(Ot)}}0===le.length&&(le=Object.values(D)),yield Promise.all(le),I("event",L,J||{})}catch(le){Pn.error(le)}})).apply(this,arguments)}function Kd(){const I=window.document.getElementsByTagName("script");for(const D of Object.values(I))if(D.src&&D.src.includes(ju))return D;return null}const fr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Va=new class Gi{constructor(D={},x=1e3){this.throttleMetadata=D,this.intervalMillis=x}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,x){this.throttleMetadata[D]=x}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Qd(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ua(I){return gc.apply(this,arguments)}function gc(){return(gc=(0,P.Z)(function*(I){var D;const{appId:x,apiKey:L}=I,J={method:"GET",headers:Qd(L)},le=ao.replace("{app-id}",x),Te=yield fetch(le,J);if(200!==Te.status&&304!==Te.status){let He="";try{const ft=yield Te.json();null!==(D=ft.error)&&void 0!==D&&D.message&&(He=ft.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:He})}return Te.json()})).apply(this,arguments)}function Un(I){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,P.Z)(function*(I,D=Va,x){const{appId:L,apiKey:J,measurementId:le}=I.options;if(!L)throw fr.create("no-app-id");if(!J){if(le)return{measurementId:le,appId:L};throw fr.create("no-api-key")}const Te=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Wu;return setTimeout((0,P.Z)(function*(){He.abort()}),void 0!==x?x:6e4),zu({appId:L,apiKey:J,measurementId:le},Te,He,D)})).apply(this,arguments)}function zu(I,D,x){return co.apply(this,arguments)}function co(){return(co=(0,P.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:x},L,J=Va){var le,Te;const{appId:He,measurementId:ft}=I;try{yield Ba(L,D)}catch(Et){if(ft)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${null===(le=Et)||void 0===le?void 0:le.message}]`),{appId:He,measurementId:ft};throw Et}try{const Et=yield Ua(I);return J.deleteThrottleMetadata(He),Et}catch(Et){const Ot=Et;if(!qu(Ot)){if(J.deleteThrottleMetadata(He),ft)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${Ot?.message}]`),{appId:He,measurementId:ft};throw Et}const dt=503===Number(null===(Te=Ot?.customData)||void 0===Te?void 0:Te.httpStatus)?(0,se.$s)(x,J.intervalMillis,30):(0,se.$s)(x,J.intervalMillis),yn={throttleEndTimeMillis:Date.now()+dt,backoffCount:x+1};return J.setThrottleMetadata(He,yn),Pn.debug(`Calling attemptFetch again in ${dt} millis`),zu(I,yn,L,J)}})).apply(this,arguments)}function Ba(I,D){return new Promise((x,L)=>{const J=Math.max(D-Date.now(),0),le=setTimeout(x,J);I.addEventListener(()=>{clearTimeout(le),L(fr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function qu(I){if(!(I instanceof se.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Wu{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let ks,Ha;function Fs(){return(Fs=(0,P.Z)(function*(I,D,x,L,J){if(J&&J.global)I("event",x,L);else{const le=yield D;I("event",x,Object.assign(Object.assign({},L),{send_to:le}))}})).apply(this,arguments)}function fo(I){Ha=I}function yc(I){ks=I}function fs(){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,P.Z)(function*(){var I;if(!(0,se.hl)())return Pn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return Pn.warn(fr.create("indexeddb-unavailable",{errorInfo:null===(I=D)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(I,D,x,L,J,le,Te){var He;const ft=Un(I);ft.then(gr=>{x[gr.measurementId]=gr.appId,I.options.measurementId&&gr.measurementId!==I.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${gr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gr=>Pn.error(gr)),D.push(ft);const Et=fs().then(gr=>{if(gr)return L.getId()}),[Ot,dt]=yield Promise.all([ft,Et]);Kd()||$u(le,Ot.measurementId),Ha&&(J("consent","default",Ha),fo(void 0)),J("js",new Date);const yn=null!==(He=Te?.config)&&void 0!==He?He:{};return yn.origin="firebase",yn.update=!0,null!=dt&&(yn[Wd]=dt),J("config",Ot.measurementId,yn),ks&&(J("set",ks),yc(void 0)),Ot.measurementId})).apply(this,arguments)}class Qu{constructor(D){this.app=D}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},Ls=[];const Yo={};let Jo,po,Qo="dataLayer",$a=!1;function Wy(I,D,x){!function _g(){const I=[];if((0,se.ru)()&&I.push("This is a browser extension environment."),(0,se.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((L,J)=>`(${J+1}) ${L}`).join(" "),x=fr.create("invalid-analytics-context",{errorInfo:D});Pn.warn(x.message)}}();const L=I.options.appId;if(!L)throw fr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw fr.create("no-api-key");Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[L])throw fr.create("already-exists",{id:L});if(!$a){!function Zd(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(Qo);const{wrappedGtag:le,gtagCore:Te}=function ka(I,D,x,L,J){let le=function(...Te){window[L].push(arguments)};return window[J]&&"function"==typeof window[J]&&(le=window[J]),window[J]=function Gu(I,D,x,L){function le(){return(le=(0,P.Z)(function*(Te,He,ft){try{"event"===Te?yield qo(I,D,x,He,ft):"config"===Te?yield Gf(I,D,x,L,He,ft):"consent"===Te?I("consent","update",ft):I("set",He)}catch(Et){Pn.error(Et)}})).apply(this,arguments)}return function J(Te,He,ft){return le.apply(this,arguments)}}(le,I,D,x),{gtagCore:le,wrappedGtag:window[J]}}(ei,Ls,Yo,Qo,"gtag");po=le,Jo=Te,$a=!0}return ei[L]=function Zo(I,D,x,L,J,le,Te){return Ko.apply(this,arguments)}(I,Ls,Yo,D,Jo,Qo,x),new Qu(I)}function Ky(){return zf.apply(this,arguments)}function zf(){return(zf=(0,P.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const nt="@firebase/analytics";!function cn(){(0,ae._registerComponent)(new he.wA(zo,(D,{options:x})=>Wy(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function I(D){try{const x=D.getProvider(zo).getImmediate();return{logEvent:(L,J,le)=>function Vs(I,D,x,L){I=(0,se.m9)(I),function Jd(I,D,x,L,J){return Fs.apply(this,arguments)}(po,ei[I.app.options.appId],D,x,L).catch(J=>Pn.error(J))}(x,L,J,le)}}catch(x){throw fr.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ae.registerVersion)(nt,"0.8.0"),(0,ae.registerVersion)(nt,"0.8.0","esm2017")}();var ni=k(4408),Bn=k(7565);const Ar=new class Cn extends Bn.v{}(class ps extends ni.o{constructor(D,x){super(D,x),this.scheduler=D,this.work=x}schedule(D,x=0){return x>0?super.schedule(D,x):(this.delay=x,this.state=D,this.scheduler.flush(this),this)}execute(D,x){return x>0||this.closed?super.execute(D,x):this._execute(D,x)}requestAsyncId(D,x,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,x,L):D.flush(this)}});var Xu=k(4986),za=k(8505),Ur=k(9468),_c=k(5363);const ri=new d.GfV("7.4.1"),qa="__angularfire_symbol__analyticsIsSupportedValue",Us="__angularfire_symbol__analyticsIsSupported",el="__angularfire_symbol__remoteConfigIsSupportedValue",Xo="__angularfire_symbol__remoteConfigIsSupported",ea="__angularfire_symbol__messagingIsSupportedValue",zi="__angularfire_symbol__messagingIsSupported";function ta(I,D,x){if(D){if(1===D.length)return D[0];const le=D.filter(Te=>Te.app===x);if(1===le.length)return le[0]}return x.container.getProvider(I).getImmediate({optional:!0})}globalThis[Us]||(globalThis[Us]=Ky().then(I=>globalThis[qa]=I).catch(()=>globalThis[qa]=!1)),globalThis[zi]||(globalThis[zi]=dc().then(I=>globalThis[ea]=I).catch(()=>globalThis[ea]=!1)),globalThis[Xo]||(globalThis[Xo]=Iu().then(I=>globalThis[el]=I).catch(()=>globalThis[el]=!1));const go=(I,D)=>{const x=D?[D]:(0,ee.C6)(),L=[];return x.forEach(J=>{J.container.getProvider(I).instances.forEach(Te=>{L.includes(Te)||L.push(Te)})}),L};function Wa(){}class Br{constructor(D,x=Ar){this.zone=D,this.delegate=x}now(){return this.delegate.now()}schedule(D,x,L){const J=this.zone;return this.delegate.schedule(function(Te){J.runGuarded(()=>{D.apply(this,[Te])})},x,L)}}class Tn{constructor(D){this.zone=D,this.task=null}call(D,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)),x.pipe((0,za.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let na=(()=>{class I{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new Br(Zone.current)),this.insideAngular=x.run(()=>new Br(Zone.current,Xu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(x){return new(x||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Mi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function gs(I){return Mi(),function wc(I){return function(x){return(x=x.lift(new Tn(I.ngZone))).pipe((0,Ur.R)(I.outsideAngular),(0,_c.Q)(I.insideAngular))}}(Mi())(I)}},2090:(lt,Se,k)=>{k.d(Se,{$s:()=>is,BH:()=>Ve,G6:()=>je,L:()=>fe,LL:()=>ke,Mn:()=>Ce,Sg:()=>xe,UG:()=>_e,US:()=>he,ZB:()=>G,ZR:()=>ne,b$:()=>st,d:()=>Ae,eu:()=>ye,hl:()=>B,jU:()=>pe,m9:()=>Kt,ne:()=>Uo,pd:()=>Yr,r3:()=>Rr,ru:()=>Ke,tV:()=>ge,uI:()=>Xe,vZ:()=>Zr,w1:()=>ve,xO:()=>Ds,xb:()=>an,z$:()=>we,zI:()=>Y,zd:()=>Ui});const ae=function(K){const $=[];let U=0;for(let z=0;z<K.length;z++){let W=K.charCodeAt(z);W<128?$[U++]=W:W<2048?($[U++]=W>>6|192,$[U++]=63&W|128):55296==(64512&W)&&z+1<K.length&&56320==(64512&K.charCodeAt(z+1))?(W=65536+((1023&W)<<10)+(1023&K.charCodeAt(++z)),$[U++]=W>>18|240,$[U++]=W>>12&63|128,$[U++]=W>>6&63|128,$[U++]=63&W|128):($[U++]=W>>12|224,$[U++]=W>>6&63|128,$[U++]=63&W|128)}return $},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,$){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let W=0;W<K.length;W+=3){const Ie=K[W],Ue=W+1<K.length,at=Ue?K[W+1]:0,fn=W+2<K.length,Xt=fn?K[W+2]:0;let Pt=(15&at)<<2|Xt>>6,wn=63&Xt;fn||(wn=64,Ue||(Pt=64)),z.push(U[Ie>>2],U[(3&Ie)<<4|at>>4],U[Pt],U[wn])}return z.join("")},encodeString(K,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(K):this.encodeByteArray(ae(K),$)},decodeString(K,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(K):function(K){const $=[];let U=0,z=0;for(;U<K.length;){const W=K[U++];if(W<128)$[z++]=String.fromCharCode(W);else if(W>191&&W<224){const Ie=K[U++];$[z++]=String.fromCharCode((31&W)<<6|63&Ie)}else if(W>239&&W<365){const fn=((7&W)<<18|(63&K[U++])<<12|(63&K[U++])<<6|63&K[U++])-65536;$[z++]=String.fromCharCode(55296+(fn>>10)),$[z++]=String.fromCharCode(56320+(1023&fn))}else{const Ie=K[U++],Ue=K[U++];$[z++]=String.fromCharCode((15&W)<<12|(63&Ie)<<6|63&Ue)}}return $.join("")}(this.decodeStringToByteArray(K,$))},decodeStringToByteArray(K,$){this.init_();const U=$?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let W=0;W<K.length;){const Ie=U[K.charAt(W++)],at=W<K.length?U[K.charAt(W)]:0;++W;const Xt=W<K.length?U[K.charAt(W)]:64;++W;const Vt=W<K.length?U[K.charAt(W)]:64;if(++W,null==Ie||null==at||null==Xt||null==Vt)throw Error();z.push(Ie<<2|at>>4),64!==Xt&&(z.push(at<<4&240|Xt>>2),64!==Vt&&z.push(Xt<<6&192|Vt))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},fe=function(K){return function(K){const $=ae(K);return he.encodeByteArray($,!0)}(K).replace(/\./g,"")},ge=function(K){try{return he.decodeString(K,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function G(K,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return $}for(const U in $)!$.hasOwnProperty(U)||!Q(U)||(K[U]=G(K[U],$[U]));return K}function Q(K){return"__proto__"!==K}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,U)=>{this.resolve=$,this.reject=U})}wrapCallback($){return(U,z)=>{U?this.reject(U):this.resolve(z),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(U):$(U,z))}}}function xe(K,$){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=$||"demo-project",W=K.iat||0,Ie=K.sub||K.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:W,exp:W+3600,auth_time:W,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},K);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Ue)),""].join(".")}function we(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(we())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function Ke(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return we().indexOf("Electron/")>=0}function ve(){const K=we();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ce(){return we().indexOf("MSAppHost/")>=0}function je(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){return"object"==typeof indexedDB}function ye(){return new Promise((K,$)=>{try{let U=!0;const z="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(z);W.onsuccess=()=>{W.result.close(),U||self.indexedDB.deleteDatabase(z),K(!0)},W.onupgradeneeded=()=>{U=!1},W.onerror=()=>{var Ie;$((null===(Ie=W.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(U){$(U)}})}function Y(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor($,U,z){super(U),this.code=$,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor($,U,z){this.service=$,this.serviceName=U,this.errors=z}create($,...U){const z=U[0]||{},W=`${this.service}/${$}`,Ie=this.errors[$],Ue=Ie?function Pe(K,$){return K.replace(ht,(U,z)=>{const W=$[z];return null!=W?String(W):`<${z}?>`})}(Ie,z):"Error";return new ne(W,`${this.serviceName}: ${Ue} (${W}).`,z)}}const ht=/\{\$([^}]+)}/g;function Rr(K,$){return Object.prototype.hasOwnProperty.call(K,$)}function an(K){for(const $ in K)if(Object.prototype.hasOwnProperty.call(K,$))return!1;return!0}function Zr(K,$){if(K===$)return!0;const U=Object.keys(K),z=Object.keys($);for(const W of U){if(!z.includes(W))return!1;const Ie=K[W],Ue=$[W];if(Tr(Ie)&&Tr(Ue)){if(!Zr(Ie,Ue))return!1}else if(Ie!==Ue)return!1}for(const W of z)if(!U.includes(W))return!1;return!0}function Tr(K){return null!==K&&"object"==typeof K}function Ds(K){const $=[];for(const[U,z]of Object.entries(K))Array.isArray(z)?z.forEach(W=>{$.push(encodeURIComponent(U)+"="+encodeURIComponent(W))}):$.push(encodeURIComponent(U)+"="+encodeURIComponent(z));return $.length?"&"+$.join("&"):""}function Ui(K){const $={};return K.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[W,Ie]=z.split("=");$[decodeURIComponent(W)]=decodeURIComponent(Ie)}}),$}function Yr(K){const $=K.indexOf("?");if(!$)return"";const U=K.indexOf("#",$);return K.substring($,U>0?U:void 0)}function Uo(K,$){const U=new Ze(K,$);return U.subscribe.bind(U)}class Ze{constructor($,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{$(this)}).catch(z=>{this.error(z)})}next($){this.forEachObserver(U=>{U.next($)})}error($){this.forEachObserver(U=>{U.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,U,z){let W;if(void 0===$&&void 0===U&&void 0===z)throw new Error("Missing Observer.");W=function rs(K,$){if("object"!=typeof K||null===K)return!1;for(const U of $)if(U in K&&"function"==typeof K[U])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:U,complete:z},void 0===W.next&&(W.next=Ln),void 0===W.error&&(W.error=Ln),void 0===W.complete&&(W.complete=Ln);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Ie}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,$)}sendOne($,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{U(this.observers[$])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}function is(K,$=1e3,U=2){const z=$*Math.pow(U,K),W=Math.round(.5*z*(Math.random()-.5)*2);return Math.min(144e5,z+W)}function Kt(K){return K&&K._delegate?K._delegate:K}},6001:(lt,Se,k)=>{var d=k(4650);let ee=null;function P(){return ee}const ue=new d.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ge(){return(0,d.LFG)(G)}()},providedIn:"platform"}),n})();const H=new d.OlP("Location Initialized");let G=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ve(){return new G((0,d.LFG)(ue))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ke)},providedIn:"root"}),n})();const pe=new d.OlP("appBaseHref");let Ke=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Xe(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Xe(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(pe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Xe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Xe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fe),d.LFG(pe,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=we(Be(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=xe,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(d.LFG(_e))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ve(){return new Ae((0,d.LFG)(_e))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}function Ia(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}let sn=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Da{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ms=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Da(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),xs(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{xs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xs(n,e){n.context.$implicit=e.item}let In=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Zl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Zl{constructor(){this.$implicit=null,this.ngIf=null}}function hr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Fd{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class dg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const ss=new dg,hg=new Fd;let Cu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,d.QGY)(t))return ss;if((0,d.F4k)(t))return hg;throw function nr(n,e){return new d.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Bo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function vr(n){return"server"===n}let Tu=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Hf((0,d.LFG)(ue),window)}),n})();class Hf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Vr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class to{}class so extends class $d extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new so)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Uu(){return oo=oo||document.querySelector("base"),oo?oo.getAttribute("href"):null}();return null==t?null:function Xr(n){rr=rr||document.createElement("a"),rr.setAttribute("href",n);const e=rr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ia(document.cookie,e)}}let rr,oo=null;const mn=new d.OlP("TRANSITION_ID"),hc=[{provide:d.ip1,useFactory:function dc(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[mn,ue,d.zs3],multi:!0}];let fc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Bu=new d.OlP("EventManagerPlugins");let zd=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Bu),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class pc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let $o=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Go=(()=>{class n extends $o{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qd))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function qd(n){P().remove(n)}const zo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wd=/%COMP%/g;function $u(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?$u(n,i,t):(i=i.replace(Wd,n),t.push(i))}return t}function Zd(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let uo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Kd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new Yd(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=$u(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zd),d.LFG(Go),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class qo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(zo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ka(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ka(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=zo[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=zo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Zd(r)):this.eventManager.addEventListener(e,t,Zd(r))}}function ka(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Kd extends qo{constructor(e,t,r,i){super(e),this.component=r;const u=$u(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Pn(n){return"_ngcontent-%COMP%".replace(Wd,n)}(i+"-"+r.id),this.hostAttr=function Hu(n){return"_nghost-%COMP%".replace(Wd,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Yd extends qo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=$u(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let fr=(()=>{class n extends pc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Fa=["alt","control","meta","shift"],La={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Va=(()=>{class n extends pc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),Fa.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),c+=b+".")}),c+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=i,y.fullKey=c,y}static matchEventFullKeyCode(t,r){let i=La[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Fa.forEach(c=>{c!==i&&(0,Gi[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Wu=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function zu(){so.makeCurrent()},multi:!0},{provide:ue,useFactory:function Ba(){return(0,d.RDi)(document),document},deps:[]}]),ks=new d.OlP(""),Jd=[{provide:d.rWj,useClass:class Gd{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Fs=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function co(){return new d.qLn},deps:[]},{provide:Bu,useClass:fr,multi:!0,deps:[ue,d.R0b,d.Lbi]},{provide:Bu,useClass:Va,multi:!0,deps:[ue]},{provide:uo,useClass:uo,deps:[zd,Go,d.AFp]},{provide:d.FYo,useExisting:uo},{provide:$o,useExisting:Go},{provide:Go,useClass:Go,deps:[ue]},{provide:zd,useClass:zd,deps:[Bu,d.R0b]},{provide:to,useClass:fc,deps:[]},[]];let Zu=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:mn,useExisting:d.AFp},hc]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ks,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Fs,...Jd],imports:[Bo,d.hGG]}),n})(),hs=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Wo(){return new hs((0,d.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(Eg),r},providedIn:"root"}),n})(),Eg=(()=>{class n extends Ga{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function wg(n){return new Eg(n.get(ue))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var Vs=k(7669),en=k(8996);function nt(...n){const e=(0,Vs.yG)(n);return(0,en.D)(n,e)}var ti=k(9751),cn=k(5577),ni=k(576);function ps(n,e){return(0,ni.m)(e)?(0,cn.z)(n,e,1):(0,cn.z)(n,1)}var Bn=k(4482),Cn=k(5403);function Ar(n,e){return(0,Bn.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var _t=k(4004);class Xu{}class za{}class Ur{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ur?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ur;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ur?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(p=>-1===u.indexOf(p)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ri{encodeKey(e){return Xo(e)}encodeValue(e){return Xo(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Us=/%(\d[a-f0-9])/gi,el={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xo(n){return encodeURIComponent(n).replace(Us,(e,t)=>el[t]??e)}function ea(n){return`${n}`}class zi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ri,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qa(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[c,p]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],y=t.get(c)||[];y.push(p),t.set(c,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(ea):[ea(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new zi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ea(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(ea(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class bg{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function qf(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ta(n){return typeof Blob<"u"&&n instanceof Blob}function go(n){return typeof FormData<"u"&&n instanceof FormData}class Br{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function eh(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Ur),this.context||(this.context=new bg),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+c}}else this.params=new zi,this.urlWithParams=t}serializeBody(){return null===this.body?null:qf(this.body)||ta(this.body)||go(this.body)||function Wa(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||go(this.body)?null:ta(this.body)?this.body.type||null:qf(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,b=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((M,F)=>M.set(F,e.setHeaders[F]),y)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,F)=>M.set(F,e.setParams[F]),b)),new Br(t,r,u,{params:b,headers:y,context:T,reportProgress:p,responseType:i,withCredentials:c})}}var Tn=(()=>((Tn=Tn||{})[Tn.Sent=0]="Sent",Tn[Tn.UploadProgress=1]="UploadProgress",Tn[Tn.ResponseHeader=2]="ResponseHeader",Tn[Tn.DownloadProgress=3]="DownloadProgress",Tn[Tn.Response=4]="Response",Tn[Tn.User=5]="User",Tn))();class na{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ur,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Mi extends na{constructor(e={}){super(e),this.type=Tn.ResponseHeader}clone(e={}){return new Mi({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ra extends na{constructor(e={}){super(e),this.type=Tn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ra({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qi extends na{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function vc(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let mo=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Br)u=t;else{let y,b;y=i.headers instanceof Ur?i.headers:new Ur(i.headers),i.params&&(b=i.params instanceof zi?i.params:new zi({fromObject:i.params})),u=new Br(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=nt(u).pipe(ps(y=>this.handler.handle(y)));if(t instanceof Br||"events"===i.observe)return c;const p=c.pipe(Ar(y=>y instanceof ra));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return p.pipe((0,_t.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,_t.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,_t.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,_t.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new zi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,vc(i,r))}post(t,r,i={}){return this.request("POST",t,vc(i,r))}put(t,r,i={}){return this.request("PUT",t,vc(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class gs{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const wc=new d.OlP("HTTP_INTERCEPTORS");let jn=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ft=/^\)\]\}',?\n/;let Ot=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ti.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,j)=>i.setRequestHeader(V,j.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const u=t.serializeBody();let c=null;const p=()=>{if(null!==c)return c;const V=i.statusText||"OK",j=new Ur(i.getAllResponseHeaders()),re=function Et(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new Mi({headers:j,status:i.status,statusText:V,url:re}),c},y=()=>{let{headers:V,status:j,statusText:re,url:Ee}=p(),Le=null;204!==j&&(Le=typeof i.response>"u"?i.responseText:i.response),0===j&&(j=Le?200:0);let Je=j>=200&&j<300;if("json"===t.responseType&&"string"==typeof Le){const pt=Le;Le=Le.replace(ft,"");try{Le=""!==Le?JSON.parse(Le):null}catch(it){Le=pt,Je&&(Je=!1,Le={error:it,text:Le})}}Je?(r.next(new ra({body:Le,headers:V,status:j,statusText:re,url:Ee||void 0})),r.complete()):r.error(new qi({error:Le,headers:V,status:j,statusText:re,url:Ee||void 0}))},b=V=>{const{url:j}=p(),re=new qi({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:j||void 0});r.error(re)};let T=!1;const M=V=>{T||(r.next(p()),T=!0);let j={type:Tn.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(j.total=V.total),"text"===t.responseType&&!!i.responseText&&(j.partialText=i.responseText),r.next(j)},F=V=>{let j={type:Tn.UploadProgress,loaded:V.loaded};V.lengthComputable&&(j.total=V.total),r.next(j)};return i.addEventListener("load",y),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),t.reportProgress&&(i.addEventListener("progress",M),null!==u&&i.upload&&i.upload.addEventListener("progress",F)),i.send(u),r.next({type:Tn.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",y),i.removeEventListener("timeout",b),t.reportProgress&&(i.removeEventListener("progress",M),null!==u&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(to))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const dt=new d.OlP("XSRF_COOKIE_NAME"),yn=new d.OlP("XSRF_HEADER_NAME");class gr{}let ia=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ia(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(d.Lbi),d.LFG(dt))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Bs=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gr),d.LFG(yn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),yo=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(wc,[]);this.chain=r.reduceRight((i,u)=>new gs(i,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(za),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),vo=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Bs,useClass:jn}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:dt,useValue:t.cookieName}:[],t.headerName?{provide:yn,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Bs,{provide:wc,useExisting:Bs,multi:!0},{provide:gr,useClass:ia},{provide:dt,useValue:"XSRF-TOKEN"},{provide:yn,useValue:"X-XSRF-TOKEN"}]}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[mo,{provide:Xu,useClass:yo},Ot,{provide:za,useExisting:Ot}],imports:[vo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var Wi=k(2011),Yy=k(4986),wr=k(5813),nl=k(8189);function Ka(...n){return function th(){return(0,nl.J)(1)}()((0,en.D)(n,(0,Vs.yG)(n)))}function nh(...n){const e=(0,Vs.yG)(n);return(0,Bn.e)((t,r)=>{(e?Ka(n,t,e):Ka(n,t)).subscribe(r)})}function rh(){return(0,Bn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Cn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function z0(n,e,t,r,i){return(u,c)=>{let p=t,y=e,b=0;u.subscribe((0,Cn.x)(c,T=>{const M=b++;y=p?n(y,T,M):(p=!0,T),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function rl(n,e){return(0,Bn.e)(z0(n,e,arguments.length>=2,!0))}var ih=k(4671);function Qy(n,e){return n===e}k(2274);var Ye,il=k(3942),me=k(5861),Zi=k(9681),sh=k(4859),aa=k(1877),jt=k(2090),Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ms={},oh=oh||{},St=Ec||self;function Ki(){}function Kf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ya(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ah="closure_uid_"+(1e9*Math.random()>>>0),e_=0;function ys(n,e,t){return n.call.apply(n.bind,arguments)}function sl(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Er(n,e,t){return(Er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ys:sl).apply(null,arguments)}function bc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function ua(){this.s=this.s,this.o=this.o}var q0={};ua.prototype.s=!1,ua.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Xy(n){return Object.prototype.hasOwnProperty.call(n,ah)&&n[ah]||(n[ah]=++e_)}(this);delete q0[n]}},ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wo=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ig=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function uh(n){return Array.prototype.concat.apply([],arguments)}function Yf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function js(n){return/^[\s\xa0]*$/.test(n)}var jr,Qf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Sn(n,e){return-1!=n.indexOf(e)}function Eo(n,e){return n<e?-1:n>e?1:0}e:{var Jf=St.navigator;if(Jf){var Cc=Jf.userAgent;if(Cc){jr=Cc;break e}}jr=""}function Dg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function r_(n){const e={};for(const t in n)e[t]=n[t];return e}var i_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lh(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<i_.length;u++)t=i_[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ic(n){return Ic[" "](n),n}Ic[" "]=Ki;var la,n,Tg=Sn(jr,"Opera"),Dc=Sn(jr,"Trident")||Sn(jr,"MSIE"),Xf=Sn(jr,"Edge"),Tc=Xf||Dc,dh=Sn(jr,"Gecko")&&!(Sn(jr.toLowerCase(),"webkit")&&!Sn(jr,"Edge"))&&!(Sn(jr,"Trident")||Sn(jr,"MSIE"))&&!Sn(jr,"Edge"),s_=Sn(jr.toLowerCase(),"webkit")&&!Sn(jr,"Edge");function Sg(){var n=St.document;return n?n.documentMode:void 0}e:{var ol="",hh=(n=jr,dh?/rv:([^\);]+)(\)|;)/.exec(n):Xf?/Edge\/([\d\.]+)/.exec(n):Dc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):s_?/WebKit\/(\S+)/.exec(n):Tg?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hh&&(ol=hh?hh[1]:""),Dc){var Sc=Sg();if(null!=Sc&&Sc>parseFloat(ol)){la=String(Sc);break e}}la=ol}var Ag={};var ep=St.document&&Dc&&(Sg()||parseInt(la,10))||void 0,al=function(){if(!St.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{St.addEventListener("test",Ki,e),St.removeEventListener("test",Ki,e)}catch{}return n}();function Hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ul(n,e){if(Hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dh){e:{try{Ic(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:o_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ul.Z.h.call(this)}}Hr.prototype.h=function(){this.defaultPrevented=!0},Mr(ul,Hr);var o_={2:"touch",3:"pen",4:"mouse"};ul.prototype.h=function(){ul.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ac="closure_listenable_"+(1e6*Math.random()|0),a_=0;function W0(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++a_,this.ca=this.fa=!1}function ph(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Hs(n){this.src=n,this.g={},this.h=0}function Qa(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=wo(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(ph(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Mc(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Hs.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Mc(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new W0(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var gh="closure_lm_"+(1e6*Math.random()|0),ll={};function xg(n,e,t,r,i){if(r&&r.once)return xc(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)xg(n,e[u],t,r,i);return null}return t=$s(t),n&&n[Ac]?n.N(e,t,Ya(r)?!!r.capture:!!r,i):ii(n,e,t,!1,r,i)}function ii(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Ya(i)?!!i.capture:!!i,p=Nc(n);if(p||(n[gh]=p=new Hs(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function cl(){var e=Og;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)al||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(dl(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xc(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xc(n,e[u],t,r,i);return null}return t=$s(t),n&&n[Ac]?n.O(e,t,Ya(r)?!!r.capture:!!r,i):ii(n,e,t,!0,r,i)}function u_(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)u_(n,e[u],t,r,i);else r=Ya(r)?!!r.capture:!!r,t=$s(t),n&&n[Ac]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Mc(u=n.g[e],t,r,i))&&(ph(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Nc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Mc(e,t,r,i)),(t=-1<n?e[n]:null)&&Oc(t))}function Oc(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ac])Qa(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(dl(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Nc(e))?(Qa(t,n),0==t.h&&(t.src=null,e[gh]=null)):ph(n)}}}function dl(n){return n in ll?ll[n]:ll[n]="on"+n}function Og(n,e){if(n.ca)n=!0;else{e=new ul(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Oc(n),n=t.call(r,e)}return n}function Nc(n){return(n=n[gh])instanceof Hs?n:null}var bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function $s(n){return"function"==typeof n?n:(n[bo]||(n[bo]=function(e){return n.handleEvent(e)}),n[bo])}function Yn(){ua.call(this),this.i=new Hs(this),this.P=this,this.I=null}function ir(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Hr(e,n);else if(e instanceof Hr)e.target=e.target||n;else{var i=e;lh(e=new Hr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=mh(c,r,!0,e)&&i}if(i=mh(c=e.g=n,r,!0,e)&&i,i=mh(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=mh(c=e.g=t[u],r,!1,e)&&i}function mh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&Qa(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}Mr(Yn,ua),Yn.prototype[Ac]=!0,Yn.prototype.removeEventListener=function(n,e,t,r){u_(this,n,e,t,r)},Yn.prototype.M=function(){if(Yn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ph(t[r]);delete n.g[e],n.h--}}this.I=null},Yn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Pc=St.JSON.stringify;function Rc(){var n=Ng;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ca,kc=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Fc,n=>n.reset());class Fc{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function l_(n){St.setTimeout(()=>{throw n},0)}function _s(n,e){ca||function Ja(){var n=St.Promise.resolve(void 0);ca=function(){n.then(tp)}}(),yh||(ca(),yh=!0),Ng.add(n,e)}var yh=!1,Ng=new class sr{constructor(){this.h=this.g=null}add(e,t){const r=kc.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function tp(){for(var n;n=Rc();){try{n.h.call(n.g)}catch(t){l_(t)}var e=kc;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}yh=!1}function _h(n,e){Yn.call(this),this.h=n||1,this.g=e||St,this.j=Er(this.kb,this),this.l=Date.now()}function Lc(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function np(n,e,t){if("function"==typeof n)t&&(n=Er(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Er(n.handleEvent,n)}return 2147483647<Number(e)?-1:St.setTimeout(n,e||0)}function rp(n){n.g=np(()=>{n.g=null,n.i&&(n.i=!1,rp(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mr(_h,Yn),(Ye=_h.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ir(this,"tick"),this.da&&(Lc(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){_h.Z.M.call(this),Lc(this),delete this.g};class v extends ua{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rp(this)}M(){super.M(),this.g&&(St.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function f(n){ua.call(this),this.h=n,this.g={}}Mr(f,ua);var m=[];function w(n,e,t,r){Array.isArray(t)||(t&&(m[0]=t.toString()),t=m);for(var i=0;i<t.length;i++){var u=xg(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function A(n){Dg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Oc(e)},n),n.g={}}function N(){this.g=!0}function Fe(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vt(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Pc(t)}catch{return e}}(n,t)+(r?" "+r:"")})}f.prototype.M=function(){f.Z.M.call(this),A(this)},f.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},N.prototype.Aa=function(){this.g=!1},N.prototype.info=function(){};var ot={},or=null;function _i(){return or=or||new Yn}function hl(n){Hr.call(this,ot.Ma,n)}function Xa(n){const e=_i();ir(e,new hl(e,n))}function fl(n,e){Hr.call(this,ot.STAT_EVENT,n),this.stat=e}function $r(n){const e=_i();ir(e,new fl(e,n))}function ip(n,e){Hr.call(this,ot.Na,n),this.size=e}function Co(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return St.setTimeout(function(){n()},e)}ot.Ma="serverreachability",Mr(hl,Hr),ot.STAT_EVENT="statevent",Mr(fl,Hr),ot.Na="timingevent",Mr(ip,Hr);var vh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Pg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function eu(){}function c_(){}eu.prototype.h=null;var d_,pl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kg(){Hr.call(this,"d")}function Z0(){Hr.call(this,"c")}function sp(){}function Vc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new f(this),this.P=K0,this.W=new _h(n=Tc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new h_}function h_(){this.i=null,this.g="",this.h=!1}Mr(kg,Hr),Mr(Z0,Hr),Mr(sp,eu),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},d_=new sp;var K0=45e3,Fg={},wh={};function f_(n,e,t){n.K=1,n.v=Ug(Io(e)),n.s=t,n.U=!0,Lg(n,null)}function Lg(n,e){n.F=Date.now(),op(n),n.A=Io(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),eE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new h_,n.g=A_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new v(Er(n.Ia,n,n.g),n.O)),w(n.V,n.g,"readystatechange",n.gb),e=n.H?r_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xa(1),function Z(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var T=b[0];b=b[1];var M=T.split("_");c=2<=M.length&&"type"==M[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Eh(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Y0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=GI(n,t),i==wh){4==e&&(n.o=4,$r(14),r=!1),Fe(n.j,n.m,null,"[Incomplete Response]");break}if(i==Fg){n.o=4,$r(15),Fe(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Fe(n.j,n.m,i,null),g_(n,i)}Eh(n)&&i!=wh&&i!=Fg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$r(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),_p(e),e.L=!0,$r(11))):(Fe(n.j,n.m,t,"[Invalid Chunked Response]"),Uc(n),ap(n))}function GI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?wh:(t=Number(e.substring(t,r)),isNaN(t)?Fg:(r+=1)+t>e.length?wh:(e=e.substr(r,t),n.C=r+t,e))}function op(n){n.Y=Date.now()+n.P,p_(n,n.P)}function p_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Co(Er(n.eb,n),e)}function Vg(n){n.B&&(St.clearTimeout(n.B),n.B=null)}function ap(n){0==n.l.G||n.I||xh(n.l,n)}function Uc(n){Vg(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Lc(n.W),A(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function g_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||w_(t.i,n)))if(t.I=n.N,!n.J&&w_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Mh(t),Hc(t)}Yg(t),$r(18)}}else t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Co(Er(t.ab,t),6e3));if(1>=jg(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else ml(t,11)}else if((n.J||t.g==n)&&Mh(t),!js(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const M=b[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const j=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var u=r.i;!u.g&&(Sn(j,"spdy")||Sn(j,"quic")||Sn(j,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Hg(u,u.h),u.h=null))}if(r.D){const re=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;re&&(r.sa=re,An(r.F,r.D,re))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=hE(r,r.H?r.la:null,r.W),c.J){nE(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(Vg(p),op(p)),r.g=c}else yp(r);0<t.l.length&&gp(t)}else"stop"!=b[0]&&"close"!=b[0]||ml(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?ml(t,7):aE(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Xa(4)}catch{}}function y_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Kf(n)||"string"==typeof n)Ig(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Kf(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function m_(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Kf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function bh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof bh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function __(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];gl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)gl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function gl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=Vc.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==fa(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const T=fa(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>T)&&(3!=T||Tc||this.g&&(this.h.h||this.g.ga()||T_(this.g)))){this.I||4!=T||7==e||Xa(8==e||0>=M?3:2),Vg(this);var t=this.g.ba();this.N=t;t:if(Eh(this)){var r=T_(this.g);n="";var i=r.length,u=4==fa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uc(this),ap(this);var c="";break t}this.h.i=new St.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function ce(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!js(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,$r(12),Uc(this),ap(this);break e}Fe(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,g_(this,t)}this.U?(Y0(this,T,c),Tc&&this.i&&3==T&&(w(this.V,this.W,"tick",this.fb),this.W.start())):(Fe(this.j,this.m,c,null),g_(this,c)),4==T&&Uc(this),this.i&&!this.I&&(4==T?xh(this.l,this):(this.i=!1,op(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,$r(12)):(this.o=0,$r(13)),Uc(this),ap(this)}}}catch{}},Ye.fb=function(){if(this.g){var n=fa(this.g),e=this.g.ga();this.C<e.length&&(Vg(this),Y0(this,n,e),this.i&&4!=n&&op(this))}},Ye.cancel=function(){this.I=!0,Uc(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Qe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xa(3),$r(17)),Uc(this),this.o=2,ap(this)):p_(this,this.Y-n)},(Ye=bh.prototype).R=function(){__(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return __(this),this.g.concat()},Ye.get=function(n,e){return gl(this.h,n)?this.h[n]:e},Ye.set=function(n,e){gl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var Q0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mr(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof mr){this.g=void 0!==e?e:n.g,up(this,n.j),this.s=n.s,Ch(this,n.i),xr(this,n.m),this.l=n.l,e=n.h;var t=new cp;t.i=e.i,e.g&&(t.g=new bh(e.g),t.h=e.h),Ih(this,t),this.o=n.o}else n&&(t=String(n).match(Q0))?(this.g=!!e,up(this,t[1]||"",!0),this.s=lp(t[2]||""),Ch(this,t[3]||"",!0),xr(this,t[4]),this.l=lp(t[5]||"",!0),Ih(this,t[6]||"",!0),this.o=lp(t[7]||"")):(this.g=!!e,this.h=new cp(null,this.g))}function Io(n){return new mr(n)}function up(n,e,t){n.j=t?lp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ch(n,e,t){n.i=t?lp(e,!0):e}function xr(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ih(n,e,t){e instanceof cp?(n.h=e,function uM(n,e){e&&!n.j&&(vs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(da(this,r),eE(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Dh(e,YI)),n.h=new cp(e,n.g))}function An(n,e,t){n.h.set(e,t)}function Ug(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function lp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Dh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,WI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function WI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mr.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Dh(e,v_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Dh(e,v_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Dh(t,"/"==t.charAt(0)?KI:ZI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Dh(t,QI)),n.join("")};var v_=/[#\/\?@]/g,ZI=/[#\?:]/g,KI=/[#\?]/g,YI=/[#\?@]/g,QI=/#/g;function cp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function vs(n){n.g||(n.g=new bh,n.h=0,n.i&&function zI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function da(n,e){vs(n),e=dp(n,e),gl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,gl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&__(n)))}function X0(n,e){return vs(n),e=dp(n,e),gl(n.g.h,e)}function eE(n,e,t){da(n,e),0<t.length&&(n.i=null,n.g.set(dp(n,e),Yf(t)),n.h+=t.length)}function dp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function JI(n){this.l=n||ha,n=St.PerformanceNavigationTiming?0<(n=St.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(St.g&&St.g.Ea&&St.g.Ea()&&St.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=cp.prototype).add=function(n,e){vs(this),this.i=null,n=dp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){vs(this),this.g.forEach(function(t,r){Ig(t,function(i){n.call(e,i,r,this)},this)},this)},Ye.T=function(){vs(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},Ye.R=function(n){vs(this);var e=[];if("string"==typeof n)X0(this,n)&&(e=uh(e,this.g.get(dp(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=uh(e,n[t])}return e},Ye.set=function(n,e){return vs(this),this.i=null,X0(this,n=dp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var ha=10;function Bg(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jg(n){return n.h?1:n.g?n.g.size:0}function w_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Hg(n,e){n.g?n.g.add(e):n.h=e}function nE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Th(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Yf(n.i)}function E_(){}function XI(){this.g=new E_}function b_(n,e,t){const r=t||"";try{y_(n,function(i,u){let c=i;Ya(i)&&(c=Pc(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function hp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $g(n){this.l=n.$b||null,this.j=n.ib||!1}function tu(n,e){Yn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=fp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}JI.prototype.cancel=function(){if(this.i=Th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},E_.prototype.stringify=function(n){return St.JSON.stringify(n,void 0)},E_.prototype.parse=function(n){return St.JSON.parse(n,void 0)},Mr($g,eu),$g.prototype.g=function(){return new tu(this.l,this.j)},$g.prototype.i=function(n){return function(){return n}}({}),Mr(tu,Yn);var fp=0;function I_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function pp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bc(n)}function Bc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=tu.prototype).open=function(n,e){if(this.readyState!=fp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bc(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||St).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pp(this)),this.readyState=fp},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bc(this)),this.g&&(this.readyState=3,Bc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof St.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pp(this):Bc(this),3==this.readyState&&I_(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,pp(this))},Ye.Ta=function(n){this.g&&(this.response=n,pp(this))},Ye.ha=function(){this.g&&pp(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(tu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eD=St.JSON.parse;function br(n){Yn.call(this),this.headers=new bh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rE,this.K=this.L=!1}Mr(br,Yn);var rE="",tD=/^https?$/i,nD=["POST","PUT"];function iE(n){return"content-type"==n.toLowerCase()}function Gg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,D_(n),qg(n)}function D_(n){n.D||(n.D=!0,ir(n,"complete"),ir(n,"error"))}function zg(n){if(n.h&&typeof oh<"u"&&(!n.C[1]||4!=fa(n)||2!=n.ba()))if(n.v&&4==fa(n))np(n.Fa,0,n);else if(ir(n,"readystatechange"),4==fa(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(Q0)[1]||null;if(!i&&St.self&&St.self.location){var u=St.self.location.protocol;i=u.substr(0,u.length-1)}r=!tD.test(i?i.toLowerCase():"")}t=r}if(t)ir(n,"complete"),ir(n,"success");else{n.m=6;try{var c=2<fa(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",D_(n)}}finally{qg(n)}}}function qg(n,e){if(n.g){sE(n);const t=n.g,r=n.C[0]?Ki:null;n.g=null,n.C=null,e||ir(n,"ready");try{t.onreadystatechange=r}catch{}}}function sE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(St.clearTimeout(n.A),n.A=null)}function fa(n){return n.g?n.g.readyState:0}function T_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case rE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Wg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function jc(n){let e="";return Dg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function Sh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function oE(n){this.za=0,this.l=[],this.h=new N,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Sh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Sh("baseRetryDelayMs",5e3,n),this.$a=Sh("retryDelaySeedMs",1e4,n),this.Ya=Sh("forwardChannelMaxRetries",2,n),this.ra=Sh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new JI(n&&n.concurrentRequestLimit),this.Ca=new XI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function aE(n){if(uE(n),3==n.G){var e=n.V++,t=Io(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),Ah(n,t),(e=new Vc(n,n.h,e,void 0)).K=2,e.v=Ug(Io(t)),t=!1,St.navigator&&St.navigator.sendBeacon&&(t=St.navigator.sendBeacon(e.v.toString(),"")),!t&&St.Image&&((new Image).src=e.v,t=!0),t||(e.g=A_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),op(e)}dE(n)}function Hc(n){n.g&&(_p(n),n.g.cancel(),n.g=null)}function uE(n){Hc(n),n.u&&(St.clearTimeout(n.u),n.u=null),Mh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&St.clearTimeout(n.m),n.m=null)}function Zg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&gp(n)}function gp(n){Bg(n.i)||n.m||(n.m=!0,_s(n.Ha,n),n.C=0)}function Kg(n,e){var t;t=e?e.m:n.V++;const r=Io(n.F);An(r,"SID",n.J),An(r,"RID",t),An(r,"AID",n.U),Ah(n,r),n.o&&n.s&&Wg(r,n.o,n.s),t=new Vc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=mp(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Hg(n.i,t),f_(t,r,e)}function Ah(n,e){n.j&&y_({},function(t,r){An(e,r,t)})}function mp(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Er(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let y=0;y<t;y++){let b=i[y].h;const T=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),p=!1;else try{b_(T,c,"req"+b+"_")}catch{r&&r(T)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function yp(n){n.g||n.u||(n.Y=1,_s(n.Ga,n),n.A=0)}function Yg(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Co(Er(n.Ga,n),cE(n,n.A)),n.A++,0))}function _p(n){null!=n.B&&(St.clearTimeout(n.B),n.B=null)}function S_(n){n.g=new Vc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Io(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),Ah(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&Wg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ug(Io(e)),t.s=null,t.U=!0,Lg(t,n)}function Mh(n){null!=n.v&&(St.clearTimeout(n.v),n.v=null)}function xh(n,e){var t=null;if(n.g==e){Mh(n),_p(n),n.g=null;var r=2}else{if(!w_(n.i,e))return;t=e.D,nE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ir(r=_i(),new ip(r,t,e,i)),gp(n)}else yp(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function lE(n,e){return!(jg(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Co(Er(n.Ha,n,e),cE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ml(n,5);break;case 4:ml(n,10);break;case 3:ml(n,6);break;default:ml(n,2)}}function cE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ml(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Er(n.jb,n);t||(t=new mr("//www.google.com/images/cleardot.gif"),St.location&&"http"==St.location.protocol||up(t,"https"),Ug(t)),function C_(n,e){const t=new N;if(St.Image){const r=new Image;r.onload=bc(hp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bc(hp,t,r,"TestLoadImage: error",!1,e),r.onabort=bc(hp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bc(hp,t,r,"TestLoadImage: timeout",!1,e),St.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $r(2);n.G=0,n.j&&n.j.va(e),dE(n),uE(n)}function dE(n){n.G=0,n.I=-1,n.j&&((0!=Th(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Yf(n.l),n.l.length=0),n.j.ua())}function hE(n,e,t){let r=function qI(n){return n instanceof mr?Io(n):new mr(n,void 0)}(t);if(""!=r.i)e&&Ch(r,e+"."+r.i),xr(r,r.m);else{const i=St.location;r=function J0(n,e,t,r){var i=new mr(null,void 0);return n&&up(i,n),e&&Ch(i,e),t&&xr(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Dg(n.aa,function(i,u){An(r,u,i)}),t=n.sa,(e=n.D)&&t&&An(r,e,t),An(r,"VER",n.ma),Ah(n,r),r}function A_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new br(t&&n.Ba&&!n.qa?new $g({ib:!0}):n.qa)).L=n.H,e}function Qg(){}function vp(){if(Dc&&!(10<=Number(ep)))throw Error("Environmental error: no available transport.")}function Gs(n,e){Yn.call(this),this.g=new oE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!js(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!js(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $c(this)}function M_(n){kg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fE(){Z0.call(this),this.status=1}function $c(n){this.g=n}(Ye=br.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():d_.g(),this.C=function Rg(n){return n.h||(n.h=n.i())}(this.u?this.u:d_),this.g.onreadystatechange=Er(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Gg(this,u)}n=t||"";const i=new bh(this.headers);r&&y_(r,function(u,c){i.set(c,u)}),r=function n_(n){e:{var e=iE;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=St.FormData&&n instanceof St.FormData,!(0<=wo(nD,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sE(this),0<this.B&&((this.K=function rD(n){return Dc&&function Kn(){return function ch(n){var e=Ag;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Qf(String(la)).split("."),t=Qf("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Eo(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Eo(0==i[2].length,0==u[2].length)||Eo(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Er(this.pa,this)):this.A=np(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Gg(this,u)}},Ye.pa=function(){typeof oh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ir(this,"complete"),ir(this,"abort"),qg(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qg(this,!0)),br.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?zg(this):this.cb())},Ye.cb=function(){zg(this)},Ye.ba=function(){try{return 2<fa(this)?this.g.status:-1}catch{return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eD(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=oE.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Vc(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=r_(u),lh(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=mp(this,i,e),An(t=Io(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),Ah(this,t),this.o&&u&&Wg(t,this.o,u),Hg(this.i,i),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),i.$=!0,f_(i,t,null)):f_(i,t,e),this.G=2}}else 3==this.G&&(n?Kg(this,n):0==this.l.length||Bg(this.i)||Kg(this))},Ye.Ga=function(){if(this.u=null,S_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Co(Er(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,$r(10),Hc(this),S_(this))},Ye.ab=function(){null!=this.v&&(this.v=null,Hc(this),Yg(this),$r(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),$r(2)):(this.h.info("Failed to ping google.com"),$r(1))},(Ye=Qg.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},vp.prototype.g=function(n,e){return new Gs(n,e)},Mr(Gs,Yn),Gs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),_s(Er(n.hb,n,e))),$r(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=hE(n,null,n.W),gp(n)},Gs.prototype.close=function(){aE(this.g)},Gs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Zg(this.g,e)}else this.v?((e={}).__data__=Pc(n),Zg(this.g,e)):Zg(this.g,n)},Gs.prototype.M=function(){this.g.j=null,delete this.j,aE(this.g),delete this.g,Gs.Z.M.call(this)},Mr(M_,kg),Mr(fE,Z0),Mr($c,Qg),$c.prototype.xa=function(){ir(this.g,"a")},$c.prototype.wa=function(n){ir(this.g,new M_(n))},$c.prototype.va=function(n){ir(this.g,new fE(n))},$c.prototype.ua=function(){ir(this.g,"b")},vp.prototype.createWebChannel=vp.prototype.g,Gs.prototype.send=Gs.prototype.u,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,vh.NO_ERROR=0,vh.TIMEOUT=8,vh.HTTP_ERROR=6,Pg.COMPLETE="complete",c_.EventType=pl,pl.OPEN="a",pl.CLOSE="b",pl.ERROR="c",pl.MESSAGE="d",Yn.prototype.listen=Yn.prototype.N,br.prototype.listenOnce=br.prototype.O,br.prototype.getLastError=br.prototype.La,br.prototype.getLastErrorCode=br.prototype.Da,br.prototype.getStatus=br.prototype.ba,br.prototype.getResponseJson=br.prototype.Qa,br.prototype.getResponseText=br.prototype.ga,br.prototype.send=br.prototype.ea;var iD=ms.createWebChannelTransport=function(){return new vp},sD=ms.getStatEventTarget=function(){return _i()},ws=ms.ErrorCode=vh,oD=ms.EventType=Pg,pE=ms.Event=ot,gE=ms.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},aD=ms.FetchXmlHttpFactory=$g,Jg=ms.WebChannel=c_,uD=ms.XhrIo=br;const x_="@firebase/firestore";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let Oh="9.9.4";const yl=new aa.Yd("@firebase/firestore");function Nt(){return yl.logLevel}function Ne(n,...e){if(yl.logLevel<=aa.in.DEBUG){const t=e.map(O_);yl.debug(`Firestore (${Oh}): ${n}`,...t)}}function ar(n,...e){if(yl.logLevel<=aa.in.ERROR){const t=e.map(O_);yl.error(`Firestore (${Oh}): ${n}`,...t)}}function Gc(n,...e){if(yl.logLevel<=aa.in.WARN){const t=e.map(O_);yl.warn(`Firestore (${Oh}): ${n}`,...t)}}function O_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${Oh}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function At(n,e){n||tt()}function We(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class N_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gr.UNAUTHENTICATED))}shutdown(){}}class lD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class P_{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Or,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,me.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Or)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new N_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Gr(e)}}class R_{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(At(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class cD{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new R_(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lM{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.A;return this.A=u.token,Ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.A=t.token,new dD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class k_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hD(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function Nh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function qc(n){return n+"\0"}class Hn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Hn.fromMillis(Date.now())}static fromDate(e){return Hn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Hn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Hn(0,0))}static max(){return new bt(new Hn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _l{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_l.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _l?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends _l{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const _E=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends _l{construct(e,t,r){return new ur(e,t,r)}static isValidIdentifier(e){return _E.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Oe(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Oe(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Oe(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(t)}static emptyPath(){return new ur([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(tn.fromString(e))}static fromName(e){return new Ge(tn.fromString(e).popFirst(5))}static empty(){return new Ge(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new tn(e.slice()))}}class Xg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function F_(n){return n.fields.find(e=>2===e.kind)}function Wc(n){return n.fields.filter(e=>2!==e.kind)}Xg.UNKNOWN_ID=-1;class em{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ph{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ph(0,xi.min())}}function tm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new Hn(t+1,0):new Hn(t,r));return new xi(i,Ge.empty(),e)}function fD(n){return new xi(n.readTime,n.key,-1)}class xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xi(bt.min(),Ge.empty(),-1)}static max(){return new xi(bt.max(),Ge.empty(),-1)}}function L_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:kt(n.largestBatchId,e.largestBatchId))}const pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function nu(n){return nm.apply(this,arguments)}function nm(){return nm=(0,me.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==pD)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),nm.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const u=e.length,c=new Array(u);let p=0;for(let y=0;y<u;y++){const b=y;t(e[b]).next(T=>{c[b]=T,++p,p===u&&r(c)},T=>i(T))}})}static doWhile(e,t){return new ie((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class Yi{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Or,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Kc(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=EE(r.target.error);this.P.reject(new Kc(e,i))}}static open(e,t,r,i){try{return new Yi(t,e.transaction(i,r))}catch(u){throw new Kc(t,u)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new V_(t)}}class zs{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===zs.D((0,jt.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),vl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,jt.hl)())return!1;if(zs.N())return!0;const e=(0,jt.z$)(),t=zs.D(e),r=0<t&&t<10,i=zs.k(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,me.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new Kc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Oe(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Oe(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Kc(e,p))},u.onupgradeneeded=c=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,me.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.F(e);const y=Yi.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(T=>(y.V(),T)).catch(T=>(y.abort(T),ie.reject(T))).toPromise();return b.catch(()=>{}),yield y.v,b}catch(y){const b=y,T="FirebaseError"!==b.name&&p<3;if(Ne("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),u.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gD{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return vl(this.U.delete())}}class Kc extends Oe{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vi(n){return"IndexedDbTransactionError"===n.name}class V_{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vl(r)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),vl(this.store.add(e))}get(e){return vl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),vl(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),vl(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.H(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ie((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ie((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Y(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(u,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new ie((r,i)=>{t.onerror=u=>{const c=EE(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}H(e,t){const r=[];return new ie((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new gD(p),b=t(p.primaryKey,p.value,y);if(b instanceof ie){const T=b.catch(M=>(y.done(),ie.reject(M)));r.push(T)}y.isDone?i():null===y.G?p.continue():p.continue(y.G)}}).next(()=>ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vl(n){return new ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=EE(r.target.error);t(i)}})}let rm=!1;function EE(n){const e=zs.D((0,jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rm||(rm=!0,setTimeout(()=>{throw r},0)),r}}return n}class bE{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,me.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){vi(r)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield nu(r)}yield t.nt(1)}))}}class cM{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,me.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,u=!0;return ie.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ne("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,i).next(p=>{i-=p,r.add(c)});u=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(i,u)).next(p=>(Ne("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,u)=>{const c=fD(u);L_(c,r)>0&&(r=c)}),new xi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class si{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function wp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ru(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function im(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}si.at=-1;class $n{constructor(e,t){this.comparator=e,this.root=t||oi.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oi.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new U_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new U_(this.root,e,this.comparator,!1)}getReverseIterator(){return new U_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new U_(this.root,e,this.comparator,!0)}}class U_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oi{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??oi.RED,this.left=i??oi.EMPTY,this.right=u??oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new oi(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}oi.EMPTY=null,oi.RED=!0,oi.BLACK=!1,oi.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _n{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _n(this.comparator);return t.data=e,t}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Rh(n){return n.hasNext()?n.getNext():void 0}class Qi{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new Qi([])}unionWith(e){let t=new _n(ur.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const hM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iu(n){if(At(!!n),"string"==typeof n){let e=0;const t=hM.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qn(n.seconds),nanos:Qn(n.nanos)}}function Qn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yc(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function Ep(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function mD(n){const e=n.mapValue.fields.__previous_value__;return Ep(e)?mD(e):e}function sm(n){const e=iu(n.mapValue.fields.__local_write_time__.timestampValue);return new Hn(e.seconds,e.nanos)}class fM{constructor(e,t,r,i,u,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class Qc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}function om(n){return null==n}function am(n){return 0===n&&1/n==-1/0}function yD(n){return"number"==typeof n&&Number.isInteger(n)&&!am(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},B_={nullValue:"NULL_VALUE"};function kh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ep(n)?4:DE(n)?9007199254740991:10:tt()}function ai(n,e){if(n===e)return!0;const t=kh(n);if(t!==kh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sm(n).isEqual(sm(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=iu(r.timestampValue),c=iu(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Yc(n.bytesValue).isEqual(Yc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Qn(r.geoPointValue.latitude)===Qn(i.geoPointValue.latitude)&&Qn(r.geoPointValue.longitude)===Qn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Qn(r.integerValue)===Qn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Qn(r.doubleValue),c=Qn(i.doubleValue);return u===c?am(u)===am(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Nh(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(wp(u)!==wp(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!ai(u[p],c[p])))return!1;return!0}(n,e);default:return tt()}var i}function Xc(n,e){return void 0!==(n.values||[]).find(t=>ai(t,e))}function wl(n,e){if(n===e)return 0;const t=kh(n),r=kh(e);if(t!==r)return kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Qn(i.integerValue||i.doubleValue),p=Qn(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return j_(n.timestampValue,e.timestampValue);case 4:return j_(sm(n),sm(e));case 5:return kt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Yc(i),p=Yc(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let y=0;y<c.length&&y<p.length;y++){const b=kt(c[y],p[y]);if(0!==b)return b}return kt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=kt(Qn(i.latitude),Qn(u.latitude));return 0!==c?c:kt(Qn(i.longitude),Qn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let y=0;y<c.length&&y<p.length;++y){const b=wl(c[y],p[y]);if(b)return b}return kt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Jc.mapValue&&u===Jc.mapValue)return 0;if(i===Jc.mapValue)return 1;if(u===Jc.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const M=kt(p[T],b[T]);if(0!==M)return M;const F=wl(c[p[T]],y[b[T]]);if(0!==F)return F}return kt(p.length,b.length)}(n.mapValue,e.mapValue);default:throw tt()}}function j_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return kt(n,e);const t=iu(n),r=iu(e),i=kt(t.seconds,r.seconds);return 0!==i?i:kt(t.nanos,r.nanos)}function El(n){return um(n)}function um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=iu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yc(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=um(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${um(r.fields[p])}`;return u+"}"}(n.mapValue):tt();var e}function su(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function H_(n){return!!n&&"integerValue"in n}function qs(n){return!!n&&"arrayValue"in n}function $_(n){return!!n&&"nullValue"in n}function IE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lm(n){return!!n&&"mapValue"in n}function Fh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ru(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _D(n){return"nullValue"in n?B_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?su(Qc.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:tt()}function cm(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?su(Qc.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Jc:tt()}function ed(n,e){const t=wl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dm(n,e){const t=wl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!lm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fh(t)}setAll(e){let t=ur.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=Fh(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());lm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];lm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ru(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new lr(Fh(this.value))}}function bp(n){const e=[];return ru(n.fields,(t,r)=>{const i=new ur([t]);if(lm(r)){const u=bp(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Qi(e)}class hn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new hn(e,0,bt.min(),bt.min(),lr.empty(),0)}static newFoundDocument(e,t,r){return new hn(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new hn(e,2,t,bt.min(),lr.empty(),0)}static newUnknownDocument(e,t){return new hn(e,3,t,bt.min(),lr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vD{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.ht=null}}function G_(n,e=null,t=[],r=[],i=null,u=null,c=null){return new vD(n,e,t,r,i,u,c)}function bl(n){const e=We(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+El(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),om(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>El(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>El(r)).join(",")),e.ht=t}return e.ht}function td(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!W_(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ai(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xE(n.startAt,e.startAt)&&xE(n.endAt,e.endAt)}function Cp(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lh(n,e){return n.filters.filter(t=>t instanceof ui&&t.field.isEqual(e))}function TE(n,e,t){let r=B_,i=!0;for(const u of Lh(n,e)){let c=B_,p=!0;switch(u.op){case"<":case"<=":c=_D(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,p=!1;break;case"!=":case"not-in":c=B_}ed({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];ed({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function wD(n,e,t){let r=Jc,i=!0;for(const u of Lh(n,e)){let c=Jc,p=!0;switch(u.op){case">=":case">":c=cm(u.value),p=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,p=!1;break;case"!=":case"not-in":c=Jc}dm({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];dm({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class ui extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new SE(e,t,r):"array-contains"===t?new bD(e,r):"in"===t?new Es(e,r):"not-in"===t?new ME(e,r):"array-contains-any"===t?new CD(e,r):new ui(e,t,r)}static lt(e,t,r){return"in"===t?new ED(e,r):new AE(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(wl(t,this.value)):null!==t&&kh(this.value)===kh(t)&&this.ft(wl(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class SE extends ui{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.ft(t)}}class ED extends ui{constructor(e,t){super(e,"in",t),this.keys=q_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AE extends ui{constructor(e,t){super(e,"not-in",t),this.keys=q_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class bD extends ui{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qs(t)&&Xc(t.arrayValue,this.value)}}class Es extends ui{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Xc(this.value.arrayValue,t)}}class ME extends ui{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Xc(this.value.arrayValue,t)}}class CD extends ui{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}}class nd{constructor(e,t){this.position=e,this.inclusive=t}}class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function W_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Z_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ge.comparator(Ge.fromName(c.referenceValue),t.key):wl(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function xE(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}class ou{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=y,this._t=null,this.wt=null}}function OE(n,e,t,r,i,u,c,p){return new ou(n,e,t,r,i,u,c,p)}function rd(n){return new ou(n)}function NE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function K_(n){for(const e of n.filters)if(e.dt())return e.field;return null}function Y_(n){return null!==n.collectionGroup}function id(n){const e=We(n);if(null===e._t){e._t=[];const t=K_(e),r=hm(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new Vh(t)),e._t.push(new Vh(ur.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e._t.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Vh(ur.keyField(),u))}}}return e._t}function Oi(n){const e=We(n);if(!e.wt)if("F"===e.limitType)e.wt=G_(e.path,e.collectionGroup,id(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of id(e))t.push(new Vh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new nd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new nd(e.startAt.position,e.startAt.inclusive):null;e.wt=G_(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function fm(n,e,t){return new ou(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ji(n,e){return td(Oi(n),Oi(e))&&n.limitType===e.limitType}function pm(n){return`${bl(Oi(n))}|lt:${n.limitType}`}function Q_(n){return`Query(target=${function z_(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${El(r.value)}`;var r}).join(", ")}]`),om(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>El(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>El(t)).join(",")),`Target(${e})`}(Oi(n))}; limitType=${n.limitType})`}function J_(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=Z_(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,id(t),r)||t.endAt&&!function(i,u,c){const p=Z_(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,id(t),r)));var t,r}function ID(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X_(n){return(e,t)=>{let r=!1;for(const i of id(n)){const u=DD(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function DD(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),y=c.data.field(i);return null!==p&&null!==y?wl(p,y):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function PE(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function RE(n){return{integerValue:""+n}}function gm(n,e){return yD(e)?RE(e):PE(n,e)}class mm{constructor(){this._=void 0}}function TD(n,e,t){return n instanceof Uh?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof au?ev(n,e):n instanceof Bh?SD(n,e):function(r,i){const u=_m(r,i),c=AD(u)+AD(r.yt);return H_(u)&&H_(r.yt)?RE(c):PE(r.It,c)}(n,e)}function ym(n,e,t){return n instanceof au?ev(n,e):n instanceof Bh?SD(n,e):t}function _m(n,e){return n instanceof Cl?H_(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Uh extends mm{}class au extends mm{constructor(e){super(),this.elements=e}}function ev(n,e){const t=tv(e);for(const r of n.elements)t.some(i=>ai(i,r))||t.push(r);return{arrayValue:{values:t}}}class Bh extends mm{constructor(e){super(),this.elements=e}}function SD(n,e){let t=tv(e);for(const r of n.elements)t=t.filter(i=>!ai(i,r));return{arrayValue:{values:t}}}class Cl extends mm{constructor(e,t){super(),this.It=e,this.yt=t}}function AD(n){return Qn(n.integerValue||n.doubleValue)}function tv(n){return qs(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jh{constructor(e,t){this.field=e,this.transform=t}}class FE{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ws(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class sd{}function Ip(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Gh(n.key,Mn.none()):new Hh(n.key,n.data,Mn.none());{const t=n.data,r=lr.empty();let i=new _n(ur.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new uu(n.key,r,new Qi(i.toArray()),Mn.none())}}function Dp(n,e,t){n instanceof Hh?function(r,i,u){const c=r.value.clone(),p=LE(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof uu?function(r,i,u){if(!Ws(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=LE(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll($h(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tp(n,e,t,r){return n instanceof Hh?function(i,u,c,p){if(!Ws(i.precondition,u))return c;const y=i.value.clone(),b=MD(i.fieldTransforms,p,u);return y.setAll(b),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof uu?function(i,u,c,p){if(!Ws(i.precondition,u))return c;const y=MD(i.fieldTransforms,p,u),b=u.data;return b.setAll($h(i)),b.setAll(y),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,Ws(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function nv(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=_m(r.transform,i||null);null!=u&&(null===t&&(t=lr.empty()),t.set(r.field,u))}return t||null}function rv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Nh(t,r,(i,u)=>function kE(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof au&&r instanceof au||t instanceof Bh&&r instanceof Bh?Nh(t.elements,r.elements,ai):t instanceof Cl&&r instanceof Cl?ai(t.yt,r.yt):t instanceof Uh&&r instanceof Uh);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Hh extends sd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class uu extends sd{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $h(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function LE(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,ym(c,p,t[i]))}return r}function MD(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,TD(u,c,e))}return r}class Gh extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VE extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class xD{constructor(e){this.count=e}}var Cr,nn;function UE(n){switch(n){default:return tt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function iv(n){if(void 0===n)return ar("GRPC error has no .code"),de.UNKNOWN;switch(n){case Cr.OK:return de.OK;case Cr.CANCELLED:return de.CANCELLED;case Cr.UNKNOWN:return de.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return de.INTERNAL;case Cr.UNAVAILABLE:return de.UNAVAILABLE;case Cr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Cr.NOT_FOUND:return de.NOT_FOUND;case Cr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Cr.ABORTED:return de.ABORTED;case Cr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Cr.DATA_LOSS:return de.DATA_LOSS;default:return tt()}}(nn=Cr||(Cr={}))[nn.OK=0]="OK",nn[nn.CANCELLED=1]="CANCELLED",nn[nn.UNKNOWN=2]="UNKNOWN",nn[nn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nn[nn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nn[nn.NOT_FOUND=5]="NOT_FOUND",nn[nn.ALREADY_EXISTS=6]="ALREADY_EXISTS",nn[nn.PERMISSION_DENIED=7]="PERMISSION_DENIED",nn[nn.UNAUTHENTICATED=16]="UNAUTHENTICATED",nn[nn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nn[nn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nn[nn.ABORTED=10]="ABORTED",nn[nn.OUT_OF_RANGE=11]="OUT_OF_RANGE",nn[nn.UNIMPLEMENTED=12]="UNIMPLEMENTED",nn[nn.INTERNAL=13]="INTERNAL",nn[nn.UNAVAILABLE=14]="UNAVAILABLE",nn[nn.DATA_LOSS=15]="DATA_LOSS";class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ru(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return im(this.inner)}size(){return this.innerSize}}const OD=new $n(Ge.comparator);function wi(){return OD}const BE=new $n(Ge.comparator);function Sp(...n){let e=BE;for(const t of n)e=e.insert(t.key,t);return e}function jE(n){let e=BE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ga(){return Ap()}function HE(){return Ap()}function Ap(){return new pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const vm=new $n(Ge.comparator),od=new _n(Ge.comparator);function Lt(...n){let e=od;for(const t of n)e=e.add(t);return e}const Mp=new _n(kt);function wm(){return Mp}class xp{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,t)),new xp(bt.min(),r,wm(),wi(),Lt())}}class ad{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ad(Nr.EMPTY_BYTE_STRING,t,Lt(),Lt(),Lt())}}class Em{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class Do{constructor(e,t){this.targetId=e,this.At=t}}class zh{constructor(e,t,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class li{constructor(){this.Rt=0,this.bt=bs(),this.Pt=Nr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Lt(),t=Lt(),r=Lt();return this.bt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:tt()}}),new ad(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=bs()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class ud{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=wi(),this.qt=Op(),this.Kt=new _n(kt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const u=i.target;if(Cp(u))if(0===r){const c=new Ge(u.path);this.jt(t,c,hn.newNoDocument(c,bt.min()))}else At(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((u,c)=>{const p=this.Xt(c);if(p){if(u.current&&Cp(p.target)){const y=new Ge(p.target.path);null!==this.Ut.get(y)||this.ee(c,y)||this.jt(c,y,hn.newNoDocument(y,e))}u.Dt&&(t.set(c,u.xt()),u.Nt())}});let r=Lt();this.qt.forEach((u,c)=>{let p=!0;c.forEachWhile(y=>{const b=this.Xt(y);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.Ut.forEach((u,c)=>c.setReadTime(e));const i=new xp(e,t,this.Kt,this.Ut,r);return this.Ut=wi(),this.qt=Op(),this.Kt=new _n(kt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new li,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new _n(kt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new li),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function Op(){return new $n(Ge.comparator)}function bs(){return new $n(Ge.comparator)}const sv={asc:"ASCENDING",desc:"DESCENDING"},qh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Wh{constructor(e,t){this.databaseId=e,this.gt=t}}function ma(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ld(n,e){return n.gt?e.toBase64():e.toUint8Array()}function Zh(n,e){return ma(n,e.toTimestamp())}function Jn(n){return At(!!n),bt.fromTimestamp(function(e){const t=iu(e);return new Hn(t.seconds,t.nanos)}(n))}function Il(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cd(n){const e=tn.fromString(n);return At(fv(e)),e}function ya(n,e){return Il(n.databaseId,e.path)}function To(n,e){const t=cd(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(av(t))}function bm(n,e){return Il(n.databaseId,e)}function ov(n){const e=cd(n);return 4===e.length?tn.emptyPath():av(e)}function Kh(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function av(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function uv(n,e,t){return{name:ya(n,e),fields:t.value.mapValue.fields}}function lv(n,e,t){const r=To(n,e.name),i=Jn(e.updateTime),u=new lr({mapValue:{fields:e.fields}}),c=hn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Np(n,e){let t;if(e instanceof Hh)t={update:uv(n,e.key,e.value)};else if(e instanceof Gh)t={delete:ya(n,e.key)};else if(e instanceof uu)t={update:uv(n,e.key,e.data),updateMask:ZE(e.fieldMask)};else{if(!(e instanceof VE))return tt();t={verify:ya(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Uh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof au)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Cl)return{fieldPath:u.field.canonicalString(),increment:c.yt};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Zh(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:tt()),t;var i}function cv(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Mn.updateTime(Jn(i.updateTime)):void 0!==i.exists?Mn.exists(i.exists):Mn.none():Mn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(At("REQUEST_TIME"===c.setToServerValue),p=new Uh):"appendMissingElements"in c?p=new au(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Bh(c.removeAllFromArray.values||[]):"increment"in c?p=new Cl(u,c.increment):tt();const y=ur.fromServerFormat(c.fieldPath);return new jh(y,p)}(n,i)):[];var i;if(e.update){const i=To(n,e.update.name),u=new lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Qi((e.updateMask.fieldPaths||[]).map(b=>ur.fromServerFormat(b)));return new uu(i,u,c,t,r)}return new Hh(i,u,t,r)}if(e.delete){const i=To(n,e.delete);return new Gh(i,t)}if(e.verify){const i=To(n,e.verify);return new VE(i,t)}return tt()}function qE(n,e){return{documents:[bm(n,e.path)]}}function dv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(T=>function(M){if("=="===M.op){if(IE(M.value))return{unaryFilter:{field:Dl(M.field),op:"IS_NAN"}};if($_(M.value))return{unaryFilter:{field:Dl(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(IE(M.value))return{unaryFilter:{field:Dl(M.field),op:"IS_NOT_NAN"}};if($_(M.value))return{unaryFilter:{field:Dl(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(M.field),op:Dm(M.op),value:M.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:Dl((T=b).field),direction:Im(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.gt||om(b)?b:{value:b});var b,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function Cm(n){let e=ov(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=WE(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Vh(Yh((M=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(T){let M;return M="object"==typeof T?T.value:T,om(M)?null:M}(t.limit));let y=null;var T;t.startAt&&(y=new nd((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new nd(T.values||[],!T.before)}(t.endAt)),OE(e,i,c,u,p,"F",y,b)}function WE(n){return n?void 0!==n.unaryFilter?[Sm(n)]:void 0!==n.fieldFilter?[Tm(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>WE(e)).reduce((e,t)=>e.concat(t)):tt():[]}function Im(n){return sv[n]}function Dm(n){return qh[n]}function Dl(n){return{fieldPath:n.canonicalString()}}function Yh(n){return ur.fromServerFormat(n.fieldPath)}function Tm(n){return ui.create(Yh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Sm(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Yh(n.unaryFilter.field);return ui.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Yh(n.unaryFilter.field);return ui.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yh(n.unaryFilter.field);return ui.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yh(n.unaryFilter.field);return ui.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function ZE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pv(e)),e=KE(n.get(t),e);return pv(e)}function KE(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function pv(n){return n+"\x01\x01"}function Zs(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&tt(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:tt()}u=c+2}return new tn(r)}const gv=["userId","batchId"];function Am(n,e){return[n,ci(e)]}function mv(n,e,t){return[n,ci(e),t]}const YE={},QE=["prefixPath","collectionGroup","readTime","documentId"],JE=["prefixPath","collectionGroup","documentId"],ND=["collectionGroup","readTime","prefixPath","documentId"],PD=["canonicalId","targetId"],RD=["targetId","path"],XE=["path","targetId"],yv=["collectionId","parent"],eb=["indexId","uid"],tb=["uid","sequenceNumber"],nb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rb=["indexId","uid","orderedDocumentKey"],ib=["userId","collectionPath","documentId"],sb=["userId","collectionPath","largestBatchId"],ob=["userId","collectionGroup","largestBatchId"],_v=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pM=[..._v,"documentOverlays"],ab=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ub=ab,lb=[...ub,"indexConfiguration","indexState","indexEntries"];class vv extends Zc{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Wt(n,e){const t=We(n);return zs.O(t.ie,e)}class Mm{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&Dp(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=HE();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let p=this.applyToLocalView(c,u.mutatedFields);p=t.has(i.key)?null:p;const y=Ip(c,p);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Nh(this.mutations,e.mutations,(t,r)=>rv(t,r))&&Nh(this.baseMutations,e.baseMutations,(t,r)=>rv(t,r))}}class wv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=vm;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new wv(e,t,r,i)}}class Ev{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lu{constructor(e,t,r,i,u=bt.min(),c=bt.min(),p=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cb{constructor(e){this.re=e}}function bv(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cu(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ya(i=n.re,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ma(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:dd(e.version)};else{if(!e.isUnknownDocument())return tt();r.unknownDocument={path:t.path.toArray(),version:dd(e.version)}}var i,u;return r}function cu(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function dd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function hd(n){const e=new Hn(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function Tl(n,e){const t=(e.baseMutations||[]).map(u=>cv(n.re,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>cv(n.re,u)),i=Hn.fromMillis(e.localWriteTimeMs);return new Mm(e.batchId,i,t,r)}function Pp(n){const e=hd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?hd(n.lastLimboFreeSnapshotVersion):bt.min();let r;var i;return void 0!==n.query.documents?(At(1===(i=n.query).documents.length),r=Oi(rd(ov(i.documents[0])))):r=Oi(Cm(n.query)),new lu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Nr.fromBase64String(n.resumeToken))}function Cv(n,e){const t=dd(e.snapshotVersion),r=dd(e.lastLimboFreeSnapshotVersion);let i;i=Cp(e.target)?qE(n.re,e.target):dv(n.re,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bl(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function hb(n){const e=Cm({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fm(e,e.limit,"L"):e}function Rp(n,e){return new Ev(e.largestBatchId,cv(n.re,e.overlayMutation))}function xm(n,e){const t=e.path.lastSegment();return[n,ci(e.path.popLast()),t]}function So(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:dd(r.readTime),documentKey:ci(r.documentKey.path),largestBatchId:r.largestBatchId}}class kD{getBundleMetadata(e,t){return Iv(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:hd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return Iv(e).put({bundleId:(r=t).id,createTime:dd(Jn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Ao(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:hb(i.bundledQuery),readTime:hd(i.readTime)};var i})}saveNamedQuery(e,t){return Ao(e).put({name:(r=t).name,readTime:dd(Jn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Iv(n){return Wt(n,"bundles")}function Ao(n){return Wt(n,"namedQueries")}class Xi{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Xi(e,t.uid||"")}getOverlay(e,t){return Ni(e).get(xm(this.userId,t)).next(r=>r?Rp(this.It,r):null)}getOverlays(e,t){const r=ga();return ie.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new Ev(t,c);i.push(this.ue(e,p))}),ie.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ci(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(Ni(e).Y("collectionPathOverlayIndex",p))}),ie.waitFor(u)}getOverlaysForCollection(e,t,r){const i=ga(),u=ci(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Ni(e).W("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const b=Rp(this.It,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=ga();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ni(e).Z({index:"collectionGroupOverlayIndex",range:p},(y,b,T)=>{const M=Rp(this.It,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):T.done()}).next(()=>u)}ue(e,t){return Ni(e).put(function(r,i,u){const[c,p,y]=xm(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Np(r.re,u.mutation)}}(this.It,this.userId,t))}}function Ni(n){return Wt(n,"documentOverlays")}class Sl{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Qn(e.integerValue));else if("doubleValue"in e){const r=Qn(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),am(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Yc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?DE(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):tt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Ge.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function fb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function pb(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=fb(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Sl.Te=new Sl;class FD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=pb(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=pb(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class LD{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class VD{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class fd{constructor(){this.Be=new FD,this.Le=new LD(this.Be),this.Ue=new VD(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Mo{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Mo(this.indexId,this.documentKey,this.arrayValue,r)}}function pd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Dv(n.arrayValue,e.arrayValue),0!==t?t:(t=Dv(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function Dv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class UD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=F_(e);if(void 0!==t&&!this.ze(t))return!1;const r=Wc(e);let i=0,u=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const c=r[i];if(!this.He(this.je,c)||!this.Je(this.Ge[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Ge.length||!this.Je(this.Ge[u++],c))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class gb{constructor(){this.Ye=new Om}addToCollectionParentIndex(e,t){return this.Ye.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(xi.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Om{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new _n(tn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _n(tn.comparator)).toArray()}}const gd=new Uint8Array(0);class BD{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Om,this.Ze=new pa(r=>bl(r),(r,i)=>td(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const u={collectionId:r,parent:ci(i)};return Tv(e).put(u)}return ie.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[qc(t),""],!1,!0);return Tv(e).W(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(Zs(c.parent))}return r})}addFieldIndex(e,t){const r=Jh(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const u=r.add(i);if(t.indexState){const c=Al(e);return u.next(p=>{c.put(So(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Jh(e),i=Al(e),u=Qh(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Qh(e);let i=!0;const u=new Map;return ie.forEach(this.tn(t),c=>this.en(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=Lt();const p=[];return ie.forEach(u,(y,b)=>{var T;Ne("IndexedDbIndexManager",`Using index ${T=y,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${bl(t)}`);const M=function(pt,it){const Tt=F_(it);if(void 0===Tt)return null;for(const Mt of Lh(pt,Tt.fieldPath))switch(Mt.op){case"array-contains-any":return Mt.value.arrayValue.values||[];case"array-contains":return[Mt.value]}return null}(b,y),F=function(pt,it){const Tt=new Map;for(const Mt of Wc(it))for(const on of Lh(pt,Mt.fieldPath))switch(on.op){case"==":case"in":Tt.set(Mt.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return Tt.set(Mt.fieldPath.canonicalString(),on.value),Array.from(Tt.values())}return null}(b,y),V=function(pt,it){const Tt=[];let Mt=!0;for(const on of Wc(it)){const Is=0===on.kind?TE(pt,on.fieldPath,pt.startAt):wD(pt,on.fieldPath,pt.startAt);Tt.push(Is.value),Mt&&(Mt=Is.inclusive)}return new nd(Tt,Mt)}(b,y),j=function(pt,it){const Tt=[];let Mt=!0;for(const on of Wc(it)){const Is=0===on.kind?wD(pt,on.fieldPath,pt.endAt):TE(pt,on.fieldPath,pt.endAt);Tt.push(Is.value),Mt&&(Mt=Is.inclusive)}return new nd(Tt,Mt)}(b,y),re=this.nn(y,b,V),Ee=this.nn(y,b,j),Le=this.sn(y,b,F),Je=this.rn(y.indexId,M,re,V.inclusive,Ee,j.inclusive,Le);return ie.forEach(Je,pt=>r.J(pt,t.limit).next(it=>{it.forEach(Tt=>{const Mt=Ge.fromSegments(Tt.documentKey);c.has(Mt)||(c=c.add(Mt),p.push(Mt))})}))}).next(()=>p)}return ie.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,u,c,p){const y=(null!=t?t.length:1)*Math.max(r.length,u.length),b=y/(null!=t?t.length:1),T=[];for(let M=0;M<y;++M){const F=t?this.on(t[M/b]):gd,V=this.un(e,F,r[M%b],i),j=this.cn(e,F,u[M%b],c),re=p.map(Ee=>this.un(e,F,Ee,!0));T.push(...this.createRange(V,j,re))}return T}un(e,t,r,i){const u=new Mo(e,Ge.empty(),t,r);return i?u:u.Ke()}cn(e,t,r,i){const u=new Mo(e,Ge.empty(),t,r);return i?u.Ke():u}en(e,t){const r=new UD(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const p of u)r.We(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;return ie.forEach(this.tn(t),i=>this.en(e,i).next(u=>{u?0!==r&&u.fields.length<function(c){let p=new _n(ur.comparator),y=!1;for(const b of c.filters){const T=b;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?y=!0:p=p.add(T.field))}for(const b of c.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(y?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new fd;for(const i of Wc(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.qe(i.kind);Sl.Te.ce(u,c)}return r.$e()}on(e){const t=new fd;return Sl.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new fd;return Sl.Te.ce(su(this.databaseId,t),r.qe(function(i){const u=Wc(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new fd);let u=0;for(const c of Wc(e)){const p=r[u++];for(const y of i)if(this.ln(t,c.fieldPath)&&qs(p))i=this.fn(i,c,p);else{const b=y.qe(c.kind);Sl.Te.ce(p,b)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new fd;y.seed(p.$e()),Sl.Te.ce(c,y.qe(t.kind)),u.push(y)}return u}ln(e,t){return!!e.filters.find(r=>r instanceof ui&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Jh(e),i=Al(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(u=>{const c=[];return ie.forEach(u,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(b,T){const M=T?new Ph(T.sequenceNumber,new xi(hd(T.readTime),new Ge(Zs(T.documentKey)),T.largestBatchId)):Ph.empty(),F=b.fields.map(([V,j])=>new em(ur.fromServerFormat(V),j));return new Xg(b.indexId,b.collectionGroup,F,M)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:kt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Jh(e),u=Al(e);return this._n(e).next(c=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>ie.forEach(p,y=>u.put(So(y.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ie.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?ie.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),ie.forEach(p,y=>this.wn(e,i,y).next(b=>{const T=this.mn(u,y);return b.isEqual(T)?ie.resolve():this.gn(e,u,y,b,T)}))))})}yn(e,t,r,i){return Qh(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Qh(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Qh(e);let u=new _n(pd);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(c,p)=>{u=u.add(new Mo(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}mn(e,t){let r=new _n(pd);const i=this.an(t,e);if(null==i)return r;const u=F_(t);if(null!=u){const c=e.data.field(u.fieldPath);if(qs(c))for(const p of c.arrayValue.values||[])r=r.add(new Mo(t.indexId,e.key,this.on(p),i))}else r=r.add(new Mo(t.indexId,e.key,gd,i));return r}gn(e,t,r,i,u){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,y,b,T,M){const F=p.getIterator(),V=y.getIterator();let j=Rh(F),re=Rh(V);for(;j||re;){let Ee=!1,Le=!1;if(j&&re){const Je=b(j,re);Je<0?Le=!0:Je>0&&(Ee=!0)}else null!=j?Le=!0:Ee=!0;Ee?(T(re),re=Rh(V)):Le?(M(j),j=Rh(F)):(j=Rh(F),re=Rh(V))}}(i,u,pd,p=>{c.push(this.yn(e,t,r,p))},p=>{c.push(this.pn(e,t,r,p))}),ie.waitFor(c)}_n(e){let t=1;return Al(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>pd(c,p)).filter((c,p,y)=>!p||0!==pd(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=pd(c,e),y=pd(c,t);if(0===p)i[0]=e.Ke();else if(p>0&&y<0)i.push(c),i.push(c.Ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,gd,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,gd,[]]));return u}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Sv)}getMinOffset(e,t){return ie.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||tt())).next(Sv)}}function Tv(n){return Wt(n,"collectionParents")}function Qh(n){return Wt(n,"indexEntries")}function Jh(n){return Wt(n,"indexConfiguration")}function Al(n){return Wt(n,"indexState")}function Sv(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;L_(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xi(e.readTime,e.documentKey,t)}const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mv(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Z({range:c},(T,M,F)=>(p++,F.delete()));u.push(y.next(()=>{At(1===p)}));const b=[];for(const T of t.mutations){const M=mv(e,T.key.path,t.batchId);u.push(i.delete(M)),b.push(T.key)}return ie.waitFor(u).next(()=>b)}function kp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(41943040,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);class Fp{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){At(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Fp(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return du(e).Z({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Xh(e),c=du(e);return c.add({}).next(p=>{At("number"==typeof p);const y=new Mm(p,t,r,i),b=function(F,V,j){const re=j.baseMutations.map(Le=>Np(F.re,Le)),Ee=j.mutations.map(Le=>Np(F.re,Le));return{userId:V,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:re,mutations:Ee}}(this.It,this.userId,y),T=[];let M=new _n((F,V)=>kt(F.canonicalString(),V.canonicalString()));for(const F of i){const V=mv(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),T.push(c.put(b)),T.push(u.put(V,YE))}return M.forEach(F=>{T.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.In[p]=y.keys()}),ie.waitFor(T).next(()=>y)})}lookupMutationBatch(e,t){return du(e).get(t).next(r=>r?(At(r.userId===this.userId),Tl(this.It,r)):null)}Tn(e,t){return this.In[t]?ie.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return du(e).Z({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(At(p.batchId>=r),u=Tl(this.It,p)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return du(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return du(e).W("userMutationsIndex",t).next(r=>r.map(i=>Tl(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Am(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Xh(e).Z({range:i},(c,p,y)=>{const[b,T,M]=c,F=Zs(T);if(b===this.userId&&t.path.isEqual(F))return du(e).get(M).next(V=>{if(!V)throw tt();At(V.userId===this.userId),u.push(Tl(this.It,V))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(kt);const i=[];return t.forEach(u=>{const c=Am(this.userId,u.path),p=IDBKeyRange.lowerBound(c),y=Xh(e).Z({range:p},(b,T,M)=>{const[F,V,j]=b,re=Zs(V);F===this.userId&&u.path.isEqual(re)?r=r.add(j):M.done()});i.push(y)}),ie.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=Am(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new _n(kt);return Xh(e).Z({range:c},(y,b,T)=>{const[M,F,V]=y,j=Zs(F);M===this.userId&&r.isPrefixOf(j)?j.length===i&&(p=p.add(V)):T.done()}).next(()=>this.En(e,p))}En(e,t){const r=[],i=[];return t.forEach(u=>{i.push(du(e).get(u).next(c=>{if(null===c)throw tt();At(c.userId===this.userId),r.push(Tl(this.It,c))}))}),ie.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Mv(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Xh(e).Z({range:r},(u,c,p)=>{if(u[0]===this.userId){const y=Zs(u[1]);i.push(y)}else p.done()}).next(()=>{At(0===i.length)})})}containsKey(e,t){return xv(e,this.userId,t)}Rn(e){return mb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function xv(n,e,t){const r=Am(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Xh(n).Z({range:u,X:!0},(p,y,b)=>{const[T,M,F]=p;T===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function du(n){return Wt(n,"mutations")}function Xh(n){return Wt(n,"documentMutations")}function mb(n){return Wt(n,"mutationQueues")}class md{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new md(0)}static vn(){return new md(-1)}}class jD{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new md(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>bt.fromTimestamp(new Hn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ef(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return ef(e).Z((c,p)=>{const y=Pp(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>ie.waitFor(u)).next(()=>i)}forEachTarget(e,t){return ef(e).Z((r,i)=>{const u=Pp(i);t(u)})}Vn(e){return yb(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}Sn(e,t){return yb(e).put("targetGlobalKey",t)}Dn(e,t){return ef(e).put(Cv(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=bl(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return ef(e).Z({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const b=Pp(p);td(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Ml(e);return t.forEach(c=>{const p=ci(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),ie.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ml(e);return ie.forEach(t,u=>{const c=ci(u.path);return ie.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Ml(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ml(e);let u=Lt();return i.Z({range:r,X:!0},(c,p,y)=>{const b=Zs(c[1]),T=new Ge(b);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=ci(t.path),i=IDBKeyRange.bound([r],[qc(r)],!1,!0);let u=0;return Ml(e).Z({index:"documentTargetsIndex",X:!0,range:i},([c,p],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}se(e,t){return ef(e).get(t).next(r=>r?Pp(r):null)}}function ef(n){return Wt(n,"targets")}function yb(n){return Wt(n,"targetGlobal")}function Ml(n){return Wt(n,"targetDocuments")}function _b([n,e],[t,r]){const i=kt(n,t);return 0===i?kt(e,r):i}class HD{constructor(e){this.xn=e,this.buffer=new _n(_b),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_b(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,me.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){vi(r)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield nu(r)}yield t.Fn(3e5)}))}}class GD{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(si.at);const r=new HD(t);return this.$n.forEachTarget(e,i=>r.Mn(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.Mn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Av)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,u,c,p,y,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),Nt()<=aa.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(b-y)+`ms\nTotal Duration: ${b-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class zD{constructor(e,t){this.db=e,this.garbageCollector=new GD(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return Nm(e,r)}removeReference(e,t,r){return Nm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Nm(e,t)}Gn(e,t){return function(r,i){let u=!1;return mb(r).tt(c=>xv(r,c,i).next(p=>(p&&(u=!0),ie.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Kn(e,(c,p)=>{if(p<=t){const y=this.Gn(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,bt.min()),Ml(e).delete([0,ci(c.path)])))});i.push(y)}}).next(()=>ie.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Nm(e,t)}Kn(e,t){const r=Ml(e);let i,u=si.at;return r.Z({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:b})=>{0===c?(u!==si.at&&t(new Ge(Zs(i)),u),u=b,i=y):u=si.at}).next(()=>{u!==si.at&&t(new Ge(Zs(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nm(n,e){return Ml(n).put((r=n.currentSequenceNumber,{targetId:0,path:ci(e.path),sequenceNumber:r}));var r}class vb{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qD{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xl(e).put(r)}removeEntry(e,t,r){return xl(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],cu(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=hn.newInvalidDocument(t);return xl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(i,u)=>{r=this.jn(t,u)}).next(()=>r)}Wn(e,t){let r={size:0,document:hn.newInvalidDocument(t)};return xl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(tf(t))},(i,u)=>{r={document:this.jn(t,u),size:kp(u)}}).next(()=>r)}getEntries(e,t){let r=wi();return this.zn(e,t,(i,u)=>{const c=this.jn(i,u);r=r.insert(i,c)}).next(()=>r)}Hn(e,t){let r=wi(),i=new $n(Ge.comparator);return this.zn(e,t,(u,c)=>{const p=this.jn(u,c);r=r.insert(u,p),i=i.insert(u,kp(c))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return ie.resolve();let i=new _n(Nv);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(tf(i.first()),tf(i.last())),c=i.getIterator();let p=c.getNext();return xl(e).Z({index:"documentKeyIndex",range:u},(y,b,T)=>{const M=Ge.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&Nv(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?T.j(tf(p)):T.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),cu(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xl(e).W(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=wi();for(const y of c){const b=this.jn(Ge.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=wi();const c=Ov(t,r),p=Ov(t,xi.max());return xl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,b,T)=>{const M=this.jn(Ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&T.done()}).next(()=>u)}newChangeBuffer(e){return new WD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Eb(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}Qn(e,t){return Eb(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function db(n,e){let t;if(e.document)t=lv(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=hd(e.noDocument.readTime);t=hn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const r=Ge.fromSegments(e.unknownDocument.path),i=hd(e.unknownDocument.version);t=hn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Hn(r[0],r[1]);return bt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return hn.newInvalidDocument(e)}}function wb(n){return new qD(n)}class WD extends vb{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new pa(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new _n((u,c)=>kt(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Xn.get(u);if(t.push(this.Yn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const y=bv(this.Yn.It,c);i=i.add(u.path.popLast()),r+=kp(y)-p.size,t.push(this.Yn.addEntry(e,u,y))}else if(r-=p.size,this.trackRemovals){const y=bv(this.Yn.It,c.convertToNoDocument(bt.min()));t.push(this.Yn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Yn.updateMetadata(e,r)),ie.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((u,c)=>{this.Xn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function Eb(n){return Wt(n,"remoteDocumentGlobal")}function xl(n){return Wt(n,"remoteDocumentsV14")}function tf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ov(n,e){const t=e.documentKey.path.toArray();return[n,cu(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Nv(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=kt(t[u],r[u]),i)return i;return i=kt(t.length,r.length),i||(i=kt(t[t.length-2],r[r.length-2]),i||kt(t[t.length-1],r[r.length-1]))}class bb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Pv{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Tp(r.mutation,i,Qi.empty(),Hn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Lt()){const i=ga();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=Sp();return u.forEach((p,y)=>{c=c.insert(p,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ga();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Lt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let u=wi();const c=Ap(),p=Ap();return t.forEach((y,b)=>{const T=r.get(b.key);i.has(b.key)&&(void 0===T||T.mutation instanceof uu)?u=u.insert(b.key,b):void 0!==T&&(c.set(b.key,T.mutation.getFieldMask()),Tp(T.mutation,b,T.mutation.getFieldMask(),Hn.now()))}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((b,T)=>c.set(b,T)),t.forEach((b,T)=>{var M;return p.set(b,new bb(T,null!==(M=c.get(b))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Ap();let i=new $n((c,p)=>c-p),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(y=>{const b=t.get(y);if(null===b)return;let T=r.get(y)||Qi.empty();T=p.applyToLocalView(b,T),r.set(y,T);const M=(i.get(p.batchId)||Lt()).add(y);i=i.insert(p.batchId,M)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),b=y.key,T=y.value,M=HE();T.forEach(F=>{if(!u.has(F)){const V=Ip(t.get(F),r.get(F));null!==V&&M.set(F,V),u=u.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,M))}return ie.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Y_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ie.resolve(ga());let p=-1,y=u;return c.next(b=>ie.forEach(b,(T,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),u.get(T)?ie.resolve():this.getBaseDocument(e,T,M).next(F=>{y=y.insert(T,F)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,y,b,Lt())).next(T=>({batchId:p,changes:jE(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=Sp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Sp();return this.indexManager.getCollectionParents(e,i).next(c=>ie.forEach(c,p=>{const y=(b=t,T=p.child(i),new ou(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(b=>{b.forEach((T,M)=>{u=u.insert(T,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((p,y)=>{const b=y.getKey();null===i.get(b)&&(i=i.insert(b,hn.newInvalidDocument(b)))});let c=Sp();return i.forEach((p,y)=>{const b=u.get(p);void 0!==b&&Tp(b.mutation,y,Qi.empty(),Hn.now()),J_(t,y)&&(c=c.insert(p,y))}),c})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ie.resolve(hn.newInvalidDocument(t))}}class Cb{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ie.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Jn(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:hb(r.bundledQuery),readTime:Jn(r.readTime)}),ie.resolve();var r}}class Ib{constructor(){this.overlays=new $n(Ge.comparator),this.es=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ga();return ie.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.ue(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=ga(),u=t.length+1,c=new Ge(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new $n((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=u.get(b.largestBatchId);null===T&&(T=ga(),u=u.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const p=ga(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,T)=>p.set(b,T)),!(p.size()>=i)););return ie.resolve(p)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ev(t,r));let u=this.es.get(t);void 0===u&&(u=Lt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class Pm{constructor(){this.ns=new _n(Pr.ss),this.rs=new _n(Pr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Pr(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Pr(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new tn([])),r=new Pr(t,e),i=new Pr(t,e+1),u=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),u.push(c.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new tn([])),r=new Pr(t,e),i=new Pr(t,e+1);let u=Lt();return this.rs.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Pr(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||kt(e._s,t._s)}static os(e,t){return kt(e._s,t._s)||Ge.comparator(e.key,t.key)}}class Rv{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new _n(Pr.ss)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const c=new Mm(u,t,r,i);this.mutationQueue.push(c);for(const p of i)this.gs=this.gs.add(new Pr(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pr(t,0),i=new Pr(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],c=>{const p=this.ys(c._s);u.push(p)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new _n(kt);return t.forEach(i=>{const u=new Pr(i,0),c=new Pr(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,c],p=>{r=r.add(p._s)})}),ie.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ge.isDocumentKey(u)||(u=u.child(""));const c=new Pr(new Ge(u),0);let p=new _n(kt);return this.gs.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(y._s)),!0)},c),ie.resolve(this.Is(p))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return ie.forEach(t.mutations,i=>{const u=new Pr(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Pr(t,0),i=this.gs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ie.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yd{constructor(e){this.Es=e,this.docs=new $n(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(t))}getEntries(e,t){let r=wi();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():hn.newInvalidDocument(i))}),ie.resolve(r)}getAllFromCollection(e,t,r){let i=wi();const u=new Ge(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||L_(fD(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return ie.resolve(i)}getAllFromCollectionGroup(e,t,r,i){tt()}As(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZD(this)}getSize(e){return ie.resolve(this.size)}}class ZD extends vb{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class KD{constructor(e){this.persistence=e,this.Rs=new pa(t=>bl(t),td),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Pm,this.targetCount=0,this.vs=md.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),ie.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new md(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Dn(t),ie.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Rs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),ie.waitFor(u).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.Ps.containsKey(t))}}class _d{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new si(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new KD(this),this.indexManager=new gb,this.remoteDocumentCache=new yd(r=>this.referenceDelegate.xs(r)),this.It=new cb(t),this.Ns=new Cb(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ib,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new Rv(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const i=new gM(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Ms(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Os(e,t){return ie.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class gM extends Zc{constructor(e){super(),this.currentSequenceNumber=e}}class nf{constructor(e){this.persistence=e,this.Fs=new Pm,this.$s=null}static Bs(e){return new nf(e)}get Ls(){if(this.$s)return this.$s;throw tt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.Us(e,i).next(u=>{u||t.removeEntry(i,bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ie.or([()=>ie.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class mM{constructor(e){this.It=e}$(e,t,r,i){const u=new Yi("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gv,{unique:!0}),p.createObjectStore("documentMutations"),kv(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=ie.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),kv(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").W().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gv,{unique:!0});const T=y.store("mutations"),M=b.map(F=>T.put(F));return ie.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(u)))),r<7&&i>=7&&(c=c.next(()=>this.Gs(u))),r<8&&i>=8&&(c=c.next(()=>this.Qs(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.js(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:ib});y.createIndex("collectionPathOverlayIndex",sb,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",ob,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:QE});y.createIndex("documentKeyIndex",JE),y.createIndex("collectionGroupIndex",ND)}(e)).next(()=>this.Ws(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.zs(e,u))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:eb}).createIndex("sequenceNumberIndex",tb,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:nb}).createIndex("documentKeyIndex",rb,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=kp(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>ie.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",c).next(p=>ie.forEach(p,y=>{At(y.userId===u.userId);const b=Tl(this.It,y);return Mv(e,u.userId,b).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Z((c,p)=>{const y=new tn(c),b=[0,ci(y)];u.push(t.get(b).next(T=>T?ie.resolve():t.put({targetId:0,path:ci(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ie.waitFor(u))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:yv});const r=t.store("collectionParents"),i=new Om,u=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:ci(y)})}};return t.store("remoteDocuments").Z({X:!0},(c,p)=>{const y=new tn(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,p,y],b)=>{const T=Zs(p);return u(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const u=Pp(i),c=Cv(this.It,u);return t.put(c)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((u,c)=>{const p=t.store("remoteDocumentsV14"),y=(b=c,b.document?new Ge(tn.fromString(b.document.name).popFirst(5)):b.noDocument?Ge.fromSegments(b.noDocument.path):b.unknownDocument?Ge.fromSegments(b.unknownDocument.path):tt()).path.toArray();var b;const T={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(T))}).next(()=>ie.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=wb(this.It),u=new _d(nf.Bs,this.It.re);return r.W().next(c=>{const p=new Map;return c.forEach(y=>{var b;let T=null!==(b=p.get(y.userId))&&void 0!==b?b:Lt();Tl(this.It,y).keys().forEach(M=>T=T.add(M)),p.set(y.userId,T)}),ie.forEach(p,(y,b)=>{const T=new Gr(b),M=Xi.oe(this.It,T),F=u.getIndexManager(T),V=Fp.oe(T,this.It,F,u.referenceDelegate);return new Pv(i,V,M,F).recalculateAndSaveOverlaysForDocumentKeys(new vv(t,si.at),y).next()})})}}function kv(n){n.createObjectStore("targetDocuments",{keyPath:RD}).createIndex("documentTargetsIndex",XE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",PD,{unique:!0}),n.createObjectStore("targetGlobal")}const Rm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Db{constructor(e,t,r,i,u,c,p,y,b,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=u,this.window=c,this.document=p,this.Js=b,this.Ys=T,this.Xs=M,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=F=>Promise.resolve(),!Db.C())throw new Oe(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zD(this,i),this.ii=t+"main",this.It=new cb(y),this.ri=new zs(this.ii,this.Xs,new mM(this.It)),this.Cs=new jD(this.referenceDelegate,this.It),this.remoteDocumentCache=wb(this.It),this.Ns=new kD,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,Rm);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new si(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,me.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>km(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(vi(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return mt(e).get("owner").next(t=>ie.resolve(this.mi(t)))}gi(e){return km(e).delete(this.clientId)}yi(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Wt(r,"clientMetadata");return i.W().next(u=>{const c=e.Ii(u,18e5),p=u.filter(y=>-1===c.indexOf(y));return ie.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ie.resolve(!0):mt(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Oe(de.FAILED_PRECONDITION,Rm);return!1}}return!(!this.networkEnabled||!this.inForeground)||km(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new vv(t,si.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>km(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Fp.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new BD(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Xi.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ne("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(c=this.Xs)?lb:14===c?ub:13===c?ab:12===c?pM:11===c?_v:void tt();var c;let p;return this.ri.runTransaction(e,i,u,y=>(p=new vv(y,this.Ss?this.Ss.next():si.at),"readwrite-primary"===t?this.fi(p).next(b=>!!b||this.di(p)).next(b=>{if(!b)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Oe(de.FAILED_PRECONDITION,pD);return r(p)}).next(b=>this.wi(p).next(()=>b)):this.Vi(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Vi(e){return mt(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(de.FAILED_PRECONDITION,Rm)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mt(e).put("owner",t)}static C(){return zs.C()}_i(e){const t=mt(e);return t.get("owner").next(r=>this.mi(r)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ar(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,jt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ar("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mt(n){return Wt(n,"owner")}function km(n){return Wt(n,"clientMetadata")}function Fv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Lv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Lt(),i=Lt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new Lv(e,t.fromCache,r,i)}}class vd{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Mi(e,t,i,r)).next(u=>u||this.Oi(e,t))}ki(e,t){if(NE(t))return ie.resolve(null);let r=Oi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=fm(t,null,"F"),r=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Lt(...u);return this.Ni.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(y=>{const b=this.Fi(t,p);return this.$i(t,b,c,y.readTime)?this.ki(e,fm(t,null,"F")):this.Bi(e,b,t,y)}))})))}Mi(e,t,r,i){return NE(t)||i.isEqual(bt.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(u=>{const c=this.Fi(t,u);return this.$i(t,c,r,i)?this.Oi(e,t):(Nt()<=aa.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Q_(t)),this.Bi(e,c,t,tm(i,-1)))})}Fi(e,t){let r=new _n(X_(e));return t.forEach((i,u)=>{J_(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Oi(e,t){return Nt()<=aa.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Q_(t)),this.Ni.getDocumentsMatchingQuery(e,t,xi.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class YD{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new $n(kt),this.qi=new pa(u=>bl(u),td),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pv(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Lp(n,e,t,r){return new YD(n,e,t,r)}function Vp(n,e){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,me.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let y=Lt();for(const b of i){c.push(b.batchId);for(const T of b.mutations)y=y.add(T.key)}for(const b of u){p.push(b.batchId);for(const T of b.mutations)y=y.add(T.key)}return t.localDocuments.getDocuments(r,y).next(b=>({ji:b,removedBatchIds:c,addedBatchIds:p}))})})}),Gn.apply(this,arguments)}function yM(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,p,y,b){const T=y.batch,M=T.keys();let F=ie.resolve();return M.forEach(V=>{F=F.next(()=>b.getEntry(p,V)).next(j=>{const re=y.docVersions.get(V);At(null!==re),j.version.compareTo(re)<0&&(T.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),b.addEntry(j)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(p,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Lt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(p=p.add(c.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Vv(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function Tb(n,e){const t=We(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const p=[];e.targetChanges.forEach((T,M)=>{const F=i.get(M);if(!F)return;p.push(t.Cs.removeMatchingKeys(u,T.removedDocuments,M).next(()=>t.Cs.addMatchingKeys(u,T.addedDocuments,M)));let V=F.withSequenceNumber(u.currentSequenceNumber);var j,re,Ee;e.targetMismatches.has(M)?V=V.withResumeToken(Nr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,r)),i=i.insert(M,V),re=V,Ee=T,(0===(j=F).resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0)&&p.push(t.Cs.updateTargetData(u,V))});let y=wi(),b=Lt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),p.push(Sb(u,c,e.documentUpdates).next(T=>{y=T.Wi,b=T.zi})),!r.isEqual(bt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(u).next(M=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(T)}return ie.waitFor(p).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,y,b)).next(()=>y)}).then(u=>(t.Ui=i,u))}function Sb(n,e,t){let r=Lt(),i=Lt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=wi();return t.forEach((p,y)=>{const b=u.get(p);y.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(e.removeEntry(p,y.readTime),c=c.insert(p,y)):!b.isValidDocument()||y.version.compareTo(b.version)>0||0===y.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(y),c=c.insert(p,y)):Ne("LocalStore","Ignoring outdated watch update for ",p,". Current version:",b.version," Watch version:",y.version)}),{Wi:c,zi:i}})}function Ab(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wd(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,ie.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new lu(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function Ed(n,e,t){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,me.Z)(function*(n,e,t){const r=We(n),i=r.Ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!vi(c))throw c;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),Fm.apply(this,arguments)}function Lm(n,e,t){const r=We(n);let i=bt.min(),u=Lt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,b){const T=We(p),M=T.qi.get(b);return void 0!==M?ie.resolve(T.Ui.get(M)):T.Cs.getTargetData(y,b)}(r,c,Oi(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,p.targetId).next(y=>{u=y})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:bt.min(),t?u:Lt())).next(p=>(rf(r,ID(e),p),{documents:p,Hi:u})))}function Mb(n,e){const t=We(n),r=We(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.se(u,e).next(c=>c?c.target:null))}function xb(n,e){const t=We(n),r=t.Ki.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,tm(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(rf(t,e,i),i))}function rf(n,e,t){let r=bt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}function Uv(){return Uv=(0,me.Z)(function*(n,e,t,r){const i=We(n);let u=Lt(),c=wi();for(const b of t){const T=e.Ji(b.metadata.name);b.document&&(u=u.add(T));const M=e.Yi(b);M.setReadTime(e.Xi(b.metadata.readTime)),c=c.insert(T,M)}const p=i.Gi.newChangeBuffer({trackRemovals:!0}),y=yield wd(i,(b=r,Oi(rd(tn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>Sb(b,p,c).next(T=>(p.apply(b),T)).next(T=>i.Cs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.Cs.addMatchingKeys(b,u,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,T.Wi,T.zi)).next(()=>T.Wi)))}),Uv.apply(this,arguments)}function JD(n,e){return sf.apply(this,arguments)}function sf(){return sf=(0,me.Z)(function*(n,e,t=Lt()){const r=yield wd(n,Oi(hb(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Jn(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ns.saveNamedQuery(u,e);const p=r.withResumeToken(Nr.EMPTY_BYTE_STRING,c);return i.Ui=i.Ui.insert(p.targetId,p),i.Cs.updateTargetData(u,p).next(()=>i.Cs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Cs.addMatchingKeys(u,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(u,e))})}),sf.apply(this,arguments)}function Bv(n,e){return`firestore_clients_${n}_${e}`}function jv(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Vm(n,e){return`firestore_targets_${n}_${e}`}class Um{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Oe(i.error.code,i.error.message))),c?new Um(e,t,i.state,u):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Oe(r.error.code,r.error.message))),u?new hu(e,r.state,i):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ol{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=wm();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=yD(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new Ol(e,u):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hv{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hv(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $v{constructor(){this.activeTargetIds=wm()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gv{constructor(e,t,r,i,u){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new $n(kt),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=Bv(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new $v),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const u=e.getItem(Bv(e.persistenceKey,i));if(u){const c=Ol.Zi(i,u);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Vm(this.persistenceKey,e));if(r){const i=hu.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vm(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ne("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(u){let c=si.at;if(null!=u)try{const p=JSON.parse(u);At("number"==typeof p),c=p}catch(p){ar("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==si.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Mr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Or(u)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new Um(this.currentUser,e,t,r),u=jv(this.persistenceKey,this.currentUser,e);this.setItem(u,i.tr())}Er(e){const t=jv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Vm(this.persistenceKey,e),u=new hu(e,t,r);this.setItem(i,u.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Ol.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return Um.Zi(new Gr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return hu.Zi(i,t)}yr(e){return Hv.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),c=[],p=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||p.push(y)}),this.syncEngine.Br(c,p).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=wm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class zv{constructor(){this.Lr=new $v,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new $v,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ob{qr(e){}shutdown(){}}class qv{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const XD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Nb{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class eT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,u){const c=this.ao(e,t);Ne("RestConnection","Sending: ",c,r);const p={};return this.ho(p,i,u),this.lo(e,c,p,r).then(y=>(Ne("RestConnection","Received: ",y),y),y=>{throw Gc("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}fo(e,t,r,i,u,c){return this.co(e,t,r,i,u)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ao(e,t){return`${this.oo}/v1/${t}:${XD[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){return new Promise((u,c)=>{const p=new uD;p.listenOnce(oD.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ws.NO_ERROR:const b=p.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(b)),u(b);break;case ws.TIMEOUT:Ne("Connection",'RPC "'+e+'" timed out'),c(new Oe(de.DEADLINE_EXCEEDED,"Request time out"));break;case ws.HTTP_ERROR:const T=p.getStatus();if(Ne("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(V){const j=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(j)>=0?j:de.UNKNOWN}(M.status);c(new Oe(F,M.message))}else c(new Oe(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Oe(de.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ne("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}_o(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iD(),c=sD(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new aD({})),this.ho(p.initMessageHeaders,t,r),(0,jt.uI)()||(0,jt.b$)()||(0,jt.d)()||(0,jt.w1)()||(0,jt.Mn)()||(0,jt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Ne("Connection","Creating WebChannel: "+y,p);const b=u.createWebChannel(y,p);let T=!1,M=!1;const F=new Nb({Hr:j=>{M?Ne("Connection","Not sending because WebChannel is closed:",j):(T||(Ne("Connection","Opening WebChannel transport."),b.open(),T=!0),Ne("Connection","WebChannel sending:",j),b.send(j))},Jr:()=>b.close()}),V=(j,re,Ee)=>{j.listen(re,Le=>{try{Ee(Le)}catch(Je){setTimeout(()=>{throw Je},0)}})};return V(b,Jg.EventType.OPEN,()=>{M||Ne("Connection","WebChannel transport opened.")}),V(b,Jg.EventType.CLOSE,()=>{M||(M=!0,Ne("Connection","WebChannel transport closed"),F.io())}),V(b,Jg.EventType.ERROR,j=>{M||(M=!0,Gc("Connection","WebChannel transport errored:",j),F.io(new Oe(de.UNAVAILABLE,"The operation could not be completed")))}),V(b,Jg.EventType.MESSAGE,j=>{var re;if(!M){const Ee=j.data[0];At(!!Ee);const Le=Ee,Je=Le.error||(null===(re=Le[0])||void 0===re?void 0:re.error);if(Je){Ne("Connection","WebChannel received error:",Je);const pt=Je.status;let it=function(Mt){const on=Cr[Mt];if(void 0!==on)return iv(on)}(pt),Tt=Je.message;void 0===it&&(it=de.INTERNAL,Tt="Unknown error status: "+pt+" with message "+Je.message),M=!0,F.io(new Oe(it,Tt)),b.close()}else Ne("Connection","WebChannel received:",Ee),F.ro(Ee)}}),V(c,pE.STAT_EVENT,j=>{j.stat===gE.PROXY?Ne("Connection","Detected buffering proxy"):j.stat===gE.NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.so()},0),F}}function Pb(){return typeof window<"u"?window:null}function Wv(){return typeof document<"u"?document:null}function Bm(n){return new Wh(n,!0)}class Rb{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class tT{constructor(e,t,r,i,u,c,p,y){this.Hs=e,this.Po=r,this.vo=i,this.Vo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Rb(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,me.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,me.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Oe(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,me.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kb extends tT{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.It=u}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function GE(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:tt(),i=e.targetChange.targetIds||[],u=function(y,b){return y.gt?(At(void 0===b||"string"==typeof b),Nr.fromBase64String(b||"")):(At(void 0===b||b instanceof Uint8Array),Nr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const b=void 0===y.code?de.UNKNOWN:iv(y.code);return new Oe(b,y.message||"")}(c);t=new zh(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=To(n,r.document.name),u=Jn(r.document.updateTime),c=new lr({mapValue:{fields:r.document.fields}}),p=hn.newFoundDocument(i,u,c);t=new Em(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=To(n,r.document),u=r.readTime?Jn(r.readTime):bt.min(),c=hn.newNoDocument(i,u);t=new Em([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=To(n,r.document);t=new Em([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return tt();{const r=e.filter,u=new xD(r.count||0);t=new Do(r.targetId,u)}}var y;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return bt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?bt.min():u.readTime?Jn(u.readTime):bt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=Kh(this.It),t.addTarget=function(i,u){let c;const p=u.target;return c=Cp(p)?{documents:qE(i,p)}:{query:dv(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=ld(i,u.resumeToken):u.snapshotVersion.compareTo(bt.min())>0&&(c.readTime=ma(i,u.snapshotVersion.toTimestamp())),c}(this.It,e);const r=function hv(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=Kh(this.It),t.removeTarget=e,this.Bo(t)}}class jm extends tT{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.It=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function zE(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(r,i){let u=Jn(r.updateTime?r.updateTime:i);return u.isEqual(bt.min())&&(u=Jn(i)),new FE(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.Zo(r,t)}return At(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Kh(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Np(this.It,r))};this.Bo(t)}}class nT extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.Vo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(de.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.Vo.fo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(de.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class rT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ar(t),this.ou=!1):Ne("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Fb{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr(p=>{r.enqueueAndForget((0,me.Z)(function*(){var y;Pl(c)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,me.Z)(function*(b){const T=We(b);T._u.add(4),yield af(T),T.gu.set("Unknown"),T._u.delete(4),yield fu(T)}),function(b){return y.apply(this,arguments)})(c))}))}),this.gu=new rT(r,i)}}function fu(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,me.Z)(function*(n){if(Pl(n))for(const e of n.wu)yield e(!0)}),Zv.apply(this,arguments)}function af(n){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,me.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Kv.apply(this,arguments)}function Hm(n,e){const t=We(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Nl(t)?Yv(t):bd(t).ko()&&$m(t,e))}function Up(n,e){const t=We(n),r=bd(t);t.du.delete(e),r.ko()&&Lb(t,e),0===t.du.size&&(r.ko()?r.Fo():Pl(t)&&t.gu.set("Unknown"))}function $m(n,e){n.yu.Ot(e.targetId),bd(n).zo(e)}function Lb(n,e){n.yu.Ot(e),bd(n).Ho(e)}function Yv(n){n.yu=new ud({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),bd(n).start(),n.gu.uu()}function Nl(n){return Pl(n)&&!bd(n).No()&&n.du.size>0}function Pl(n){return 0===We(n)._u.size}function Qv(n){n.yu=void 0}function iT(n){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,me.Z)(function*(n){n.du.forEach((e,t)=>{$m(n,e)})}),Gm.apply(this,arguments)}function sT(n,e){return zm.apply(this,arguments)}function zm(){return zm=(0,me.Z)(function*(n,e){Qv(n),Nl(n)?(n.gu.hu(e),Yv(n)):n.gu.set("Unknown")}),zm.apply(this,arguments)}function oT(n,e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,me.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof zh&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.du.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.du.delete(p),i.yu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qm(n,r)}else if(e instanceof Em?n.yu.Gt(e):e instanceof Do?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(bt.min()))try{const r=yield Vv(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.yu.te(u);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.du.get(y);b&&i.du.set(y,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const y=i.du.get(p);if(!y)return;i.du.set(p,y.withResumeToken(Nr.EMPTY_BYTE_STRING,y.snapshotVersion)),Lb(i,p);const b=new lu(y.target,p,1,y.sequenceNumber);$m(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield qm(n,r)}var r}),Bp.apply(this,arguments)}function qm(n,e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,me.Z)(function*(n,e,t){if(!vi(e))throw e;n._u.add(1),yield af(n),n.gu.set("Offline"),t||(t=()=>Vv(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield fu(n)}))}),Wm.apply(this,arguments)}function Jv(n,e){return e().catch(t=>qm(n,t,e))}function uf(n){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,me.Z)(function*(n){const e=We(n),t=Rl(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;aT(e);)try{const i=yield Ab(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,ew(e,i)}catch(i){yield qm(e,i)}Vb(e)&&tw(e)}),Xv.apply(this,arguments)}function aT(n){return Pl(n)&&n.fu.length<10}function ew(n,e){n.fu.push(e);const t=Rl(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Vb(n){return Pl(n)&&!Rl(n).No()&&n.fu.length>0}function tw(n){Rl(n).start()}function uT(n){return nw.apply(this,arguments)}function nw(){return nw=(0,me.Z)(function*(n){Rl(n).eu()}),nw.apply(this,arguments)}function lT(n){return rw.apply(this,arguments)}function rw(){return rw=(0,me.Z)(function*(n){const e=Rl(n);for(const t of n.fu)e.Xo(t.mutations)}),rw.apply(this,arguments)}function cT(n,e,t){return iw.apply(this,arguments)}function iw(){return iw=(0,me.Z)(function*(n,e,t){const r=n.fu.shift(),i=wv.from(r,e,t);yield Jv(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield uf(n)}),iw.apply(this,arguments)}function dT(n,e){return sw.apply(this,arguments)}function sw(){return sw=(0,me.Z)(function*(n,e){var t;e&&Rl(n).Yo&&(yield(t=(0,me.Z)(function*(r,i){if(UE(u=i.code)&&u!==de.ABORTED){const c=r.fu.shift();Rl(r).Oo(),yield Jv(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield uf(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Vb(n)&&tw(n)}),sw.apply(this,arguments)}function ow(n,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,me.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=Pl(t);t._u.add(3),yield af(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield fu(t)}),Zm.apply(this,arguments)}function aw(n,e){return uw.apply(this,arguments)}function uw(){return uw=(0,me.Z)(function*(n,e){const t=We(n);e?(t._u.delete(2),yield fu(t)):e||(t._u.add(2),yield af(t),t.gu.set("Unknown"))}),uw.apply(this,arguments)}function bd(n){return n.pu||(n.pu=function(e,t,r){const i=We(e);return i.su(),new kb(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:iT.bind(null,n),Zr:sT.bind(null,n),Wo:oT.bind(null,n)}),n.wu.push(function(){var e=(0,me.Z)(function*(t){t?(n.pu.Oo(),Nl(n)?Yv(n):n.gu.set("Unknown")):(yield n.pu.stop(),Qv(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Rl(n){return n.Iu||(n.Iu=function(e,t,r){const i=We(e);return i.su(),new jm(t,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:uT.bind(null,n),Zr:dT.bind(null,n),tu:lT.bind(null,n),Zo:cT.bind(null,n)}),n.wu.push(function(){var e=(0,me.Z)(function*(t){t?(n.Iu.Oo(),yield uf(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class lw{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new lw(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lf(n,e){if(ar("AsyncQueue",`${e}: ${n}`),vi(n))return new Oe(de.UNAVAILABLE,`${e}: ${n}`);throw n}class kl{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=Sp(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new kl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Km{constructor(){this.Tu=new $n(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):tt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cd{constructor(e,t,r,i,u,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Cd(e,t,kl.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ji(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cw{constructor(){this.Au=void 0,this.listeners=[]}}class hT{constructor(){this.queries=new pa(e=>pm(e),Ji),this.onlineState="Unknown",this.Ru=new Set}}function dw(n,e){return jp.apply(this,arguments)}function jp(){return jp=(0,me.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new cw),i)try{u.Au=yield t.onListen(r)}catch(c){const p=lf(c,`Initialization of query '${Q_(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&fw(t)}),jp.apply(this,arguments)}function hw(n,e){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,me.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ym.apply(this,arguments)}function cf(n,e){const t=We(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Pu(i)&&(r=!0);c.Au=i}}r&&fw(t)}function Ub(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function fw(n){n.Ru.forEach(e=>{e.next()})}class Bb{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class jb{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class Qm{constructor(e){this.It=e}Ji(e){return To(this.It,e)}Yi(e){return e.metadata.exists?lv(this.It,e.document,!1):hn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Jn(e)}}class fT{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Jm(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new Qm(this.It);for(const i of e)if(i.metadata.queries){const u=r.Ji(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||Lt()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function QD(n,e,t,r){return Uv.apply(this,arguments)}(e.localStore,new Qm(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const i of e.queries)yield JD(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function Jm(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Hb{constructor(e){this.key=e}}class pw{constructor(e){this.key=e}}class Xm{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=Lt(),this.mutatedKeys=Lt(),this.Ku=X_(e),this.Gu=new kl(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new Km,i=t?t.Gu:this.Gu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,M)=>{const F=i.get(T),V=J_(this.query,M)?M:null,j=!!F&&this.mutatedKeys.has(F.key),re=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Ee=!1;F&&V?F.data.isEqual(V.data)?j!==re&&(r.track({type:3,doc:V}),Ee=!0):this.zu(F,V)||(r.track({type:2,doc:V}),Ee=!0,(y&&this.Ku(V,y)>0||b&&this.Ku(V,b)<0)&&(p=!0)):!F&&V?(r.track({type:0,doc:V}),Ee=!0):F&&!V&&(r.track({type:1,doc:F}),Ee=!0,(y||b)&&(p=!0)),Ee&&(V?(c=c.add(V),u=re?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Gu:c,Wu:r,$i:p,mutatedKeys:u}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const u=e.Wu.Eu();u.sort((b,T)=>function(M,F){const V=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return V(M)-V(F)}(b.type,T.type)||this.Ku(b.doc,T.doc)),this.Hu(r);const c=t?this.Ju():[],p=0===this.qu.size&&this.current?1:0,y=p!==this.Uu;return this.Uu=p,0!==u.length||y?{snapshot:new Cd(this.query,e.Gu,i,u,e.mutatedKeys,0===p,y,!1),Yu:c}:{Yu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Km,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=Lt(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new pw(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new Hb(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=Lt();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return Cd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class $b{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Gb{constructor(e){this.key=e,this.ec=!1}}class zb{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new pa(p=>pm(p),Ji),this.ic=new Map,this.rc=new Set,this.oc=new $n(Ge.comparator),this.uc=new Map,this.cc=new Pm,this.ac={},this.hc=new Map,this.lc=md.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function qb(n,e){return gw.apply(this,arguments)}function gw(){return gw=(0,me.Z)(function*(n,e){const t=Mw(n);let r,i;const u=t.sc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.tc();else{const c=yield wd(t.localStore,Oi(e));t.isPrimaryClient&&Hm(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield mw(t,e,r,"current"===p)}return i}),gw.apply(this,arguments)}function mw(n,e,t,r){return yw.apply(this,arguments)}function yw(){return yw=(0,me.Z)(function*(n,e,t,r){n.dc=(T,M,F)=>{return(V=(0,me.Z)(function*(j,re,Ee,Le){let Je=re.view.ju(Ee);Je.$i&&(Je=yield Lm(j.localStore,re.query,!1).then(({documents:Tt})=>re.view.ju(Tt,Je)));const pt=Le&&Le.targetChanges.get(re.targetId),it=re.view.applyChanges(Je,j.isPrimaryClient,pt);return Iw(j,re.targetId,it.Yu),it.snapshot}),function(j,re,Ee,Le){return V.apply(this,arguments)})(n,T,M,F);var V};const i=yield Lm(n.localStore,e,!0),u=new Xm(e,i.Hi),c=u.ju(i.documents),p=ad.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,p);Iw(n,t,y.Yu);const b=new $b(e,t,u);return n.sc.set(e,b),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),y.snapshot}),yw.apply(this,arguments)}function pT(n,e){return ey.apply(this,arguments)}function ey(){return ey=(0,me.Z)(function*(n,e){const t=We(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(u=>!Ji(u,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ed(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Up(t.remoteStore,r.targetId),df(t,r.targetId)}).catch(nu))):(df(t,r.targetId),yield Ed(t.localStore,r.targetId,!0))}),ey.apply(this,arguments)}function ty(){return ty=(0,me.Z)(function*(n,e,t){const r=hf(n);try{const i=yield function(u,c){const p=We(u),y=Hn.now(),b=c.reduce((F,V)=>F.add(V.key),Lt());let T,M;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let V=wi(),j=Lt();return p.Gi.getEntries(F,b).next(re=>{V=re,V.forEach((Ee,Le)=>{Le.isValidDocument()||(j=j.add(Ee))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,V)).next(re=>{T=re;const Ee=[];for(const Le of c){const Je=nv(Le,T.get(Le.key).overlayedDocument);null!=Je&&Ee.push(new uu(Le.key,Je,bp(Je.value.mapValue),Mn.exists(!0)))}return p.mutationQueue.addMutationBatch(F,y,Ee,c)}).next(re=>{M=re;const Ee=re.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(F,re.batchId,Ee)})}).then(()=>({batchId:M.batchId,changes:jE(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let y=u.ac[u.currentUser.toKey()];y||(y=new $n(kt)),y=y.insert(c,p),u.ac[u.currentUser.toKey()]=y}(r,i.batchId,t),yield _a(r,i.changes),yield uf(r.remoteStore)}catch(i){const u=lf(i,"Failed to persist write");t.reject(u)}}),ty.apply(this,arguments)}function Wb(n,e){return _w.apply(this,arguments)}function _w(){return _w=(0,me.Z)(function*(n,e){const t=We(n);try{const r=yield Tb(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.uc.get(u);c&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ec=!0:i.modifiedDocuments.size>0?At(c.ec):i.removedDocuments.size>0&&(At(c.ec),c.ec=!1))}),yield _a(t,r,e)}catch(r){yield nu(r)}}),_w.apply(this,arguments)}function gT(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((u,c)=>{const p=c.view.bu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=We(u);p.onlineState=c;let y=!1;p.queries.forEach((b,T)=>{for(const M of T.listeners)M.bu(c)&&(y=!0)}),y&&fw(p)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vM(n,e,t){return vw.apply(this,arguments)}function vw(){return vw=(0,me.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),u=i&&i.key;if(u){let c=new $n(Ge.comparator);c=c.insert(u,hn.newNoDocument(u,bt.min()));const p=Lt().add(u),y=new xp(bt.min(),new Map,new _n(kt),c,p);yield Wb(r,y),r.oc=r.oc.remove(u),r.uc.delete(e),ry(r)}else yield Ed(r.localStore,e,!1).then(()=>df(r,e,t)).catch(nu)}),vw.apply(this,arguments)}function mT(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,me.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield yM(t.localStore,e);Cw(t,r,null),bw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _a(t,i)}catch(i){yield nu(i)}}),ny.apply(this,arguments)}function Zb(n,e,t){return ww.apply(this,arguments)}function ww(){return ww=(0,me.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(u,c){const p=We(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.mutationQueue.lookupMutationBatch(y,c).next(T=>(At(null!==T),b=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>p.localDocuments.getDocuments(y,b))})}(r.localStore,e);Cw(r,e,t),bw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _a(r,i)}catch(i){yield nu(i)}}),ww.apply(this,arguments)}function Ew(){return Ew=(0,me.Z)(function*(n,e){const t=We(n);Pl(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=We(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=lf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Ew.apply(this,arguments)}function bw(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function Cw(n,e,t){const r=We(n);let i=r.ac[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function df(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||Kb(n,r)})}function Kb(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(Up(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),ry(n))}function Iw(n,e,t){for(const r of t)r instanceof Hb?(n.cc.addReference(r.key,e),Hp(n,r)):r instanceof pw?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Kb(n,r.key)):tt()}function Hp(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.rc.add(r),ry(n))}function ry(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Ge(tn.fromString(e)),r=n.lc.next();n.uc.set(r,new Gb(t)),n.oc=n.oc.insert(t,r),Hm(n.remoteStore,new lu(Oi(rd(t.path)),r,2,si.at))}}function _a(n,e,t){return iy.apply(this,arguments)}function iy(){return iy=(0,me.Z)(function*(n,e,t){const r=We(n),i=[],u=[],c=[];var p;r.sc.isEmpty()||(r.sc.forEach((p,y)=>{c.push(r.dc(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=Lv.Ci(y.targetId,b);u.push(T)}}))}),yield Promise.all(c),r.nc.Wo(i),yield(p=(0,me.Z)(function*(y,b){const T=We(y);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>ie.forEach(b,F=>ie.forEach(F.Si,V=>T.persistence.referenceDelegate.addReference(M,F.targetId,V)).next(()=>ie.forEach(F.Di,V=>T.persistence.referenceDelegate.removeReference(M,F.targetId,V)))))}catch(M){if(!vi(M))throw M;Ne("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const V=T.Ui.get(F),re=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);T.Ui=T.Ui.insert(F,re)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,u))}),iy.apply(this,arguments)}function Yb(n,e){return sy.apply(this,arguments)}function sy(){return sy=(0,me.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield Vp(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(c=>{c.forEach(p=>{p.reject(new Oe(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _a(t,r.ji)}var i}),sy.apply(this,arguments)}function Qb(n,e){const t=We(n),r=t.uc.get(e);if(r&&r.ec)return Lt().add(r.key);{let i=Lt();const u=t.ic.get(e);if(!u)return i;for(const c of u){const p=t.sc.get(c);i=i.unionWith(p.view.Qu)}return i}}function _T(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,me.Z)(function*(n,e){const t=We(n),r=yield Lm(t.localStore,e.query,!0),i=e.view.Zu(r);return t.isPrimaryClient&&Iw(t,e.targetId,i.Yu),i}),Jb.apply(this,arguments)}function Xb(n,e){return Dw.apply(this,arguments)}function Dw(){return Dw=(0,me.Z)(function*(n,e){const t=We(n);return xb(t.localStore,e).then(r=>_a(t,r))}),Dw.apply(this,arguments)}function vT(n,e,t,r){return Tw.apply(this,arguments)}function Tw(){return Tw=(0,me.Z)(function*(n,e,t,r){const i=We(n),u=yield function(c,p){const y=We(c),b=We(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.Tn(T,p).next(M=>M?y.localDocuments.getDocuments(T,M):ie.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield uf(i.remoteStore):"acknowledged"===t||"rejected"===t?(Cw(i,e,r||null),bw(i,e),p=e,We(We(i.localStore).mutationQueue).An(p)):tt(),yield _a(i,u)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),Tw.apply(this,arguments)}function Id(){return Id=(0,me.Z)(function*(n,e){const t=We(n);if(Mw(t),hf(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield eC(t,r.toArray());t.fc=!0,yield aw(t.remoteStore,!0);for(const u of i)Hm(t.remoteStore,u)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(df(t,c),Ed(t.localStore,c,!0))),Up(t.remoteStore,c)}),yield i,yield eC(t,r),function(u){const c=We(u);c.uc.forEach((p,y)=>{Up(c.remoteStore,y)}),c.cc.fs(),c.uc=new Map,c.oc=new $n(Ge.comparator)}(t),t.fc=!1,yield aw(t.remoteStore,!1)}}),Id.apply(this,arguments)}function eC(n,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,me.Z)(function*(n,e,t){const r=We(n),i=[],u=[];for(const c of e){let p;const y=r.ic.get(c);if(y&&0!==y.length){p=yield wd(r.localStore,Oi(y[0]));for(const b of y){const T=r.sc.get(b),M=yield _T(r,T);M.snapshot&&u.push(M.snapshot)}}else{const b=yield Mb(r.localStore,c);p=yield wd(r.localStore,b),yield mw(r,xo(b),c,!1)}i.push(p)}return r.nc.Wo(u),i}),$p.apply(this,arguments)}function xo(n){return OE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ET(n){const e=We(n);return We(We(e.localStore).persistence).vi()}function Sw(n,e,t,r){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,me.Z)(function*(n,e,t,r){const i=We(n);if(i.fc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const u=i.ic.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield xb(i.localStore,ID(u[0])),p=xp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield _a(i,c,p);break}case"rejected":yield Ed(i.localStore,e,!0),df(i,e,r);break;default:tt()}}),Dd.apply(this,arguments)}function bT(n,e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,me.Z)(function*(n,e,t){const r=Mw(n);if(r.fc){for(const i of e){if(r.ic.has(i)){Ne("SyncEngine","Adding an already active target "+i);continue}const u=yield Mb(r.localStore,i),c=yield wd(r.localStore,u);yield mw(r,xo(u),c.targetId,!1),Hm(r.remoteStore,c)}for(const i of t)r.ic.has(i)&&(yield Ed(r.localStore,i,!1).then(()=>{Up(r.remoteStore,i),df(r,i)}).catch(nu))}}),Aw.apply(this,arguments)}function Mw(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vM.bind(null,e),e.nc.Wo=cf.bind(null,e.eventManager),e.nc._c=Ub.bind(null,e.eventManager),e}function hf(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zb.bind(null,e),e}class tC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.It=Bm(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return Lp(this.persistence,new vd,e.initialUser,this.It)}gc(e){return new _d(nf.Bs,this.It)}mc(e){return new zv}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nC extends tC{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield hf(r.Ec.syncEngine),yield uf(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Lp(this.persistence,new vd,e.initialUser,this.It)}Ic(e,t){return new $D(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new cM(t,this.persistence);return new bE(e.asyncQueue,r)}gc(e){const t=Fv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new Db(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Pb(),Wv(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new zv}}class rC extends nC{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const i=r.Ec.syncEngine;r.sharedClientState instanceof Gv&&(r.sharedClientState.syncEngine={Fr:vT.bind(null,i),$r:Sw.bind(null,i),Br:bT.bind(null,i),vi:ET.bind(null,i),Or:Xb.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var u=(0,me.Z)(function*(c){yield function wT(n,e){return Id.apply(this,arguments)}(r.Ec.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}mc(e){const t=Pb();if(!Gv.C(t))throw new Oe(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Fv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ay{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>gT(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Yb.bind(null,r.syncEngine),yield aw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hT}createDatastore(e){const t=Bm(e.databaseInfo.databaseId),r=new eT(e.databaseInfo);return new nT(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>gT(this.syncEngine,p,0),c=qv.C()?new qv:new Ob,new Fb(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,y,b){const T=new zb(r,i,u,c,p,y);return b&&(T.fc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=We(t);Ne("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield af(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uy(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CT{constructor(e,t){this.bc=e,this.It=t,this.metadata=new Or,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,me.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),i=Number(r);isNaN(i)&&e.Sc(`length string (${r}) is not valid number`);const u=yield e.Dc(i);return new jb(JSON.parse(u),t.length+i)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,me.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,me.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class IT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,me.Z)(function*(u,c){const p=We(u),y=Kh(p.It)+"/documents",b={documents:c.map(V=>ya(p.It,V))},T=yield p.fo("BatchGetDocuments",y,b,c.length),M=new Map;T.forEach(V=>{const j=function $E(n,e){return"found"in e?function(t,r){At(!!r.found);const i=To(t,r.found.name),u=Jn(r.found.updateTime),c=new lr({mapValue:{fields:r.found.fields}});return hn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){At(!!r.missing),At(!!r.readTime);const i=To(t,r.missing),u=Jn(r.readTime);return hn.newNoDocument(i,u)}(n,e):tt()}(p.It,V);M.set(j.key.toString(),j)});const F=[];return c.forEach(V=>{const j=M.get(V.toString());At(!!j),F.push(j)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=Ge.fromPath(i);e.mutations.push(new VE(u,e.precondition(u)))}),yield(r=(0,me.Z)(function*(i,u){const c=We(i),p=Kh(c.It)+"/documents",y={writes:u.map(b=>Np(c.It,b))};yield c.co("Commit",p,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bt.min())?Mn.exists(!1):Mn.updateTime(t):Mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Oe(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(t)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wM{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new Rb(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,me.Z)(function*(){const t=new IT(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Oc(u)}))}).catch(i=>{e.Oc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!om(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!UE(t)}return!1}}class xw{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Gr.UNAUTHENTICATED,this.clientId=k_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,me.Z)(function*(p){Ne("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ne("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=lf(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function ly(n,e){return cy.apply(this,arguments)}function cy(){return cy=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,me.Z)(function*(u){r.isEqual(u)||(yield Vp(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),cy.apply(this,arguments)}function dy(n,e){return zp.apply(this,arguments)}function zp(){return zp=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Ow(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>ow(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>ow(e.remoteStore,u)),n.onlineComponents=e}),zp.apply(this,arguments)}function Ow(n){return Nw.apply(this,arguments)}function Nw(){return Nw=(0,me.Z)(function*(n){return n.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield ly(n,new tC)),n.offlineComponents}),Nw.apply(this,arguments)}function hy(n){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,me.Z)(function*(n){return n.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield dy(n,new ay)),n.onlineComponents}),Pw.apply(this,arguments)}function Rw(n){return Ow(n).then(e=>e.persistence)}function ff(n){return Ow(n).then(e=>e.localStore)}function kw(n){return hy(n).then(e=>e.remoteStore)}function Fw(n){return hy(n).then(e=>e.syncEngine)}function Td(n){return fy.apply(this,arguments)}function fy(){return fy=(0,me.Z)(function*(n){const e=yield hy(n),t=e.eventManager;return t.onListen=qb.bind(null,e.syncEngine),t.onUnlisten=pT.bind(null,e.syncEngine),t}),fy.apply(this,arguments)}function oC(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,u,c,p,y){const b=new Gp({next:M=>{u.enqueueAndForget(()=>hw(i,T));const F=M.docs.has(c);!F&&M.fromCache?y.reject(new Oe(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?y.reject(new Oe(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new Bb(rd(c.path),b,{includeMetadataChanges:!0,Nu:!0});return dw(i,T)}(yield Td(n),n.asyncQueue,e,t,r)})),r.promise}function Lw(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(i,u,c,p,y){const b=new Gp({next:M=>{u.enqueueAndForget(()=>hw(i,T)),M.fromCache&&"server"===p.source?y.reject(new Oe(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),T=new Bb(c,b,{includeMetadataChanges:!0,Nu:!0});return dw(i,T)}(yield Td(n),n.asyncQueue,e,t,r)})),r.promise}const AT=new Map;function uC(n,e,t){if(!t)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vw(n,e,t,r){if(!0===e&&!0===r)throw new Oe(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Uw(n){if(!Ge.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gf(n){if(Ge.isDocumentKey(n))throw new Oe(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function py(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=py(n);throw new Oe(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lC(n,e){if(e<=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Bw{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Vw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new zc;switch(t.type){case"gapi":return new cD(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Oe(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AT.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),AT.delete(e),t.terminate())}(this),Promise.resolve()}}class Rn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rn(this.firestore,e,this._key)}}class zr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class Oo extends zr{constructor(e,t,r){super(e,t,rd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rn(this.firestore,null,new Ge(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function jw(n,e,...t){if(n=(0,jt.m9)(n),uC("collection","path",e),n instanceof qp){const r=tn.fromString(e,...t);return gf(r),new Oo(n,null,r)}{if(!(n instanceof Rn||n instanceof Oo))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return gf(r),new Oo(n.firestore,null,r)}}function mf(n,e,...t){if(n=(0,jt.m9)(n),1===arguments.length&&(e=k_.R()),uC("doc","path",e),n instanceof qp){const r=tn.fromString(e,...t);return Uw(r),new Rn(n,null,new Ge(r))}{if(!(n instanceof Rn||n instanceof Oo))throw new Oe(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return Uw(r),new Rn(n.firestore,n instanceof Oo?n.converter:null,new Ge(r))}}function xT(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),(n instanceof Rn||n instanceof Oo)&&(e instanceof Rn||e instanceof Oo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Hw(n,e){return n=(0,jt.m9)(n),e=(0,jt.m9)(e),n instanceof zr&&e instanceof zr&&n.firestore===e.firestore&&Ji(n._query,e._query)&&n.converter===e.converter}class OT{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Rb(this,"async_queue_retry"),this.jc=()=>{const t=Wv();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Wv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Wv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Or;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,me.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!vi(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=lw.createAndSchedule(this,e,t,r,u=>this.Jc(u));return this.Uc.push(i),i}Wc(){this.qc&&tt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function my(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class yf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kn extends qp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new OT,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||PT(this),this._firestoreClient.terminate()}}function Ir(n){return n._firestoreClient||PT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PT(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new fM(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new xw(n._authCredentials,n._appCheckCredentials,n._queue,r)}function dC(n,e,t){const r=new Or;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield ly(n,t),yield dy(n,e),r.resolve()}catch(i){const u=i;if(!("FirebaseError"===(c=u).name?c.code===de.FAILED_PRECONDITION||c.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw u;Gc("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u)}var c})).then(()=>r.promise)}function $w(n){if(n._initialized||n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class pu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Nr.fromBase64String(e))}catch(t){throw new Oe(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new No(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fl{constructor(e){this._methodName=e}}class Wp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const jT=/^__.*__$/;class HT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new uu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hh(e,this.data,t,this.fieldTransforms)}}class $T{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new uu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class zw{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new zw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return by(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Gw(this.na)&&jT.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class EM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Bm(e)}fa(e,t,r,i=!1){return new zw({na:e,methodName:t,la:r,path:ur.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function _f(n){const e=n._freezeSettings(),t=Bm(n._databaseId);return new EM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qw(n,e,t,r,i,u={}){const c=n.fa(u.merge||u.mergeFields?2:0,e,t,i);Ey("Data must be an object, but it was:",c,r);const p=zT(r,c);let y,b;if(u.merge)y=new Qi(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const M of u.mergeFields){const F=Zw(e,M,t);if(!c.contains(F))throw new Oe(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);yC(T,F)||T.push(F)}y=new Qi(T),b=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,b=c.fieldTransforms;return new HT(new lr(p),y,b)}class yy extends Fl{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yy}}function GT(n,e,t){return new zw({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class gC extends Fl{_toFieldTransform(e){return new jh(e.path,new Uh)}isEqual(e){return e instanceof gC}}class bM extends Fl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=GT(this,e,!0),r=this.da.map(u=>Ll(u,t)),i=new au(r);return new jh(e.path,i)}isEqual(e){return this===e}}class _y extends Fl{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=GT(this,e,!0),r=this.da.map(u=>Ll(u,t)),i=new Bh(r);return new jh(e.path,i)}isEqual(e){return this===e}}class CM extends Fl{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new Cl(e.It,gm(e.It,this._a));return new jh(e.path,t)}isEqual(e){return this===e}}function vy(n,e,t,r){const i=n.fa(1,e,t);Ey("Data must be an object, but it was:",i,r);const u=[],c=lr.empty();ru(r,(y,b)=>{const T=Kw(e,y,t);b=(0,jt.m9)(b);const M=i.ua(T);if(b instanceof yy)u.push(T);else{const F=Ll(b,M);null!=F&&(u.push(T),c.set(T,F))}});const p=new Qi(u);return new $T(c,p,i.fieldTransforms)}function vf(n,e,t,r,i,u){const c=n.fa(1,e,t),p=[Zw(e,r,t)],y=[i];if(u.length%2!=0)throw new Oe(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)p.push(Zw(e,u[F])),y.push(u[F+1]);const b=[],T=lr.empty();for(let F=p.length-1;F>=0;--F)if(!yC(b,p[F])){const V=p[F];let j=y[F];j=(0,jt.m9)(j);const re=c.ua(V);if(j instanceof yy)b.push(V);else{const Ee=Ll(j,re);null!=Ee&&(b.push(V),T.set(V,Ee))}}const M=new Qi(b);return new $T(T,M,c.fieldTransforms)}function Ww(n,e,t,r=!1){return Ll(t,n.fa(r?4:3,e))}function Ll(n,e){if(wy(n=(0,jt.m9)(n)))return Ey("Unsupported field value:",e,n),zT(n,e);if(n instanceof Fl)return function(t,r){if(!Gw(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Ll(c,r.ca(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gm(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Hn.fromDate(t);return{timestampValue:ma(r.It,i)}}if(t instanceof Hn){const i=new Hn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ma(r.It,i)}}if(t instanceof Wp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof No)return{bytesValue:ld(r.It,t._byteString)};if(t instanceof Rn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.aa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Il(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${py(t)}`)}(n,e)}function zT(n,e){const t={};return im(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ru(n,(r,i)=>{const u=Ll(i,e.ia(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function wy(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Hn||n instanceof Wp||n instanceof No||n instanceof Rn||n instanceof Fl)}function Ey(n,e,t){if(!wy(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=py(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function Zw(n,e,t){if((e=(0,jt.m9)(e))instanceof pu)return e._internalPath;if("string"==typeof e)return Kw(n,e);throw by("Field path arguments must be of type string or ",n,!1,void 0,t)}const mC=new RegExp("[~\\*/\\[\\]]");function Kw(n,e,t){if(e.search(mC)>=0)throw by(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pu(...e.split("."))._internalPath}catch{throw by(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function by(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Oe(de.INVALID_ARGUMENT,p+n+y)}function yC(n,e){return n.some(t=>t.isEqual(e))}class Zp{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Cy extends Zp{data(){return super.data()}}function Iy(n,e){return"string"==typeof e?Kw(n,e):e instanceof pu?e._internalPath:e._delegate._internalPath}class wf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vl extends Zp{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Iy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Dy extends Vl{data(e={}){return super.data(e)}}class Ul{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Dy(this._firestore,this._userDataWriter,r.key,r,new wf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Dy(r._firestore,r._userDataWriter,c.doc.key,c.doc,new wf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new Dy(r._firestore,r._userDataWriter,c.doc.key,c.doc,new wf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:qT(c.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qT(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function _C(n,e){return n instanceof Vl&&e instanceof Vl?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ul&&e instanceof Ul&&n._firestore===e._firestore&&Hw(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WT(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}function gu(n,...e){for(const t of e)n=t._apply(n);return n}class vC extends Kp{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=_f(e.firestore),r=function(i,u,c,p,y,b,T){let M;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){Xw(T,b);const V=[];for(const j of T)V.push(CC(p,i,j));M={arrayValue:{values:V}}}else M=CC(p,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||Xw(T,b),M=Ww(c,"where",T,"in"===b||"not-in"===b);const F=ui.create(y,b,M);return function(V,j){if(j.dt()){const Ee=K_(V);if(null!==Ee&&!Ee.isEqual(j.field))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ee.toString()}' and '${j.field.toString()}'`);const Le=hm(V);null!==Le&&e0(0,j.field,Le)}const re=function(Ee,Le){for(const Je of Ee.filters)if(Le.indexOf(Je.op)>=0)return Je.op;return null}(V,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==re)throw new Oe(de.INVALID_ARGUMENT,re===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${re.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new zr(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new ou(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Po extends Kp{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Vh(i,u);return function(p,y){if(null===hm(p)){const b=K_(p);null!==b&&e0(0,b,y.field)}}(r,c),c}(e._query,this.wa,this.ya);return new zr(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new ou(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ty extends Kp{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new zr(e.firestore,e.converter,fm(e._query,this.pa,this.Ia))}}class wC extends Kp{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=Jw(e,this.type,this.Ta,this.Ea);return new zr(e.firestore,e.converter,(i=t,new ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class EC extends Kp{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=Jw(e,this.type,this.Ta,this.Ea);return new zr(e.firestore,e.converter,(i=t,new ou((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Jw(n,e,t,r){if(t[0]=(0,jt.m9)(t[0]),t[0]instanceof Zp)return function(i,u,c,p,y){if(!p)throw new Oe(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of id(i))if(T.field.isKeyField())b.push(su(u,p.key));else{const M=p.data.field(T.field);if(Ep(M))throw new Oe(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=T.field.canonicalString();throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new nd(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=_f(n.firestore);return function(u,c,p,y,b,T){const M=u.explicitOrderBy;if(b.length>M.length)throw new Oe(de.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let V=0;V<b.length;V++){const j=b[V];if(M[V].field.isKeyField()){if("string"!=typeof j)throw new Oe(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof j}`);if(!Y_(u)&&-1!==j.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${j}' contains a slash.`);const re=u.path.child(tn.fromString(j));if(!Ge.isDocumentKey(re))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const Ee=new Ge(re);F.push(su(c,Ee))}else{const re=Ww(p,y,j);F.push(re)}}return new nd(F,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function CC(n,e,t){if("string"==typeof(t=(0,jt.m9)(t))){if(""===t)throw new Oe(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&-1!==t.indexOf("/"))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!Ge.isDocumentKey(r))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return su(n,new Ge(r))}if(t instanceof Rn)return su(n,t._key);throw new Oe(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${py(t)}.`)}function Xw(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function e0(n,e,t){if(!t.isEqual(e))throw new Oe(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const QT={maxAttempts:5};class Sy{convertValue(e,t="none"){switch(kh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return ru(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Wp(Qn(e.latitude),Qn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=mD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sm(e));default:return null}}convertTimestamp(e){const t=iu(e);return new Hn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);At(fv(r));const i=new Qc(r.get(1),r.get(3)),u=new Ge(r.popFirst(5));return i.isEqual(t)||ar(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Ay(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class t0 extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}class mu{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_f(e)}set(e,t,r){this._verifyNotCommitted();const i=yu(e,this._firestore),u=Ay(i.converter,t,r),c=qw(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Mn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=yu(e,this._firestore);let c;return c="string"==typeof(t=(0,jt.m9)(t))||t instanceof pu?vf(this._dataReader,"WriteBatch.update",u._key,t,r,i):vy(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yu(e,this._firestore);return this._mutations=this._mutations.concat(new Gh(t._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yu(n,e){if((n=(0,jt.m9)(n)).firestore!==e)throw new Oe(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ki extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rn(this.firestore,null,t)}}function IC(n,e,t){n=Gt(n,Rn);const r=Gt(n.firestore,kn),i=Ay(n.converter,e,t);return Yp(r,[qw(_f(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Mn.none())])}function r0(n,e,t,...r){n=Gt(n,Rn);const i=Gt(n.firestore,kn),u=_f(i);let c;return c="string"==typeof(e=(0,jt.m9)(e))||e instanceof pu?vf(u,"updateDoc",n._key,e,t,r):vy(u,"updateDoc",n._key,e),Yp(i,[c.toMutation(n._key,Mn.exists(!0))])}function TC(n,...e){var t,r,i;n=(0,jt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||my(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(my(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,b,T;if(n instanceof Rn)b=Gt(n.firestore,kn),T=rd(n._key.path),y={next:M=>{e[c]&&e[c](Qp(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=Gt(n,zr);b=Gt(M.firestore,kn),T=M._query;const F=new ki(b);y={next:V=>{e[c]&&e[c](new Ul(b,F,M,V))},error:e[c+1],complete:e[c+2]},WT(n._query)}return function(M,F,V,j){const re=new Gp(j),Ee=new Bb(F,re,V);return M.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return dw(yield Td(M),Ee)})),()=>{re.Rc(),M.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return hw(yield Td(M),Ee)}))}}(Ir(b),T,p,y)}function Yp(n,e){return function(t,r){const i=new Or;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function _M(n,e,t){return ty.apply(this,arguments)}(yield Fw(t),r,i)})),i.promise}(Ir(n),e)}function Qp(n,e,t){const r=t.docs.get(e._key),i=new ki(n);return new Vl(n,i,e._key,r,new wf(t.hasPendingWrites,t.fromCache),e.converter)}class AC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_f(e)}get(e){const t=yu(e,this._firestore),r=new t0(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return tt();const u=i[0];if(u.isFoundDocument())return new Zp(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Zp(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const i=yu(e,this._firestore),u=Ay(i.converter,t,r),c=qw(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=yu(e,this._firestore);let c;return c="string"==typeof(t=(0,jt.m9)(t))||t instanceof pu?vf(this._dataReader,"Transaction.update",u._key,t,r,i):vy(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=yu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yu(e,this._firestore),r=new ki(this._firestore);return super.get(e).then(i=>new Vl(this._firestore,r,t._key,i._document,new wf(!1,!1),t.converter))}}function o0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function iS(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function sS(){if(!function dM(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Oh=Zi.SDK_VERSION,(0,Zi._registerComponent)(new sh.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new kn(new P_(t.getProvider("auth-internal")),new lM(t.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Oe(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(p.options.projectId,y)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Zi.registerVersion)(x_,"3.4.15",n),(0,Zi.registerVersion)(x_,"3.4.15","esm2017")}();class Ef{constructor(e){this._delegate=e}static fromBase64String(e){return sS(),new Ef(No.fromBase64String(e))}static fromUint8Array(e){return iS(),new Ef(No.fromUint8Array(e))}toBase64(){return sS(),this._delegate.toBase64()}toUint8Array(){return iS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function a0(n){return function oS(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class aS{enableIndexedDbPersistence(e,t){return function RT(n,e){$w(n=Gt(n,kn));const t=Ir(n),r=n._freezeSettings(),i=new ay;return dC(t,i,new nC(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function kT(n){$w(n=Gt(n,kn));const e=Ir(n),t=n._freezeSettings(),r=new ay;return dC(e,r,new rC(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function hC(n){if(n._initialized&&!n._terminated)throw new Oe(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!zs.C())return Promise.resolve();const i=r+"main";yield zs.delete(i)}),function(r){return t.apply(this,arguments)})(Fv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function MT(n,e,t,r={}){var i;const u=(n=Gt(n,qp))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Gc("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=Gr.MOCK_USER;else{c=(0,jt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Oe(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Gr(y)}n._authCredentials=new lD(new N_(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function FT(n){return function DT(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Rw(n),t=yield kw(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i._u.delete(0),fu(i)}(t)}))}(Ir(n=Gt(n,kn)))}(this._delegate)}disableNetwork(){return function pC(n){return function iC(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield Rw(n),t=yield kw(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(i){const u=We(i);u._u.add(0),yield af(u),u.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ir(n=Gt(n,kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Vw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function fC(n){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function yT(n,e){return Ew.apply(this,arguments)}(yield Fw(e),t)})),t.promise}(Ir(n=Gt(n,kn)))}(this._delegate)}onSnapshotsInSync(e){return function SC(n,e){return function Ri(n,e){const t=new Gp(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Td(n),i=t,We(r).Ru.add(i),void i.next();var r,i})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield Td(n),i=t,void We(r).Ru.delete(i);var r,i}))}}(Ir(n=Gt(n,kn)),my(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Bl(this,jw(this._delegate,e))}catch(t){throw Li(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fi(this,mf(this._delegate,e))}catch(t){throw Li(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new di(this,function gy(n,e){if(n=Gt(n,qp),uC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zr(n,null,(t=e,new ou(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Li(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function MC(n,e,t){n=Gt(n,kn);const r=Object.assign(Object.assign({},QT),t);return function(i){if(i.maxAttempts<1)throw new Oe(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function pf(n,e,t){const r=new Or;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const i=yield(u=n,hy(u).then(c=>c.datastore));var u;new wM(n.asyncQueue,i,t,e,r).run()})),r.promise}(Ir(n),i=>e(new AC(n,i)),r)}(this._delegate,t=>e(new lS(this,t)))}batch(){return Ir(this._delegate),new cS(new mu(this._delegate,e=>Yp(this._delegate,e)))}loadBundle(e){return function VT(n,e){const t=Ir(n=Gt(n,kn)),r=new yf;return function TT(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return uy(y,b);if(y instanceof ArrayBuffer)return uy(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new CT(y,c);var y}(t,Bm(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function oy(n,e,t){const r=We(n);var i;(i=(0,me.Z)(function*(u,c,p){try{const y=yield c.getMetadata();if(yield function(F,V){const j=We(F),re=Jn(V.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",Ee=>j.Ns.getBundleMetadata(Ee,V.id)).then(Ee=>!!Ee&&Ee.createTime.compareTo(re)>=0)}(u.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(Jm(y));const b=new fT(y,u.localStore,c.It);let T=yield c.wc();for(;T;){const F=yield b.Ou(T);F&&p._updateProgress(F),T=yield c.wc()}const M=yield b.complete();return yield _a(u,M.Bu,void 0),yield function(F,V){const j=We(F);return j.persistence.runTransaction("Save bundle","readwrite",re=>j.Ns.saveBundleMetadata(re,V))}(u.localStore,y),p._completeWith(M.progress),Promise.resolve(M.$u)}catch(y){return Gc("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Fw(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function UT(n,e){return function ST(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.Ns.getNamedQuery(u,r))}(yield ff(n),e)}))}(Ir(n=Gt(n,kn)),e).then(t=>t?new zr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new di(this,t):null)}}class u0 extends Sy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ef(new No(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fi.forKey(t,this.firestore,null)}}class lS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new u0(e)}get(e){const t=_u(e);return this._delegate.get(t).then(r=>new Ro(this._firestore,new Vl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=_u(e);return r?(o0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=_u(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=_u(e);return this._delegate.delete(t),this}}class cS{constructor(e){this._delegate=e}set(e,t,r){const i=_u(e);return r?(o0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=_u(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=_u(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Sd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Dy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Sd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Sd(e,new u0(e),t),i.set(t,u)),u}}Sd.INSTANCES=new WeakMap;class Fi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new u0(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fi(t,new Rn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new Fi(t,new Rn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Bl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Bl(this.firestore,jw(this._delegate,e))}catch(t){throw Li(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,jt.m9)(e))instanceof Rn&&xT(this._delegate,e)}set(e,t){t=o0("DocumentReference.set",t);try{return t?IC(this._delegate,e,t):IC(this._delegate,e)}catch(r){throw Li(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?r0(this._delegate,e):r0(this._delegate,e,t,...r)}catch(i){throw Li(i,"updateDoc()","DocumentReference.update()")}}delete(){return function TM(n){return Yp(Gt(n.firestore,kn),[new Gh(n._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const t=RC(e),r=l0(e,i=>new Ro(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return TC(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function JT(n){n=Gt(n,Rn);const e=Gt(n.firestore,kn),t=Ir(e),r=new ki(e);return function sC(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,u,c){try{const p=yield function(y,b){const T=We(y);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Oe(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=lf(p,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield ff(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Vl(e,r,n._key,i,new wf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function DM(n){n=Gt(n,Rn);const e=Gt(n.firestore,kn);return oC(Ir(e),n._key,{source:"server"}).then(t=>Qp(e,n,t))}(this._delegate):function n0(n){n=Gt(n,Rn);const e=Gt(n.firestore,kn);return oC(Ir(e),n._key).then(t=>Qp(e,n,t))}(this._delegate),t.then(r=>new Ro(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fi(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function Li(n,e,t){return n.message=n.message.replace(e,t),n}function RC(n){for(const e of n)if("object"==typeof e&&!a0(e))return e;return{}}function l0(n,e){var t,r;let i;return i=a0(n[0])?n[0]:a0(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ro{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _C(this._delegate,e._delegate)}}class bf extends Ro{data(e){const t=this._delegate.data(e);return function yE(n,e){n||tt()}(void 0!==t),t}}class di{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new u0(e)}where(e,t,r){try{return new di(this.firestore,gu(this._delegate,function IM(n,e,t){const r=e,i=Iy("where",n);return new vC(i,r,t)}(e,t,r)))}catch(i){throw Li(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new di(this.firestore,gu(this._delegate,function ZT(n,e="asc"){const t=e,r=Iy("orderBy",n);return new Po(r,t)}(e,t)))}catch(r){throw Li(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new di(this.firestore,gu(this._delegate,function KT(n){return lC("limit",n),new Ty("limit",n,"F")}(e)))}catch(t){throw Li(t,"limit()","Query.limit()")}}limitToLast(e){try{return new di(this.firestore,gu(this._delegate,function Ks(n){return lC("limitToLast",n),new Ty("limitToLast",n,"L")}(e)))}catch(t){throw Li(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new di(this.firestore,gu(this._delegate,function Yw(...n){return new wC("startAt",n,!0)}(...e)))}catch(t){throw Li(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new di(this.firestore,gu(this._delegate,function YT(...n){return new wC("startAfter",n,!1)}(...e)))}catch(t){throw Li(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new di(this.firestore,gu(this._delegate,function Qw(...n){return new EC("endBefore",n,!1)}(...e)))}catch(t){throw Li(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new di(this.firestore,gu(this._delegate,function bC(...n){return new EC("endAt",n,!0)}(...e)))}catch(t){throw Li(t,"endAt()","Query.endAt()")}}isEqual(e){return Hw(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function eS(n){n=Gt(n,zr);const e=Gt(n.firestore,kn),t=Ir(e),r=new ki(e);return function aC(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(i,u,c){try{const p=yield Lm(i,u,!0),y=new Xm(u,p.Hi),b=y.ju(p.documents),T=y.applyChanges(b,!1);c.resolve(T.snapshot)}catch(p){const y=lf(p,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield ff(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ul(e,r,n,i))}(this._delegate):"server"===e?.source?function tS(n){n=Gt(n,zr);const e=Gt(n.firestore,kn),t=Ir(e),r=new ki(e);return Lw(t,n._query,{source:"server"}).then(i=>new Ul(e,r,n,i))}(this._delegate):function XT(n){n=Gt(n,zr);const e=Gt(n.firestore,kn),t=Ir(e),r=new ki(e);return WT(n._query),Lw(t,n._query).then(i=>new Ul(e,r,n,i))}(this._delegate),t.then(r=>new d0(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=RC(e),r=l0(e,i=>new d0(this.firestore,new Ul(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return TC(this._delegate,t,r)}withConverter(e){return new di(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}class c0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class d0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new di(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new c0(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new bf(this._firestore,r))})}isEqual(e){return _C(this._delegate,e._delegate)}}class Bl extends di{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fi(this.firestore,e):null}doc(e){try{return new Fi(this.firestore,void 0===e?mf(this._delegate):mf(this._delegate,e))}catch(t){throw Li(t,"doc()","CollectionReference.doc()")}}add(e){return function DC(n,e){const t=Gt(n.firestore,kn),r=mf(n),i=Ay(n.converter,e);return Yp(t,[qw(_f(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Fi(this.firestore,t))}isEqual(e){return xT(this._delegate,e._delegate)}withConverter(e){return new Bl(this.firestore,this._delegate.withConverter(e?Sd.getInstance(this.firestore,e):null))}}function _u(n){return Gt(n,Rn)}class Cf{constructor(...e){this._delegate=new pu(...e)}static documentId(){return new Cf(ur.keyField().canonicalString())}isEqual(e){return(e=(0,jt.m9)(e))instanceof pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class If{constructor(e){this._delegate=e}static serverTimestamp(){const e=function OC(){return new gC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new If(e)}static delete(){const e=function xC(){return new yy("deleteField")}();return e._methodName="FieldValue.delete",new If(e)}static arrayUnion(...e){const t=function NC(...n){return new bM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new If(t)}static arrayRemove(...e){const t=function My(...n){return new _y("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new If(t)}static increment(e){const t=function xy(n){return new CM("increment",n)}(e);return t._methodName="FieldValue.increment",new If(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const MM={Firestore:uS,GeoPoint:Wp,Timestamp:Hn,Blob:Ef,Transaction:lS,WriteBatch:cS,DocumentReference:Fi,DocumentSnapshot:Ro,Query:di,QueryDocumentSnapshot:bf,QuerySnapshot:d0,CollectionReference:Bl,FieldPath:Cf,FieldValue:If,setLogLevel:function AM(n){!function mE(n){yl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function OM(n){(function xM(n,e){n.INTERNAL.registerComponent(new sh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},MM)))})(n,(e,t)=>new uS(e,t,new aS)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(il.Z);var hi=k(7579),dS=k(6451),Oy=k(5363),Ny=k(8421);function qr(n,e){return(0,Bn.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Cn.x)(r,y=>{i?.unsubscribe();let b=0;const T=u++;(0,Ny.Xf)(n(y,T)).subscribe(i=(0,Cn.x)(r,M=>r.next(e?e(y,M,T,b++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var kC=k(6063);class FC extends hi.x{constructor(e=1/0,t=1/0,r=kC.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var LC=k(3099);function VC(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,LC.B)({connector:()=>new FC(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}const Df=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var vu=k(515);function Py(n){return n<=0?()=>vu.E:(0,Bn.e)((e,t)=>{let r=0;e.subscribe((0,Cn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Jp(n){return(0,Bn.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ry(n=fS){return(0,Bn.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fS(){return new Df}function wu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ar((i,u)=>n(i,u,r)):ih.y,Py(1),t?Jp(e):Ry(()=>new Df))}function pS(n,e){return(0,ni.m)(e)?qr(()=>n,e):qr(()=>n)}var UC=k(9468);k(5867);const l=new Map,h={activated:!1,tokenObservers:[]},g={initialized:!1,enabled:!1};function _(n){return l.get(n)||h}function E(n,e){l.set(n,e)}function C(){return g}class Re{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new jt.BH,yield function qe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const rt=new jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yt(n){if(!_(n).activated)throw rt.create("use-before-activation",{appName:n.name})}function Eu(n,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,me.Z)(function*({url:n,body:e},t){var r,i;const u={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const V=yield c.getHeartbeatsHeader();V&&(u["X-Firebase-Client"]=V)}const p={method:"POST",body:JSON.stringify(e),headers:u};let y,b;try{y=yield fetch(n,p)}catch(V){throw rt.create("fetch-network-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}if(200!==y.status)throw rt.create("fetch-status-error",{httpStatus:y.status});try{b=yield y.json()}catch(V){throw rt.create("fetch-parse-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}const T=b.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${b.ttl}`});const M=1e3*Number(T[1]),F=Date.now();return{token:b.token,expireTimeMillis:F+M,issuedAtTimeMillis:F}}),Xp.apply(this,arguments)}function p0(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ad="firebase-app-check-store";let Tf=null;function RM(){return Tf||(Tf=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var u;e(rt.create("storage-open",{originalErrorMessage:null===(u=i.target.error)||void 0===u?void 0:u.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ad,{keyPath:"compositeKey"})}}catch(r){e(rt.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Tf)}function yS(){return yS=(0,me.Z)(function*(n,e){const r=(yield RM()).transaction(Ad,"readwrite"),u=r.objectStore(Ad).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;p(rt.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),yS.apply(this,arguments)}const y0=new aa.Yd("@firebase/app-check");function VM(n,e){return(0,jt.hl)()?function $P(n,e){return function kM(n,e){return yS.apply(this,arguments)}(function LM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{y0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function UM(){return C().enabled}function BM(){return ES.apply(this,arguments)}function ES(){return ES=(0,me.Z)(function*(){const n=C();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ES.apply(this,arguments)}const KP={error:"UNKNOWN_ERROR"};function YP(n){return jt.US.encodeString(JSON.stringify(n),!1)}function HC(n){return bS.apply(this,arguments)}function bS(){return bS=(0,me.Z)(function*(n,e=!1){const t=n.app;yt(t);const r=_(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&$C(y)&&(i=y)}if(!e&&i&&$C(i))return{token:i.token};let p,c=!1;if(UM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Eu(p0(t,yield BM()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield VM(t,y),E(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?y0.warn(y.message):y0.error(y),u=y}return i?(p={token:i.token},E(t,Object.assign(Object.assign({},r),{token:i})),yield VM(t,i)):p=JP(u),c&&HM(t,p),p}),bS.apply(this,arguments)}function IS(n,e){const t=_(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),E(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function jM(n){const{app:e}=n,t=_(e);let r=t.tokenRefresher;r||(r=function QP(n){const{app:e}=n;return new Re((0,me.Z)(function*(){let r;if(r=_(e).token?yield HC(n,!0):yield HC(n),r.error)throw r.error}),()=>!0,()=>{const t=_(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),E(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function HM(n,e){const t=_(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function $C(n){return n.expireTimeMillis-Date.now()>0}function JP(n){return{token:YP(KP),error:n}}class XP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_(this.app);for(const t of e)IS(this.app,t.next);return Promise.resolve()}}const YM="app-check-internal";!function fR(){(0,Zi._registerComponent)(new sh.wA("app-check",n=>function eR(n,e){return new XP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(YM).initialize()})),(0,Zi._registerComponent)(new sh.wA(YM,n=>function tR(n){return{getToken:e=>HC(n,e),addTokenListener:e=>function CS(n,e,t,r){const{app:i}=n,u=_(i),c={next:t,error:r,type:e};if(E(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&$C(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),jM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>jM(n))}(n,"INTERNAL",e),removeTokenListener:e=>IS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zi.registerVersion)("@firebase/app-check","0.5.12")}();class AS{constructor(){return(0,wr.vb)("app-check")}}typeof window<"u"&&window;var JM=k(127);const XM=new d.OlP("angularfire2.auth.use-emulator"),ex=new d.OlP("angularfire2.auth.settings"),tx=new d.OlP("angularfire2.auth.tenant-id"),nx=new d.OlP("angularfire2.auth.langugage-code"),rx=new d.OlP("angularfire2.auth.use-device-language"),ix=new d.OlP("angularfire.auth.persistence"),sx=(n,e,t,r,i,u,c,p)=>(0,Wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))y.settings[b]=T;return p&&y.setPersistence(p),y},[t,r,i,u,c,p]);let zC=(()=>{class n{constructor(t,r,i,u,c,p,y,b,T,M,F,V){const j=new hi.x,re=nt(void 0).pipe((0,Oy.Q)(c.outsideAngular),qr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2274)))),(0,_t.U)(()=>(0,Wi.on)(t,u,r)),(0,_t.U)(Ee=>sx(Ee,u,p,b,T,M,y,F)),VC({bufferSize:1,refCount:!1}));if(vr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=nt(null);else{re.pipe(wu()).subscribe();const Le=re.pipe(qr(it=>it.getRedirectResult().then(Tt=>Tt,()=>null)),wr.iC,VC({bufferSize:1,refCount:!1})),Je=re.pipe(qr(it=>new ti.y(Tt=>({unsubscribe:u.runOutsideAngular(()=>it.onAuthStateChanged(Mt=>Tt.next(Mt),Mt=>Tt.error(Mt),()=>Tt.complete()))})))),pt=re.pipe(qr(it=>new ti.y(Tt=>({unsubscribe:u.runOutsideAngular(()=>it.onIdTokenChanged(Mt=>Tt.next(Mt),Mt=>Tt.error(Mt),()=>Tt.complete()))}))));this.authState=Le.pipe(pS(Je),(0,UC.R)(c.outsideAngular),(0,Oy.Q)(c.insideAngular)),this.user=Le.pipe(pS(pt),(0,UC.R)(c.outsideAngular),(0,Oy.Q)(c.insideAngular)),this.idToken=this.user.pipe(qr(it=>it?(0,en.D)(it.getIdToken()):nt(null))),this.idTokenResult=this.user.pipe(qr(it=>it?(0,en.D)(it.getIdTokenResult()):nt(null))),this.credential=(0,dS.T)(Le,j,this.authState.pipe(Ar(it=>!it))).pipe((0,_t.U)(it=>it?.user?it:null),(0,UC.R)(c.outsideAngular),(0,Oy.Q)(c.insideAngular))}return(0,Wi.pX)(this,re,u,{spy:{apply:(Ee,Le,Je)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&Je.then(pt=>j.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wi.Dh),d.LFG(Wi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(wr.HU),d.LFG(XM,8),d.LFG(ex,8),d.LFG(tx,8),d.LFG(nx,8),d.LFG(rx,8),d.LFG(ix,8),d.LFG(AS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),vR=(()=>{class n{constructor(){JM.Z.registerVersion("angularfire",wr.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[zC]}),n})();function ox(n,e){return function wR(n,e=Yy.z){return new ti.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function xS(n,e){return ox(n,e).pipe((0,_t.U)(t=>({payload:t,type:"query"})))}function qC(n,e){return xS(n,e).pipe(nh(void 0),rh(),(0,_t.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(T=>T.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function ax(n,e,t){return qC(n,t).pipe(rl((r,i)=>function bR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function CR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Zf(n,e=ih.y){return n=n??Qy,(0,Bn.e)((t,r)=>{let i,u=!0;t.subscribe((0,Cn.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,_t.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function OS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function ux(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class lx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=qC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_t.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(nh(void 0),rh(),Ar(([r,i])=>i.length>0||!r),(0,_t.U)(([r,i])=>i),wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(rl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ux(e);return ax(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return xS(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wr.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(wr.iC)}add(e){return this.ref.add(e)}doc(e){return new cx(this.ref.doc(e),this.afs)}}class cx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=fx(r,t);return new lx(i,u,this.afs)}snapshotChanges(){return function ER(n,e){return ox(n,e).pipe(nh(void 0),rh(),(0,_t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,en.D)(this.ref.get(e)).pipe(wr.iC)}}class IR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qC(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ar(t=>t.length>0),wr.iC):qC(this.query,this.afs.schedulers.outsideAngular).pipe(wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(rl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=ux(e);return ax(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return xS(this.query,this.afs.schedulers.outsideAngular).pipe((0,_t.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),wr.iC)}get(e){return(0,en.D)(this.query.get(e)).pipe(wr.iC)}}const dx=new d.OlP("angularfire2.enableFirestorePersistence"),hx=new d.OlP("angularfire2.firestore.persistenceSettings"),DR=new d.OlP("angularfire2.firestore.settings"),TR=new d.OlP("angularfire2.firestore.use-emulator");function fx(n,e=(t=>t)){return{query:e(n),ref:n}}let NS=(()=>{class n{constructor(t,r,i,u,c,p,y,b,T,M,F,V,j,re,Ee,Le,Je){this.schedulers=y;const pt=(0,Wi.on)(t,p,r),it=T;M&&sx(pt,p,F,j,re,Ee,V,Le),[this.firestore,this.persistenceEnabled$]=(0,Wi.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const Tt=p.runOutsideAngular(()=>pt.firestore());if(u&&Tt.settings(u),it&&Tt.useEmulator(...it),i&&!vr(c)){const Mt=()=>{try{return(0,en.D)(Tt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(on){return typeof console<"u"&&console.warn(on),nt(!1)}};return[Tt,p.runOutsideAngular(Mt)]}return[Tt,nt(!1)]},[u,it,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=fx(i,r),p=this.schedulers.ngZone.run(()=>u);return new lx(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new IR(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new cx(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Wi.Dh),d.LFG(Wi.xv,8),d.LFG(dx,8),d.LFG(DR,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(wr.HU),d.LFG(hx,8),d.LFG(TR,8),d.LFG(zC,8),d.LFG(XM,8),d.LFG(ex,8),d.LFG(tx,8),d.LFG(nx,8),d.LFG(rx,8),d.LFG(ix,8),d.LFG(AS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SR=(()=>{class n{constructor(){JM.Z.registerVersion("angularfire",wr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:dx,useValue:!0},{provide:hx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[NS]}),n})();const{isArray:AR}=Array,{getPrototypeOf:MR,prototype:xR,keys:OR}=Object;function px(n){if(1===n.length){const e=n[0];if(AR(e))return{args:e,keys:null};if(function NR(n){return n&&"object"==typeof n&&MR(n)===xR}(e)){const t=OR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:PR}=Array;function gx(n){return(0,_t.U)(e=>function RR(n,e){return PR(e)?n(...e):n(e)}(n,e))}function mx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let yx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),eg=(()=>{class n extends yx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const jl=new d.OlP("NgValueAccessor"),LR={provide:jl,useExisting:(0,d.Gpc)(()=>_0),multi:!0},UR=new d.OlP("CompositionEventMode");let _0=(()=>{class n extends yx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function VR(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(UR,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([LR]),d.qOj]}),n})();const es=new d.OlP("NgValidators"),Af=new d.OlP("NgAsyncValidators");function Ax(n){return null!=n}function Mx(n){return(0,d.QGY)(n)?(0,en.D)(n):n}function xx(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Ox(n,e){return e.map(t=>t(n))}function Nx(n){return n.map(e=>function HR(n){return!n.validate}(e)?e:t=>e.validate(t))}function PS(n){return null!=n?function Px(n){if(!n)return null;const e=n.filter(Ax);return 0==e.length?null:function(t){return xx(Ox(t,e))}}(Nx(n)):null}function RS(n){return null!=n?function Rx(n){if(!n)return null;const e=n.filter(Ax);return 0==e.length?null:function(t){return function kR(...n){const e=(0,Vs.jO)(n),{args:t,keys:r}=px(n),i=new ti.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let y=c,b=c;for(let T=0;T<c;T++){let M=!1;(0,Ny.Xf)(t[T]).subscribe((0,Cn.x)(u,F=>{M||(M=!0,b--),p[T]=F},()=>y--,void 0,()=>{(!y||!M)&&(b||u.next(r?mx(r,p):p),u.complete())}))}});return e?i.pipe(gx(e)):i}(Ox(t,e).map(Mx)).pipe((0,_t.U)(xx))}}(Nx(n)):null}function kx(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kS(n){return n?Array.isArray(n)?n:[n]:[]}function ZC(n,e){return Array.isArray(n)?n.includes(e):n===e}function Vx(n,e){const t=kS(e);return kS(n).forEach(i=>{ZC(t,i)||t.push(i)}),t}function Ux(n,e){return kS(e).filter(t=>!ZC(n,t))}class Bx{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=PS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Cs extends Bx{get formDirective(){return null}get path(){return null}}class Mf extends Bx{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jx{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let FS=(()=>{class n extends jx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Mf,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),LS=(()=>{class n extends jx{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cs,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();const v0="VALID",YC="INVALID",Ly="PENDING",w0="DISABLED";function jS(n){return(QC(n)?n.validators:n)||null}function $x(n){return Array.isArray(n)?PS(n):n||null}function HS(n,e){return(QC(e)?e.asyncValidators:n)||null}function Gx(n){return Array.isArray(n)?RS(n):n||null}function QC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Wx{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=$x(this._rawValidators),this._composedAsyncValidatorFn=Gx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===v0}get invalid(){return this.status===YC}get pending(){return this.status==Ly}get disabled(){return this.status===w0}get enabled(){return this.status!==w0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=$x(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Gx(e)}addValidators(e){this.setValidators(Vx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Vx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ux(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ux(e,this._rawAsyncValidators))}hasValidator(e){return ZC(this._rawValidators,e)}hasAsyncValidator(e){return ZC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ly,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=w0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=v0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===v0||this.status===Ly)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?w0:v0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ly,this._hasOwnPendingAsyncValidator=!0;const t=Mx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?w0:this.errors?YC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ly)?Ly:this._anyControlsHaveStatus(YC)?YC:v0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){QC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class $S extends Wx{constructor(e,t,r){super(jS(t),HS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function qx(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function zx(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[t])throw new d.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function E0(n,e){GS(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function QR(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Zx(n,e)})}(n,e),function XR(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function JR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Zx(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function YR(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function eI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function GS(n,e){const t=function Fx(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(kx(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Lx(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(kx(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();eI(e._rawValidators,i),eI(e._rawAsyncValidators,i)}function Zx(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const ik={provide:Cs,useExisting:(0,d.Gpc)(()=>C0)},b0=(()=>Promise.resolve(null))();let C0=(()=>{class n extends Cs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new $S({},PS(t),RS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){b0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),E0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){b0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){b0.then(()=>{const r=this._findContainer(t.path),i=new $S({});(function Kx(n,e){GS(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){b0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){b0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Qx(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(es,10),d.Y36(Af,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ik]),d.qOj]}),n})();function Jx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Xx(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const eO=class extends Wx{constructor(e=null,t,r){super(jS(t),HS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),QC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Xx(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Xx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ak={provide:Mf,useExisting:(0,d.Gpc)(()=>nI)},rO=(()=>Promise.resolve(null))();let nI=(()=>{class n extends Mf{constructor(t,r,i,u,c){super(),this._changeDetectorRef=c,this.control=new eO,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function qS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===_0?t=u:function nk(n){return Object.getPrototypeOf(n.constructor)===eg}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function zS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rO.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);rO.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function JC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cs,9),d.Y36(es,10),d.Y36(Af,10),d.Y36(jl,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([ak]),d.qOj,d.TTD]}),n})(),WS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[sO]}),n})(),Nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Ok]}),n})();class CO{}const Md="*";function kk(n,e){return{type:7,name:n,definitions:e,options:{}}}function IO(n,e=null){return{type:4,styles:e,timings:n}}function DO(n,e=null){return{type:2,steps:n,options:e}}function I0(n){return{type:6,styles:n,offset:null}}function eA(n,e,t){return{type:0,name:n,styles:e,options:t}}function TO(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function SO(n){Promise.resolve(null).then(n)}class D0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){SO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class AO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?SO(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function MO(n){return new d.vHH(3e3,!1)}function m1(){return typeof window<"u"&&typeof window.document<"u"}function nA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function xf(n){switch(n.length){case 0:return new D0;case 1:return n[0];default:return new AO(n)}}function xO(n,e,t,r,i=new Map,u=new Map){const c=[],p=[];let y=-1,b=null;if(r.forEach(T=>{const M=T.get("offset"),F=M==y,V=F&&b||new Map;T.forEach((j,re)=>{let Ee=re,Le=j;if("offset"!==re)switch(Ee=e.normalizePropertyName(Ee,c),Le){case"!":Le=i.get(re);break;case Md:Le=u.get(re);break;default:Le=e.normalizeStyleValue(re,Ee,Le,c)}V.set(Ee,Le)}),F||p.push(V),b=V,y=M}),c.length)throw function i1(n){return new d.vHH(3502,!1)}();return p}function rA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&iA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&iA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&iA(t,"destroy",n)))}}function iA(n,e,t){const u=sA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function sA(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function ko(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function OO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let oA=(n,e)=>!1,NO=(n,e,t)=>[],PO=null;function aA(n){const e=n.parentNode||n.host;return e===PO?null:e}(nA()||typeof Element<"u")&&(m1()?(PO=(()=>document.documentElement)(),oA=(n,e)=>{for(;e;){if(e===n)return!0;e=aA(e)}return!1}):oA=(n,e)=>n.contains(e),NO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ng=null,RO=!1;const kO=oA,FO=NO;let LO=(()=>{class n{validateStyleProperty(t){return function _1(n){ng||(ng=function v1(){return typeof document<"u"?document.body:null}()||{},RO=!!ng.style&&"WebkitAppearance"in ng.style);let e=!0;return ng.style&&!function y1(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ng.style,!e&&RO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ng.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return kO(t,r)}getParentElement(t){return aA(t)}query(t,r,i){return FO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],y){return new D0(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),uA=(()=>{class n{}return n.NOOP=new LO,n})();const lA="ng-enter",rI="ng-leave",iI="ng-trigger",sI=".ng-trigger",UO="ng-animating",cA=".ng-animating";function Of(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dA(parseFloat(e[1]),e[2])}function dA(n,e){return"s"===e?1e3*n:n}function oI(n,e,t){return n.hasOwnProperty("duration")?n:function b1(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(MO()),{duration:0,delay:0,easing:""};i=dA(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(u=dA(parseFloat(y),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function Fk(){return new d.vHH(3100,!1)}()),p=!0),u<0&&(e.push(function Lk(){return new d.vHH(3101,!1)}()),p=!0),p&&e.splice(y,0,MO())}return{duration:i,delay:u,easing:c}}(n,e,t)}function T0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function BO(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Nf(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function HO(n,e,t){return t?e+":"+t+";":""}function $O(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=HO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=HO(0,T1(t),n.style[t]));n.setAttribute("style",e)}function Hl(n,e,t){n.style&&(e.forEach((r,i)=>{const u=fA(i);t&&!t.has(i)&&t.set(i,n.style[u]),n.style[u]=r}),nA()&&$O(n))}function rg(n,e){n.style&&(e.forEach((t,r)=>{const i=fA(r);n.style[i]=""}),nA()&&$O(n))}function S0(n){return Array.isArray(n)?1==n.length?n[0]:DO(n):n}const hA=new RegExp("{{\\s*(.+?)\\s*}}","g");function GO(n){let e=[];if("string"==typeof n){let t;for(;t=hA.exec(n);)e.push(t[1]);hA.lastIndex=0}return e}function aI(n,e,t){const r=n.toString(),i=r.replace(hA,(u,c)=>{let p=e[c];return null==p&&(t.push(function Uk(n){return new d.vHH(3003,!1)}()),p=""),p.toString()});return i==r?n:i}function uI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const D1=/-+([a-z0-9])/g;function fA(n){return n.replace(D1,(...e)=>e[1].toUpperCase())}function T1(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Bk(n){return new d.vHH(3004,!1)}()}}function zO(n,e){return window.getComputedStyle(n)[e]}function N1(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function P1(n,e,t){if(":"==n[0]){const y=function R1(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function e1(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Xk(n){return new d.vHH(3015,!1)}()),e;const i=r[1],u=r[2],c=r[3];e.push(qO(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(qO(c,i))}(r,t,e)):t.push(n),t}const hI=new Set(["true","1"]),fI=new Set(["false","0"]);function qO(n,e){const t=hI.has(n)||fI.has(n),r=hI.has(e)||fI.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?hI.has(n):fI.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?hI.has(e):fI.has(e)),c&&p}}const k1=new RegExp("s*:selfs*,?","g");function pA(n,e,t,r){return new F1(n).build(e,t,r)}class F1{constructor(e){this._driver=e}build(e,t,r){const i=new U1(t);return this._resetContextStyleTimingState(i),Fo(this,S0(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Hk(){return new d.vHH(3006,!1)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,b=y.name;b.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,u.push(this.visitState(y,t))}),y.name=b}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function $k(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{GO(y).forEach(b=>{c.hasOwnProperty(b)||u.add(b)})})}),u.size&&(uI(u.values()),t.errors.push(function Gk(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Fo(this,S0(e.animation),t);return{type:1,matchers:N1(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ig(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Fo(this,r,t)),options:ig(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=Fo(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:ig(e.options)}}visitAnimate(e,t){const r=function j1(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return gA(oI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=gA(0,0,"");return u.dynamic=!0,u.strValue=t,u}const i=oI(t,e);return gA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:I0({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=I0(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of i)"string"==typeof p?p===Md?r.push(p):t.errors.push(new d.vHH(3002,!1)):r.push(BO(p));let u=!1,c=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(c=p.get("easing"),p.delete("easing")),!u))for(let y of p.values())if(y.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((p,y)=>{const b=t.collectedStyles.get(t.currentQuerySelector),T=b.get(y);let M=!0;T&&(u!=i&&u>=T.startTime&&i<=T.endTime&&(t.errors.push(function qk(n,e,t,r,i){return new d.vHH(3010,!1)}()),M=!1),u=T.startTime),M&&b.set(y,{startTime:u,endTime:i}),t.options&&function I1(n,e,t){const r=e.params||{},i=GO(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function Vk(n){return new d.vHH(3001,!1)}())})}(p,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Wk(){return new d.vHH(3011,!1)}()),r;let u=0;const c=[];let p=!1,y=!1,b=0;const T=e.steps.map(Le=>{const Je=this._makeStyleAst(Le,t);let pt=null!=Je.offset?Je.offset:function B1(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Je.styles),it=0;return null!=pt&&(u++,it=Je.offset=pt),y=y||it<0||it>1,p=p||it<b,b=it,c.push(it),Je});y&&t.errors.push(function Zk(){return new d.vHH(3012,!1)}()),p&&t.errors.push(function Kk(){return new d.vHH(3200,!1)}());const M=e.steps.length;let F=0;u>0&&u<M?t.errors.push(function Yk(){return new d.vHH(3202,!1)}()):0==u&&(F=1/(M-1));const V=M-1,j=t.currentTime,re=t.currentAnimateTimings,Ee=re.duration;return T.forEach((Le,Je)=>{const pt=F>0?Je==V?1:F*Je:c[Je],it=pt*Ee;t.currentTime=j+re.delay+it,re.duration=it,this._validateStyleAst(Le,t),Le.offset=pt,r.styles.push(Le)}),r}visitReference(e,t){return{type:8,animation:Fo(this,S0(e.animation),t),options:ig(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ig(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ig(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function L1(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(k1,"")),n=n.replace(/@\*/g,sI).replace(/@\w+/g,t=>sI+"-"+t.slice(1)).replace(/:animating/g,cA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,ko(t.collectedStyles,t.currentQuerySelector,new Map);const p=Fo(this,S0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:ig(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Qk(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:oI(e.timings,t.errors,!0);return{type:12,animation:Fo(this,S0(e.animation),t),timings:r,options:null}}}class U1{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ig(n){return n?(n=T0(n)).params&&(n.params=function V1(n){return n?T0(n):null}(n.params)):n={},n}function gA(n,e,t){return{duration:n,delay:e,easing:t}}function mA(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class pI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const G1=new RegExp(":enter","g"),q1=new RegExp(":leave","g");function yA(n,e,t,r,i,u=new Map,c=new Map,p,y,b=[]){return(new W1).buildKeyframes(n,e,t,r,i,u,c,p,y,b)}class W1{buildKeyframes(e,t,r,i,u,c,p,y,b,T=[]){b=b||new pI;const M=new _A(e,t,b,i,u,T,[]);M.options=y;const F=y.delay?Of(y.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([c],null,M.errors,y),Fo(this,r,M);const V=M.timelines.filter(j=>j.containsAnimation());if(V.length&&p.size){let j;for(let re=V.length-1;re>=0;re--){const Ee=V[re];if(Ee.element===t){j=Ee;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([p],null,M.errors,y)}return V.length?V.map(j=>j.buildKeyframes()):[mA(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Of(r.duration):null,p=null!=r.delay?Of(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Fo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=gI);const c=Of(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Fo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Of(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),Fo(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return oI(t.params?aI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*u),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Of(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gI);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((b,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(y=M.currentTimeline),Fo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=t.currentTimeline;y&&T.delayNextStep(y);const M=T.currentTime;Fo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const gI={};class _A{constructor(e,t,r,i,u,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new mI(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Of(r.duration)),null!=r.delay&&(i.delay=Of(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=aI(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new _A(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=gI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},u=new Z1(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(G1,"."+this._enterClassName)).replace(q1,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function Jk(n){return new d.vHH(3014,!1)}()),p}}class mI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new mI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Md),this._currentKeyframe.set(t,Md);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const u=i&&i.params||{},c=function K1(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let u of r)t.set(u,Md)}else Nf(i,t)}),t}(e,this._globalTimelineStyles);for(let[p,y]of c){const b=aI(y,u,r);this._pendingStyles.set(p,b),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)??Md),this._updateStyle(p,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const b=Nf(p,new Map,this._backFill);b.forEach((T,M)=>{"!"===T?e.add(M):T===Md&&t.add(M)}),r||b.set("offset",y/this.duration),i.push(b)});const u=e.size?uI(e.values()):[],c=t.size?uI(t.values()):[];if(r){const p=i[0],y=new Map(p);p.set("offset",0),y.set("offset",1),i=[p,y]}return mA(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class Z1 extends mI{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,y=Nf(e[0]);y.set("offset",0),u.push(y);const b=Nf(e[0]);b.set("offset",KO(p)),u.push(b);const T=e.length-1;for(let M=1;M<=T;M++){let F=Nf(e[M]);const V=F.get("offset");F.set("offset",KO((t+V*r)/c)),u.push(F)}r=c,t=0,i="",e=u}return mA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function KO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class vA{}const Y1=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q1 extends vA{normalizePropertyName(e,t){return fA(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(Y1.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function jk(n,e){return new d.vHH(3005,!1)}())}return c+u}}function YO(n,e,t,r,i,u,c,p,y,b,T,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:b,postStyleProps:T,totalTime:M,errors:F}}const wA={};class QO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function J1(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,u,c,p,y,b,T){const M=[],F=this.ast.options&&this.ast.options.params||wA,j=this.buildStyles(r,p&&p.params||wA,M),re=y&&y.params||wA,Ee=this.buildStyles(i,re,M),Le=new Set,Je=new Map,pt=new Map,it="void"===i,Tt={params:X1(re,F),delay:this.ast.options?.delay},Mt=T?[]:yA(e,t,this.ast.animation,u,c,j,Ee,Tt,b,M);let on=0;if(Mt.forEach(Pd=>{on=Math.max(Pd.duration+Pd.delay,on)}),M.length)return YO(t,this._triggerName,r,i,it,j,Ee,[],[],Je,pt,on,M);Mt.forEach(Pd=>{const Rd=Pd.element,AP=ko(Je,Rd,new Set);Pd.preStyleProps.forEach(lg=>AP.add(lg));const $0=ko(pt,Rd,new Set);Pd.postStyleProps.forEach(lg=>$0.add(lg)),Rd!==t&&Le.add(Rd)});const Is=uI(Le.values());return YO(t,this._triggerName,r,i,it,j,Ee,Mt,Is,Je,pt,on)}}function X1(n,e){const t=T0(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class eF{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=T0(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!==c&&(i[u]=c)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((c,p)=>{c&&(c=aI(c,i,t));const y=this.normalizer.normalizePropertyName(p,t);c=this.normalizer.normalizeStyleValue(p,y,c,t),r.set(y,c)})}),r}}class nF{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new eF(i.style,i.options&&i.options.params||{},r))}),JO(this.states,"true","1"),JO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new QO(e,i,this.states))}),this.fallbackTransition=function rF(n,e,t){return new QO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function JO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const iF=new pI;class sF{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],u=pA(this._driver,t,r,[]);if(r.length)throw function s1(n){return new d.vHH(3503,!1)}();this._animations.set(e,u)}_buildPlayer(e,t,r){const i=e.element,u=xO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations.get(e);let c;const p=new Map;if(u?(c=yA(this._driver,t,u,lA,rI,new Map,new Map,r,iF,i),c.forEach(T=>{const M=ko(p,T.element,new Map);T.postStyleProps.forEach(F=>M.set(F,null))})):(i.push(function o1(){return new d.vHH(3300,!1)}()),c=[]),i.length)throw function a1(n){return new d.vHH(3504,!1)}();p.forEach((T,M)=>{T.forEach((F,V)=>{T.set(V,this._driver.computeStyle(M,V,Md))})});const b=xf(c.map(T=>{const M=p.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function u1(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const u=sA(t,"","","");return rA(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const XO="ng-animate-queued",EA="ng-animate-disabled",cF=[],eN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},dF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},va="__ng_removed";class bA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function gF(n){return n??null}(r?e.value:e),r){const u=T0(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const A0="void",CA=new bA(A0);class hF{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function l1(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function c1(n){return new d.vHH(3303,!1)}();if(!function mF(n){return"start"==n||"done"==n}(r))throw function d1(n,e){return new d.vHH(3400,!1)}();const u=ko(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=ko(this._engine.statesByElement,e,new Map);return p.has(t)||(wa(e,iI),wa(e,iI+"-"+t),p.set(t,CA)),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers.has(t)||p.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function h1(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new IA(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(wa(e,iI),wa(e,iI+"-"+t),this._engine.statesByElement.set(e,p=new Map));let y=p.get(t);const b=new bA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),p.set(t,b),y||(y=CA),b.value!==A0&&y.value===b.value){if(!function vF(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const re=[],Ee=u.matchStyles(y.value,y.params,re),Le=u.matchStyles(b.value,b.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{rg(e,Ee),Hl(e,Le)})}return}const F=ko(this._engine.playersByElement,e,[]);F.forEach(re=>{re.namespaceId==this.id&&re.triggerName==t&&re.queued&&re.destroy()});let V=u.matchTransition(y.value,b.value,e,b.params),j=!1;if(!V){if(!i)return;V=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:y,toState:b,player:c,isFallbackTransition:j}),j||(wa(e,XO),c.onStart(()=>{Vy(e,XO)})),c.onDone(()=>{let re=this.players.indexOf(c);re>=0&&this.players.splice(re,1);const Ee=this._engine.playersByElement.get(e);if(Ee){let Le=Ee.indexOf(c);Le>=0&&Ee.splice(Le,1)}}),this.players.push(c),F.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,sI,!0);r.forEach(i=>{if(i[va])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(u.forEach((y,b)=>{if(c.set(b,y.value),this._triggers.has(b)){const T=this.trigger(e,b,A0,i);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&xf(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers.get(c).fallbackTransition,b=r.get(c)||CA,T=new bA(A0),M=new IA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[va];(!u||u===eN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){wa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=sA(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,rA(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class fF{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new hF(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const u=this._fetchNamespace(i.namespaceId);u&&t.add(u)}return t}trigger(e,t,r,i){if(yI(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!yI(t))return;const u=t[va];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wa(e,EA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vy(e,EA))}removeNode(e,t,r,i){if(yI(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[va]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return yI(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,sI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,cA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[va];if(t&&t.setForRemoval){if(e[va]=eN,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(EA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)wa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xf(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function f1(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new pI,i=[],u=new Map,c=[],p=new Map,y=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(ct=>{T.add(ct);const Ct=this.driver.query(ct,".ng-animate-queued",!0);for(let xt=0;xt<Ct.length;xt++)T.add(Ct[xt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),V=rN(F,this.collectedEnterElements),j=new Map;let re=0;V.forEach((ct,Ct)=>{const xt=lA+re++;j.set(Ct,xt),ct.forEach(dn=>wa(dn,xt))});const Ee=[],Le=new Set,Je=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const Ct=this.collectedLeaveElements[ct],xt=Ct[va];xt&&xt.setForRemoval&&(Ee.push(Ct),Le.add(Ct),xt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(dn=>Le.add(dn)):Je.add(Ct))}const pt=new Map,it=rN(F,Array.from(Le));it.forEach((ct,Ct)=>{const xt=rI+re++;pt.set(Ct,xt),ct.forEach(dn=>wa(dn,xt))}),e.push(()=>{V.forEach((ct,Ct)=>{const xt=j.get(Ct);ct.forEach(dn=>Vy(dn,xt))}),it.forEach((ct,Ct)=>{const xt=pt.get(Ct);ct.forEach(dn=>Vy(dn,xt))}),Ee.forEach(ct=>{this.processLeaveNode(ct)})});const Tt=[],Mt=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(t).forEach(xt=>{const dn=xt.player,Ei=xt.element;if(Tt.push(dn),this.collectedEnterElements.length){const ns=Ei[va];if(ns&&ns.setForMove){if(ns.previousTriggersValues&&ns.previousTriggersValues.has(xt.triggerName)){const cg=ns.previousTriggersValues.get(xt.triggerName),ba=this.statesByElement.get(xt.element);if(ba&&ba.has(xt.triggerName)){const $I=ba.get(xt.triggerName);$I.value=cg,ba.set(xt.triggerName,$I)}}return void dn.destroy()}}const Gl=!M||!this.driver.containsElement(M,Ei),Vo=pt.get(Ei),kf=j.get(Ei),yr=this._buildInstruction(xt,r,kf,Vo,Gl);if(yr.errors&&yr.errors.length)return void Mt.push(yr);if(Gl)return dn.onStart(()=>rg(Ei,yr.fromStyles)),dn.onDestroy(()=>Hl(Ei,yr.toStyles)),void i.push(dn);if(xt.isFallbackTransition)return dn.onStart(()=>rg(Ei,yr.fromStyles)),dn.onDestroy(()=>Hl(Ei,yr.toStyles)),void i.push(dn);const OP=[];yr.timelines.forEach(ns=>{ns.stretchStartingKeyframe=!0,this.disabledNodes.has(ns.element)||OP.push(ns)}),yr.timelines=OP,r.append(Ei,yr.timelines),c.push({instruction:yr,player:dn,element:Ei}),yr.queriedElements.forEach(ns=>ko(p,ns,[]).push(dn)),yr.preStyleProps.forEach((ns,cg)=>{if(ns.size){let ba=y.get(cg);ba||y.set(cg,ba=new Set),ns.forEach(($I,aM)=>ba.add(aM))}}),yr.postStyleProps.forEach((ns,cg)=>{let ba=b.get(cg);ba||b.set(cg,ba=new Set),ns.forEach(($I,aM)=>ba.add(aM))})});if(Mt.length){const ct=[];Mt.forEach(Ct=>{ct.push(function p1(n,e){return new d.vHH(3505,!1)}())}),Tt.forEach(Ct=>Ct.destroy()),this.reportError(ct)}const on=new Map,Is=new Map;c.forEach(ct=>{const Ct=ct.element;r.has(Ct)&&(Is.set(Ct,Ct),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,on))}),i.forEach(ct=>{const Ct=ct.element;this._getPreviousPlayers(Ct,!1,ct.namespaceId,ct.triggerName,null).forEach(dn=>{ko(on,Ct,[]).push(dn),dn.destroy()})});const Pd=Ee.filter(ct=>sN(ct,y,b)),Rd=new Map;nN(Rd,this.driver,Je,b,Md).forEach(ct=>{sN(ct,y,b)&&Pd.push(ct)});const $0=new Map;V.forEach((ct,Ct)=>{nN($0,this.driver,new Set(ct),y,"!")}),Pd.forEach(ct=>{const Ct=Rd.get(ct),xt=$0.get(ct);Rd.set(ct,new Map([...Array.from(Ct?.entries()??[]),...Array.from(xt?.entries()??[])]))});const lg=[],MP=[],xP={};c.forEach(ct=>{const{element:Ct,player:xt,instruction:dn}=ct;if(r.has(Ct)){if(T.has(Ct))return xt.onDestroy(()=>Hl(Ct,dn.toStyles)),xt.disabled=!0,xt.overrideTotalTime(dn.totalTime),void i.push(xt);let Ei=xP;if(Is.size>1){let Vo=Ct;const kf=[];for(;Vo=Vo.parentNode;){const yr=Is.get(Vo);if(yr){Ei=yr;break}kf.push(Vo)}kf.forEach(yr=>Is.set(yr,Ei))}const Gl=this._buildAnimation(xt.namespaceId,dn,on,u,$0,Rd);if(xt.setRealPlayer(Gl),Ei===xP)lg.push(xt);else{const Vo=this.playersByElement.get(Ei);Vo&&Vo.length&&(xt.parentPlayer=xf(Vo)),i.push(xt)}}else rg(Ct,dn.fromStyles),xt.onDestroy(()=>Hl(Ct,dn.toStyles)),MP.push(xt),T.has(Ct)&&i.push(xt)}),MP.forEach(ct=>{const Ct=u.get(ct.element);if(Ct&&Ct.length){const xt=xf(Ct);ct.setRealPlayer(xt)}}),i.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<Ee.length;ct++){const Ct=Ee[ct],xt=Ct[va];if(Vy(Ct,rI),xt&&xt.hasAnimation)continue;let dn=[];if(p.size){let Gl=p.get(Ct);Gl&&Gl.length&&dn.push(...Gl);let Vo=this.driver.query(Ct,cA,!0);for(let kf=0;kf<Vo.length;kf++){let yr=p.get(Vo[kf]);yr&&yr.length&&dn.push(...yr)}}const Ei=dn.filter(Gl=>!Gl.destroyed);Ei.length?yF(this,Ct,Ei):this.processLeaveNode(Ct)}return Ee.length=0,lg.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const Ct=this.players.indexOf(ct);this.players.splice(Ct,1)}),ct.play()}),lg}elementContainsData(e,t){let r=!1;const i=t[va];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!u||u==A0;p.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,T=b!==u,M=ko(r,b,[]);this._getPreviousPlayers(b,T,c,p,t.toState).forEach(V=>{const j=V.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),V.destroy(),M.push(V)})}rg(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,y=t.element,b=[],T=new Set,M=new Set,F=t.timelines.map(j=>{const re=j.element;T.add(re);const Ee=re[va];if(Ee&&Ee.removedBeforeQueried)return new D0(j.duration,j.delay);const Le=re!==y,Je=function _F(n){const e=[];return iN(n,e),e}((r.get(re)||cF).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===re),pt=u.get(re),it=c.get(re),Tt=xO(0,this._normalizer,0,j.keyframes,pt,it),Mt=this._buildPlayer(j,Tt,Je);if(j.subTimeline&&i&&M.add(re),Le){const on=new IA(e,p,re);on.setRealPlayer(Mt),b.push(on)}return Mt});b.forEach(j=>{ko(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function pF(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,j.element,j))}),T.forEach(j=>wa(j,UO));const V=xf(F);return V.onDestroy(()=>{T.forEach(j=>Vy(j,UO)),Hl(y,t.toStyles)}),M.forEach(j=>{ko(i,j,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new D0(e.duration,e.delay)}}class IA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new D0,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>rA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ko(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function yI(n){return n&&1===n.nodeType}function tN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function nN(n,e,t,r,i){const u=[];t.forEach(y=>u.push(tN(y)));const c=[];r.forEach((y,b)=>{const T=new Map;y.forEach(M=>{const F=e.computeStyle(b,M,i);T.set(M,F),(!F||0==F.length)&&(b[va]=dF,c.push(b))}),n.set(b,T)});let p=0;return t.forEach(y=>tN(y,u[p++])),c}function rN(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let y=u.get(p);if(y)return y;const b=p.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function wa(n,e){n.classList?.add(e)}function Vy(n,e){n.classList?.remove(e)}function yF(n,e,t){xf(t).onDone(()=>n.processLeaveNode(e))}function iN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof AO?iN(r.players,e):e.push(r)}}function sN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class _I{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new fF(e,t,r),this._timelineEngine=new sF(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],T=pA(this._driver,u,y,[]);if(y.length)throw function r1(n,e){return new d.vHH(3404,!1)}();p=function tF(n,e,t){return new nF(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=OO(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=OO(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let EF=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Hl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hl(this._element,this._initialStyles),this._endStyles&&(Hl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(rg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rg(this._element,this._endStyles),this._endStyles=null),Hl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DA(n){let e=null;return n.forEach((t,r)=>{(function bF(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class oN{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:zO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class CF{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return kO(e,t)}getParentElement(e){return aA(e)}query(e,t,r){return FO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b=new Map,T=c.filter(V=>V instanceof oN);(function S1(n,e){return 0===n||0===e})(r,i)&&T.forEach(V=>{V.currentSnapshot.forEach((j,re)=>b.set(re,j))});let M=function C1(n){return n.length?n[0]instanceof Map?n:n.map(e=>BO(e)):[]}(t).map(V=>Nf(V));M=function A1(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((u,c)=>{r.has(c)||i.push(c),r.set(c,u)}),i.length)for(let u=1;u<e.length;u++){let c=e[u];i.forEach(p=>c.set(p,zO(n,p)))}}return e}(e,M,b);const F=function wF(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=DA(e[0]),e.length>1&&(r=DA(e[e.length-1]))):e instanceof Map&&(t=DA(e)),t||r?new EF(n,t,r):null}(e,M);return new oN(e,M,y,F)}}let IF=(()=>{class n extends CO{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?DO(t):t;return aN(this._renderer,null,r,"register",[i]),new DF(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class DF extends class Rk{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new TF(this._id,e,t||{},this._renderer)}}class TF{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return aN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function aN(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const uN="@.disabled";let SF=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=c?.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(u);return T||(T=new lN("",u,this.engine),this._rendererCache.set(u,T)),T}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(c,p,t,T.name,T)};return r.data.animation.forEach(y),new AF(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(_I),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class lN{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==uN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class AF extends lN{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==uN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function MF(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.slice(1),c="";return"@"!=u.charAt(0)&&([u,c]=function xF(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let OF=(()=>{class n extends _I{constructor(t,r,i,u){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue),d.LFG(uA),d.LFG(vA),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cN=[{provide:CO,useClass:IF},{provide:vA,useFactory:function NF(){return new Q1}},{provide:_I,useClass:OF},{provide:d.FYo,useFactory:function PF(n,e,t){return new SF(n,e,t)},deps:[uo,_I,d.R0b]}],TA=[{provide:uA,useFactory:()=>new CF},{provide:d.QbO,useValue:"BrowserAnimations"},...cN],dN=[{provide:uA,useClass:LO},{provide:d.QbO,useValue:"NoopAnimations"},...cN];let RF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?dN:TA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:TA,imports:[Zu]}),n})();const hN=["toast-component",""];function kF(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.remove())}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA()()}}function FF(n,e){if(1&n&&(d.ynx(0),d._uU(1),d.BQk()),2&n){const t=d.oxw(2);d.xp6(1),d.hij("[",t.duplicatesCount+1,"]")}}function LF(n,e){if(1&n&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,FF,2,1,"ng-container",4),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.titleClass),d.uIk("aria-label",t.title),d.xp6(1),d.hij(" ",t.title," "),d.xp6(1),d.Q6J("ngIf",t.duplicatesCount)}}function VF(n,e){if(1&n&&d._UZ(0,"div",7),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.Q6J("innerHTML",t.message,d.oJD)}}function UF(n,e){if(1&n&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&n){const t=d.oxw();d.Tol(t.options.messageClass),d.uIk("aria-label",t.message),d.xp6(1),d.hij(" ",t.message," ")}}function BF(n,e){if(1&n&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Udp("width",t.width+"%")}}class WF{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class wI{constructor(e,t,r,i,u,c){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=u,this.toastRef=c,this._onTap=new hi.x,this._onAction=new hi.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const pN=new d.OlP("ToastConfig");class KF{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new hi.x,this._activate=new hi.x,this._manualClose=new hi.x,this._resetTimeout=new hi.x,this._countDuplicate=new hi.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class YF{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===wI?this._toastPackage:this._parentInjector.get(e,t,r)}}class QF extends class ZF{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class JF{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let XF=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eL=(()=>{class n{constructor(t,r,i,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new QF(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new JF(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(XF),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(ue))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SA=(()=>{class n{constructor(t,r,i,u,c){this.overlay=r,this._injector=i,this.sanitizer=u,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,u){const{includeTitleDuplicates:c}=this.toastrConfig;for(const p of this.toasts){const y=c&&p.title===t;if((!c||y)&&p.message===r)return p.toastRef.onDuplicate(i,u),p}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,u)):this._buildNotification(t,r,i,u)}_buildNotification(t,r,i,u){if(!u.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let p=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(p=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const y=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let b=r;r&&u.enableHtml&&(b=this.sanitizer.sanitize(d.q3G.HTML,r));const T=new KF(y),M=new wI(this.index,u,b,i,t,T),F=new YF(M,this._injector),V=new WF(u.toastComponent,F),j=y.attach(V,this.toastrConfig.newestOnTop);T.componentInstance=j.instance;const re={toastId:this.index,title:i||"",message:r||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:j};return p||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{re.toastRef.activate()})),this.toasts.push(re),re}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pN),d.LFG(eL),d.LFG(d.zs3),d.LFG(Ga),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tL={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(SA),d.Y36(wI),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(d.d8E("@flyInOut",r.state),d.Tol(r.toastClasses),d.Udp("display",r.displayStyle))},attrs:hN,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(d.YNc(0,kF,3,0,"button",0),d.YNc(1,LF,3,5,"div",1),d.YNc(2,VF,1,3,"div",2),d.YNc(3,UF,2,4,"div",3),d.YNc(4,BF,2,2,"div",4)),2&t&&(d.Q6J("ngIf",r.options.closeButton),d.xp6(1),d.Q6J("ngIf",r.title),d.xp6(1),d.Q6J("ngIf",r.message&&r.options.enableHtml),d.xp6(1),d.Q6J("ngIf",r.message&&!r.options.enableHtml),d.xp6(1),d.Q6J("ngIf",r.options.progressBar))},dependencies:[In],encapsulation:2,data:{animation:[kk("flyInOut",[eA("inactive",I0({opacity:0})),eA("active",I0({opacity:1})),eA("removed",I0({opacity:0})),TO("inactive => active",IO("{{ easeTime }}ms {{ easing }}")),TO("active => removed",IO("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let nL=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:pN,useValue:{default:tL,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Bo]}),n})();class Lo extends hi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var rL=k(9672);function gN(...n){const e=(0,Vs.yG)(n),t=(0,Vs.jO)(n),{args:r,keys:i}=px(n);if(0===r.length)return(0,en.D)([],e);const u=new ti.y(function iL(n,e,t=ih.y){return r=>{mN(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)mN(e,()=>{const b=(0,en.D)(n[y],e);let T=!1;b.subscribe((0,Cn.x)(r,M=>{u[y]=M,T||(T=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>mx(i,c):ih.y));return t?u.pipe(gx(t)):u}function mN(n,e,t){n?(0,rL.f)(t,n,e):e()}function yN(n){return new ti.y(e=>{(0,Ny.Xf)(n()).subscribe(e)})}var sL=k(9635);function M0(n,e){const t=(0,ni.m)(n)?n:()=>n,r=i=>i.error(t());return new ti.y(e?i=>e.schedule(r,0,i):r)}var _N=k(727);function AA(){return(0,Bn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class vN extends ti.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Bn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _N.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_N.w0.EMPTY)}return e}refCount(){return AA()(this)}}var ts=k(8505);function Pf(n){return(0,Bn.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Cn.x)(t,void 0,void 0,c=>{u=(0,Ny.Xf)(n(c,Pf(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function MA(n){return n<=0?()=>vu.E:(0,Bn.e)((e,t)=>{let r=[];e.subscribe((0,Cn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function wN(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ar((i,u)=>n(i,u,r)):ih.y,MA(1),t?Jp(e):Ry(()=>new Df))}function xA(n){return(0,Bn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const zt="primary",x0=Symbol("RouteTitle");class uL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Uy(n){return new uL(n)}function lL(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $l(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!EN(n[i],e[i]))return!1;return!0}function EN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function bN(n){return Array.prototype.concat.apply([],n)}function CN(n){return n.length>0?n[n.length-1]:null}function Vi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Rf(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,en.D)(Promise.resolve(n)):nt(n)}const hL={exact:function TN(n,e,t){if(!og(n.segments,e.segments)||!EI(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!TN(n.children[r],e.children[r],t))return!1;return!0},subset:SN},IN={exact:function fL(n,e){return $l(n,e)},subset:function pL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EN(n[t],e[t]))},ignored:()=>!0};function DN(n,e,t){return hL[t.paths](n.root,e.root,t.matrixParams)&&IN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function SN(n,e,t){return AN(n,e,e.segments,t)}function AN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!og(i,t)||e.hasChildren()||!EI(i,t,r))}if(n.segments.length===t.length){if(!og(n.segments,t)||!EI(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!SN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(og(n.segments,i)&&EI(n.segments,i,r)&&n.children[zt])&&AN(n.children[zt],e,u,r)}}function EI(n,e,t){return e.every((r,i)=>IN[t](n[i].parameters,r.parameters))}class sg{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uy(this.queryParams)),this._queryParamMap}toString(){return yL.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Vi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bI(this)}}class O0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Uy(this.parameters)),this._parameterMap}toString(){return NN(this)}}function og(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let MN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new NA},providedIn:"root"}),n})();class NA{parse(e){const t=new TL(e);return new sg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${N0(e.root,!0)}`,r=function wL(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${CI(t)}=${CI(i)}`).join("&"):`${CI(t)}=${CI(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function _L(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const yL=new NA;function bI(n){return n.segments.map(e=>NN(e)).join("/")}function N0(n,e){if(!n.hasChildren())return bI(n);if(e){const t=n.children[zt]?N0(n.children[zt],!1):"",r=[];return Vi(n.children,(i,u)=>{u!==zt&&r.push(`${u}:${N0(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function mL(n,e){let t=[];return Vi(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),Vi(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[N0(n.children[zt],!1)]:[`${i}:${N0(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${bI(n)}/${t[0]}`:`${bI(n)}/(${t.join("//")})`}}function xN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function CI(n){return xN(n).replace(/%3B/gi,";")}function PA(n){return xN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function II(n){return decodeURIComponent(n)}function ON(n){return II(n.replace(/\+/g,"%20"))}function NN(n){return`${PA(n.path)}${function vL(n){return Object.keys(n).map(e=>`;${PA(e)}=${PA(n[e])}`).join("")}(n.parameters)}`}const EL=/^[^\/()?;=#]+/;function DI(n){const e=n.match(EL);return e?e[0]:""}const bL=/^[^=?&#]+/,IL=/^[^&#]+/;class TL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new Zt(e,t)),r}parseSegment(){const e=DI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new O0(II(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=DI(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=DI(this.remaining);i&&(r=i,this.capture(r))}e[II(t)]=II(r)}parseQueryParam(e){const t=function CL(n){const e=n.match(bL);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function DL(n){const e=n.match(IL);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=ON(t),u=ON(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=DI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=zt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[zt]:new Zt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function RA(n){return n.segments.length>0?new Zt([],{[zt]:n}):n}function TI(n){const e={};for(const r of Object.keys(n.children)){const u=TI(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function SL(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function ag(n){return n instanceof sg}function xL(n,e,t,r,i){if(0===t.length)return By(e.root,e.root,e.root,r,i);const u=function kN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new RN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return Vi(u.outlets,(y,b)=>{p[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new RN(t,e,r)}(t);return u.toRoot()?By(e.root,e.root,new Zt([],{}),r,i):function c(y){const b=function NL(n,e,t,r){if(n.isAbsolute)return new jy(e.root,!0,0);if(-1===r)return new jy(t,t===e.root,0);return function FN(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new d.vHH(4005,!1);i=r.segments.length}return new jy(r,!1,i-u)}(t,r+(P0(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,y),T=b.processChildren?k0(b.segmentGroup,b.index,u.commands):FA(b.segmentGroup,b.index,u.commands);return By(e.root,b.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function P0(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function R0(n){return"object"==typeof n&&null!=n&&n.outlets}function By(n,e,t,r,i){let c,u={};r&&Vi(r,(y,b)=>{u[b]=Array.isArray(y)?y.map(T=>`${T}`):`${y}`}),c=n===e?t:PN(n,e,t);const p=RA(TI(c));return new sg(p,u,i)}function PN(n,e,t){const r={};return Vi(n.children,(i,u)=>{r[u]=i===e?t:PN(i,e,t)}),new Zt(n.segments,r)}class RN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&P0(r[0]))throw new d.vHH(4003,!1);const i=r.find(R0);if(i&&i!==CN(r))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function FA(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return k0(n,e,t);const r=function RL(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(R0(p))break;const y=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!VN(y,b,c))return u;r+=2}else{if(!VN(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Zt(n.segments.slice(0,r.pathIndex),{});return u.children[zt]=new Zt(n.segments.slice(r.pathIndex),n.children),k0(u,0,i)}return r.match&&0===i.length?new Zt(n.segments,{}):r.match&&!n.hasChildren()?LA(n,e,t):r.match?k0(n,0,i):LA(n,e,t)}function k0(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const r=function PL(n){return R0(n[0])?n[0].outlets:{[zt]:n}}(t),i={};return Vi(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=FA(n.children[c],e,u))}),Vi(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Zt(n.segments,i)}}function LA(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(R0(u)){const y=kL(u.outlets);return new Zt(r,y)}if(0===i&&P0(t[0])){r.push(new O0(n.segments[e].path,LN(t[0]))),i++;continue}const c=R0(u)?u.outlets[zt]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&P0(p)?(r.push(new O0(c,LN(p))),i+=2):(r.push(new O0(c,{})),i++)}return new Zt(r,{})}function kL(n){const e={};return Vi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=LA(new Zt([],{}),0,t))}),e}function LN(n){const e={};return Vi(n,(t,r)=>e[r]=`${t}`),e}function VN(n,e,t){return n==t.path&&$l(e,t.parameters)}class xd{constructor(e,t){this.id=e,this.url=t}}class VA extends xd{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ug extends xd{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class SI extends xd{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class UN extends xd{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class FL extends xd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LL extends xd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VL extends xd{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class UL extends xd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BL extends xd{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jL{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class HL{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $L{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GL{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zL{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=UA(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=UA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=BA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return BA(e,this._root).map(t=>t.value)}}function UA(n,e){if(n===e.value)return e;for(const t of e.children){const r=UA(n,t);if(r)return r}return null}function BA(n,e){if(n===e.value)return[e];for(const t of e.children){const r=BA(n,t);if(r.length)return r.unshift(e),r}return[]}class Od{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Hy(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HN extends jN{constructor(e,t){super(e),this.snapshot=t,jA(this,e)}toString(){return this.snapshot.toString()}}function $N(n,e){const t=function ZL(n,e){const c=new AI([],{},{},"",{},zt,e,null,n.root,-1,{});return new zN("",new Od(c,[]))}(n,e),r=new Lo([new O0("",{})]),i=new Lo({}),u=new Lo({}),c=new Lo({}),p=new Lo(""),y=new Nd(r,i,c,p,u,zt,e,t.root);return y.snapshot=t.root,new HN(new Od(y,[]),t)}class Nd{constructor(e,t,r,i,u,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,_t.U)(b=>b[x0]))??nt(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_t.U)(e=>Uy(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_t.U)(e=>Uy(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function GN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function KL(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class AI{constructor(e,t,r,i,u,c,p,y,b,T,M,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.title=this.data?.[x0],this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=T,this._correctedLastPathIndex=F??T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zN extends jN{constructor(e,t){super(t),this.url=e,jA(this,t)}toString(){return qN(this._root)}}function jA(n,e){e.value._routerState=n,e.children.forEach(t=>jA(n,t))}function qN(n){const e=n.children.length>0?` { ${n.children.map(qN).join(", ")} } `:"";return`${n.value}${e}`}function HA(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$l(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$l(e.params,t.params)||n.params.next(t.params),function cL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$l(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$l(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $A(n,e){const t=$l(n.params,e.params)&&function gL(n,e){return og(n,e)&&n.every((t,r)=>$l(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$A(n.parent,e.parent))}function F0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function QL(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return F0(n,r,i);return F0(n,r)})}(n,e,t);return new Od(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>F0(n,p)),c}}const r=function JL(n){return new Nd(new Lo(n.url),new Lo(n.params),new Lo(n.queryParams),new Lo(n.fragment),new Lo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>F0(n,u));return new Od(r,i)}}const GA="ngNavigationCancelingError";function WN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ag(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ZN(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ZN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[GA]=!0,r.cancellationCode=e,t&&(r.url=t),r}function KN(n){return YN(n)&&ag(n.url)}function YN(n){return n&&n[GA]}class XL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new L0,this.attachRef=null}}let L0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new XL,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MI=!1;let xI=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=i||zt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,MI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,MI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,MI);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,MI);this._activatedRoute=t;const i=this.location,c=t._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new eV(t,p,i.injector);if(r&&function tV(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,y)}else this.activated=i.createComponent(c,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(L0),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class eV{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Nd?this.route:e===L0?this.childContexts:this.parent.get(e,t)}}let zA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[xI],encapsulation:2}),n})();function QN(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function WA(n){const e=n.children&&n.children.map(WA),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=zA),t}function Ea(n){return n.outlet||zt}function JN(n,e){const t=n.filter(r=>Ea(r)===e);return t.push(...n.filter(r=>Ea(r)!==e)),t}function V0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oV{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),HA(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Hy(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Vi(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Hy(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Hy(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Hy(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new qL(u.value.snapshot))}),e.children.length&&this.forwardEvent(new GL(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(HA(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),HA(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=V0(i.snapshot),y=p?.get(d._Vd)??null;c.attachRef=null,c.route=i,c.resolver=y,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class XN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class OI{constructor(e,t){this.component=e,this.route=t}}function aV(n,e,t){const r=n._root;return U0(r,e?e._root:null,t,[r.value])}function $y(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function U0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Hy(e);return n.children.forEach(c=>{(function lV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function cV(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!og(n.url,e.url);case"pathParamsOrQueryParamsChange":return!og(n.url,e.url)||!$l(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$A(n,e)||!$l(n.queryParams,e.queryParams);default:return!$A(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new XN(r)):(u.data=c.data,u._resolvedData=c._resolvedData),U0(n,e,u.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new OI(p.outlet.component,c))}else c&&B0(e,p,i),i.canActivateChecks.push(new XN(r)),U0(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Vi(u,(c,p)=>B0(c,t.getContext(p),i)),i}function B0(n,e,t){const r=Hy(n),i=n.value;Vi(r,(u,c)=>{B0(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new OI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function j0(n){return"function"==typeof n}function ZA(n){return n instanceof Df||"EmptyError"===n?.name}const NI=Symbol("INITIAL_VALUE");function Gy(){return qr(n=>gN(n.map(e=>e.pipe(Py(1),nh(NI)))).pipe((0,_t.U)(e=>{for(const t of e)if(!0!==t){if(t===NI)return NI;if(!1===t||t instanceof sg)return t}return!0}),Ar(e=>e!==NI),Py(1)))}function eP(n){return(0,sL.z)((0,ts.b)(e=>{if(ag(e))throw WN(0,e)}),(0,_t.U)(e=>!0===e))}const KA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tP(n,e,t,r,i){const u=YA(n,e,t);return u.matched?function SV(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?nt(i.map(c=>{const p=$y(c,n);return Rf(function mV(n){return n&&j0(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Gy(),eP()):nt(!0)}(r=QN(e,r),e,t).pipe((0,_t.U)(c=>!0===c?u:{...KA})):nt(u)}function YA(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...KA}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lL)(t,n,e);if(!i)return{...KA};const u={};Vi(i.posParams,(p,y)=>{u[y]=p.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function PI(n,e,t,r,i="corrected"){if(t.length>0&&function xV(n,e,t){return t.some(r=>RI(n,e,r)&&Ea(r)!==zt)}(n,t,r)){const c=new Zt(e,function MV(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ea(u)!==zt){const c=new Zt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ea(u)]=c}return i}(n,e,r,new Zt(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function OV(n,e,t){return t.some(r=>RI(n,e,r))}(n,t,r)){const c=new Zt(n.segments,function AV(n,e,t,r,i,u){const c={};for(const p of r)if(RI(n,t,p)&&!i[Ea(p)]){const y=new Zt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[Ea(p)]=y}return{...i,...c}}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Zt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function RI(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function nP(n,e,t,r){return!!(Ea(n)===r||r!==zt&&RI(e,t,n))&&("**"===n.path||YA(e,n,t).matched)}function rP(n,e,t){return 0===e.length&&!n.children[t]}const kI=!1;class FI{constructor(e){this.segmentGroup=e||null}}class iP{constructor(e){this.urlTree=e}}function H0(n){return M0(new FI(n))}function sP(n){return M0(new iP(n))}class kV{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=PI(this.urlTree.root,[],[],this.config).segmentGroup,t=new Zt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe((0,_t.U)(u=>this.createUrlTree(TI(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pf(u=>{if(u instanceof iP)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof FI?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,zt).pipe((0,_t.U)(i=>this.createUrlTree(TI(i),e.queryParams,e.fragment))).pipe(Pf(i=>{throw i instanceof FI?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,kI)}createUrlTree(e,t,r){const i=RA(e);return new sg(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,_t.U)(u=>new Zt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,en.D)(i).pipe(ps(u=>{const c=r.children[u],p=JN(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,_t.U)(y=>({segment:y,outlet:u})))}),rl((u,c)=>(u[c.outlet]=c.segment,u),{}),wN())}expandSegment(e,t,r,i,u,c){return(0,en.D)(r).pipe(ps(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(Pf(b=>{if(b instanceof FI)return nt(null);throw b}))),wu(p=>!!p),Pf((p,y)=>{if(ZA(p))return rP(t,i,u)?nt(new Zt([],{})):H0(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return nP(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):H0(t):H0(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?sP(u):this.lineralizeSegments(r,u).pipe((0,cn.z)(c=>{const p=new Zt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:y,remainingSegments:b,positionalParamSegments:T}=YA(t,i,u);if(!p)return H0(t);const M=this.applyRedirectCommands(y,i.redirectTo,T);return i.redirectTo.startsWith("/")?sP(M):this.lineralizeSegments(i,M).pipe((0,cn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=QN(r,e),r.loadChildren?(r._loadedRoutes?nt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,_t.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Zt(i,{})))):nt(new Zt(i,{}))):tP(t,r,i,e).pipe(qr(({matched:c,consumedSegments:p,remainingSegments:y})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,cn.z)(T=>{const M=T.injector??e,F=T.routes,{segmentGroup:V,slicedSegments:j}=PI(t,p,y,F),re=new Zt(V.segments,V.children);if(0===j.length&&re.hasChildren())return this.expandChildren(M,F,re).pipe((0,_t.U)(pt=>new Zt(p,pt)));if(0===F.length&&0===j.length)return nt(new Zt(p,{}));const Ee=Ea(r)===u;return this.expandSegment(M,re,F,j,Ee?zt:u,!0).pipe((0,_t.U)(Je=>new Zt(p.concat(Je.segments),Je.children)))})):H0(t)))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function TV(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?nt(!0):nt(i.map(c=>{const p=$y(c,n);return Rf(function hV(n){return n&&j0(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Gy(),eP())}(e,t,r).pipe((0,cn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,ts.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function PV(n){return M0(ZN(kI,3))}())):nt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[zt])return M0(new d.vHH(4e3,kI));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new sg(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Vi(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Vi(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new Zt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,kI);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class LV{}class BV{constructor(e,t,r,i,u,c,p,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=p,this.urlSerializer=y}recognize(){const e=PI(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,zt).pipe((0,_t.U)(t=>{if(null===t)return null;const r=new AI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Od(r,t),u=new zN(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=GN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,en.D)(Object.keys(r.children)).pipe(ps(i=>{const u=r.children[i],c=JN(t,i);return this.processSegmentGroup(e,c,u,i)}),rl((i,u)=>i&&u?(i.push(...u),i):null),function oL(n,e=!1){return(0,Bn.e)((t,r)=>{let i=0;t.subscribe((0,Cn.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),Jp(null),wN(),(0,_t.U)(i=>{if(null===i)return null;const u=oP(i);return function jV(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,en.D)(t).pipe(ps(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),wu(c=>!!c),Pf(c=>{if(ZA(c))return rP(r,i,u)?nt([]):nt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!nP(t,r,i,u))return nt(null);let c;if("**"===t.path){const p=i.length>0?CN(i).parameters:{},y=uP(r)+i.length;c=nt({snapshot:new AI(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cP(t),Ea(t),t.component??t._loadedComponent??null,t,aP(r),y,dP(t),y),consumedSegments:[],remainingSegments:[]})}else c=tP(r,t,i,e).pipe((0,_t.U)(({matched:p,consumedSegments:y,remainingSegments:b,parameters:T})=>{if(!p)return null;const M=uP(r)+y.length;return{snapshot:new AI(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,cP(t),Ea(t),t.component??t._loadedComponent??null,t,aP(r),M,dP(t),M),consumedSegments:y,remainingSegments:b}}));return c.pipe(qr(p=>{if(null===p)return nt(null);const{snapshot:y,consumedSegments:b,remainingSegments:T}=p;e=t._injector??e;const M=t._loadedInjector??e,F=function HV(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:j}=PI(r,b,T,F.filter(Ee=>void 0===Ee.redirectTo),this.relativeLinkResolution);if(0===j.length&&V.hasChildren())return this.processChildren(M,F,V).pipe((0,_t.U)(Ee=>null===Ee?null:[new Od(y,Ee)]));if(0===F.length&&0===j.length)return nt([new Od(y,[])]);const re=Ea(t)===u;return this.processSegment(M,F,V,j,re?zt:u).pipe((0,_t.U)(Ee=>null===Ee?null:[new Od(y,Ee)]))}))}}function $V(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oP(n){const e=[],t=new Set;for(const r of n){if(!$V(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=oP(r.children);e.push(new Od(r.value,i))}return e.filter(r=>!t.has(r))}function aP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function uP(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function cP(n){return n.data||{}}function dP(n){return n.resolve||{}}function hP(n){return"string"==typeof n.title||null===n.title}function QA(n){return qr(e=>{const t=n(e);return t?(0,en.D)(t).pipe((0,_t.U)(()=>e)):nt(e)})}let fP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[x0]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(pP)},providedIn:"root"}),n})(),pP=(()=>{class n extends fP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(hs))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QV{}class XV extends class JV{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const VI=new d.OlP("",{providedIn:"root",factory:()=>({})}),JA=new d.OlP("ROUTES");let XA=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Rf(t.loadComponent()).pipe((0,ts.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),xA(()=>{this.componentLoaders.delete(t)})),i=new vN(r,()=>new hi.x).pipe(AA());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,_t.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,b,T=!1;Array.isArray(p)?b=p:(y=p.create(t).injector,b=bN(y.get(JA,[],d.XFs.Self|d.XFs.Optional)));return{routes:b.map(WA),injector:y}}),xA(()=>{this.childrenLoaders.delete(r)})),c=new vN(u,()=>new hi.x).pipe(AA());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Rf(t()).pipe((0,cn.z)(r=>r instanceof d.YKP||Array.isArray(r)?nt(r):(0,en.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3),d.LFG(d.Sil))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tU{}class nU{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function rU(n){throw n}function iU(n,e,t){return e.parse("/")}const sU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function mP(){const n=(0,d.f3M)(MN),e=(0,d.f3M)(L0),t=(0,d.f3M)(Ae),r=(0,d.f3M)(d.zs3),i=(0,d.f3M)(d.Sil),u=(0,d.f3M)(JA,{optional:!0})??[],c=(0,d.f3M)(VI,{optional:!0})??{},p=(0,d.f3M)(pP),y=(0,d.f3M)(fP,{optional:!0}),b=(0,d.f3M)(tU,{optional:!0}),T=(0,d.f3M)(QV,{optional:!0}),M=new Dr(null,n,e,t,r,i,bN(u));return b&&(M.urlHandlingStrategy=b),T&&(M.routeReuseStrategy=T),M.titleStrategy=y??p,function aU(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,M),M}let Dr=(()=>{class n{constructor(t,r,i,u,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new hi.x,this.errorHandler=rU,this.malformedUriErrorHandler=iU,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>nt(void 0),this.urlHandlingStrategy=new nU,this.routeReuseStrategy=new XV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(XA),this.configLoader.onLoadEndListener=F=>this.triggerEvent(new HL(F)),this.configLoader.onLoadStartListener=F=>this.triggerEvent(new jL(F)),this.ngModule=c.get(d.h0i),this.console=c.get(d.c2e);const M=c.get(d.R0b);this.isNgZoneEnabled=M instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function dL(){return new sg(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$N(this.currentUrlTree,this.rootComponentType),this.transitions=new Lo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ar(i=>0!==i.id),(0,_t.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qr(i=>{let u=!1,c=!1;return nt(i).pipe((0,ts.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qr(p=>{const y=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return yP(p.source)&&(this.browserUrlTree=p.extractedUrl),nt(p).pipe(qr(M=>{const F=this.transitions.getValue();return r.next(new VA(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?vu.E:Promise.resolve(M)}),function FV(n,e,t,r){return qr(i=>function RV(n,e,t,r,i){return new kV(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,_t.U)(u=>({...i,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ts.b)(M=>{this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},i.urlAfterRedirects=M.urlAfterRedirects}),function zV(n,e,t,r,i,u){return(0,cn.z)(c=>function UV(n,e,t,r,i,u,c="emptyOnly",p="legacy"){return new BV(n,e,t,r,i,c,p,u).recognize().pipe(qr(y=>null===y?function VV(n){return new ti.y(e=>e.error(n))}(new LV):nt(y)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,i,u).pipe((0,_t.U)(p=>({...c,targetSnapshot:p}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ts.b)(M=>{if(i.targetSnapshot=M.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(V,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new FL(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:V,source:j,restoredState:re,extras:Ee}=p,Le=new VA(F,this.serializeUrl(V),j,re);r.next(Le);const Je=$N(V,this.rootComponentType).snapshot;return nt(i={...p,targetSnapshot:Je,urlAfterRedirects:V,extras:{...Ee,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=p.rawUrl,p.resolve(null),vu.E}),(0,ts.b)(p=>{const y=new LL(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,_t.U)(p=>i={...p,guards:aV(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function _V(n,e){return(0,cn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?nt({...t,guardsResult:!0}):function vV(n,e,t,r){return(0,en.D)(n).pipe((0,cn.z)(i=>function DV(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?nt(u.map(p=>{const y=V0(e)??i,b=$y(p,y);return Rf(function gV(n){return n&&j0(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):y.runInContext(()=>b(n,e,t,r))).pipe(wu())})).pipe(Gy()):nt(!0)}(i.component,i.route,t,e,r)),wu(i=>!0!==i,!0))}(c,r,i,n).pipe((0,cn.z)(p=>p&&function dV(n){return"boolean"==typeof n}(p)?function wV(n,e,t,r){return(0,en.D)(e).pipe(ps(i=>Ka(function bV(n,e){return null!==n&&e&&e(new $L(n)),nt(!0)}(i.route.parent,r),function EV(n,e){return null!==n&&e&&e(new zL(n)),nt(!0)}(i.route,r),function IV(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function uV(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>yN(()=>nt(c.guards.map(y=>{const b=V0(c.node)??t,T=$y(y,b);return Rf(function pV(n){return n&&j0(n.canActivateChild)}(T)?T.canActivateChild(r,n):b.runInContext(()=>T(r,n))).pipe(wu())})).pipe(Gy())));return nt(u).pipe(Gy())}(n,i.path,t),function CV(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(u=>yN(()=>{const c=V0(e)??t,p=$y(u,c);return Rf(function fV(n){return n&&j0(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(wu())}));return nt(i).pipe(Gy())}(n,i.route,t))),wu(i=>!0!==i,!0))}(r,u,n,e):nt(p)),(0,_t.U)(p=>({...t,guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ts.b)(p=>{if(i.guardsResult=p.guardsResult,ag(p.guardsResult))throw WN(0,p.guardsResult);const y=new VL(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Ar(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),QA(p=>{if(p.guards.canActivateChecks.length)return nt(p).pipe((0,ts.b)(y=>{const b=new UL(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),qr(y=>{let b=!1;return nt(y).pipe(function qV(n,e){return(0,cn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let u=0;return(0,en.D)(i).pipe(ps(c=>function WV(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!hP(i)&&(u[x0]=i.title),function ZV(n,e,t,r){const i=function KV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nt({});const u={};return(0,en.D)(i).pipe((0,cn.z)(c=>function YV(n,e,t,r){const i=V0(e)??r,u=$y(n,i);return Rf(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(wu(),(0,ts.b)(p=>{u[c]=p}))),MA(1),function aL(n){return(0,_t.U)(()=>n)}(u),Pf(c=>ZA(c)?vu.E:M0(c)))}(u,n,e,r).pipe((0,_t.U)(c=>(n._resolvedData=c,n.data=GN(n,t).resolve,i&&hP(i)&&(n.data[x0]=i.title),null)))}(c.route,r,n,e)),(0,ts.b)(()=>u++),MA(1),(0,cn.z)(c=>u===i.length?nt(t):vu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ts.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,ts.b)(y=>{const b=new BL(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),QA(p=>{const y=b=>{const T=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,ts.b)(M=>{b.component=M}),(0,_t.U)(()=>{})));for(const M of b.children)T.push(...y(M));return T};return gN(y(p.targetSnapshot.root)).pipe(Jp(),Py(1))}),QA(()=>this.afterPreactivation()),(0,_t.U)(p=>{const y=function YL(n,e,t){const r=F0(n,e._root,t?t._root:void 0);return new HN(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:y}}),(0,ts.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,_t.U)(r=>(new oV(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ts.b)({next(){u=!0},complete(){u=!0}}),xA(()=>{u||c||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Pf(p=>{if(c=!0,YN(p)){KN(p)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new SI(i.id,this.serializeUrl(i.extractedUrl),p.message,p.cancellationCode);if(r.next(y),KN(p)){const b=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yP(i.source)};this.scheduleNavigation(b,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new UN(i.id,this.serializeUrl(i.extractedUrl),p,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return vu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const p={...u};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,u,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(WA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,b=i||this.routerState.root,T=y?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M={...this.currentUrlTree.queryParams,...u};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),xL(b,this.currentUrlTree,t,M,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ag(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function uU(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...sU}:!1===r?{...oU}:r,ag(t))return DN(this.currentUrlTree,t,i);const u=this.parseUrl(t);return DN(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ug(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let p,y,b;c?(p=c.resolve,y=c.reject,b=c.promise):b=new Promise((F,V)=>{p=F,y=V});const T=++this.navigationId;let M;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),M=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):M=0,this.setTransition({id:T,targetPageId:M,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:p,reject:y,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const u=new SI(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:function(){return mP()},providedIn:"root"}),n})();function yP(n){return"imperative"!==n}let eM=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new hi.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Dr),d.Y36(Nd),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})(),zy=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new hi.x,this.subscription=t.events.subscribe(u=>{u instanceof ug&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,u,c){return!!(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Dr),d.Y36(Nd),d.Y36(_e))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})(),tM=(()=>{class n{constructor(t,r,i,u,c,p){this.router=t,this.element=r,this.renderer=i,this.cdr=u,this.link=c,this.linkWithHref=p,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.vpe,this.routerEventsSubscription=t.events.subscribe(y=>{y instanceof ug&&this.update()})}ngAfterContentInit(){nt(this.links.changes,this.linksWithHrefs.changes,nt(null)).pipe((0,nl.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,en.D)(t).pipe((0,nl.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function lU(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Dr),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(eM,8),d.Y36(zy,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,eM,5),d.Suo(i,zy,5)),2&t){let u;d.iGM(u=d.CRH())&&(r.links=u),d.iGM(u=d.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.TTD]}),n})();class _P{}let cU=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ar(t=>t instanceof ug),ps(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,p=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(p,u.children??u._loadedRoutes))}return(0,en.D)(i).pipe((0,nl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const u=i.pipe((0,cn.z)(c=>null===c?nt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,en.D)([u,c]).pipe((0,nl.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Dr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(_P),d.LFG(XA))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nM=new d.OlP("");let vP=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof VA?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ug&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new BN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function qy(n,e){return{\u0275kind:n,\u0275providers:e}}function rM(n){return[{provide:JA,multi:!0,useValue:n}]}function EP(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Dr),i=n.get(bP);1===n.get(iM)&&r.initialNavigation(),n.get(CP,null,d.XFs.Optional)?.setUpPreloading(),n.get(nM,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const bP=new d.OlP("",{factory:()=>new hi.x}),iM=new d.OlP("",{providedIn:"root",factory:()=>1});const CP=new d.OlP("");function pU(n){return qy(0,[{provide:CP,useExisting:cU},{provide:_P,useExisting:n}])}const IP=new d.OlP("ROUTER_FORROOT_GUARD"),gU=[Ae,{provide:MN,useClass:NA},{provide:Dr,useFactory:mP},L0,{provide:Nd,useFactory:function wP(n){return n.routerState.root},deps:[Dr]},XA];function mU(){return new d.PXZ("Router",Dr)}let DP=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gU,[],rM(t),{provide:IP,useFactory:wU,deps:[[Dr,new d.FiY,new d.tp0]]},{provide:VI,useValue:r||{}},r?.useHash?{provide:_e,useClass:st}:{provide:_e,useClass:Ke},{provide:nM,useFactory:()=>{const n=(0,d.f3M)(Dr),e=(0,d.f3M)(Tu),t=(0,d.f3M)(VI);return t.scrollOffset&&e.setOffset(t.scrollOffset),new vP(n,e,t)}},r?.preloadingStrategy?pU(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:mU},r?.initialNavigation?EU(r):[],[{provide:TP,useFactory:EP},{provide:d.tb,multi:!0,useExisting:TP}]]}}static forChild(t){return{ngModule:n,providers:[rM(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(IP,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[zA]}),n})();function wU(n){return"guarded"}function EU(n){return["disabled"===n.initialNavigation?qy(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Dr);return()=>{e.setUpLocationChangeListener()}}},{provide:iM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?qy(2,[{provide:iM,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve(null));let r=!1;return()=>t.then(()=>new Promise(u=>{const c=e.get(Dr),p=e.get(bP);(function i(u){e.get(Dr).events.pipe(Ar(p=>p instanceof ug||p instanceof SI||p instanceof UN),(0,_t.U)(p=>p instanceof ug||p instanceof SI&&(0===p.code||1===p.code)&&null),Ar(p=>null!==p),Py(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),c.afterPreactivation=()=>(u(!0),r||p.closed?nt(void 0):p),c.initialNavigation()}))}}]).\u0275providers:[]]}const TP=new d.OlP("");class Wr{constructor(e,t="",r="",i="",u="",c=null,p=!1){this._id=e,this.title=t,this.description=r,this.author=i,this.imgUrl=u,this.rating=c,this.isStarred=p}}let sM=(()=>{class n{constructor(){}setId(){var t="";const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let u=0;u<10;u++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}generateRandom(t=100){let r=Math.random()*t;return console.log(r),r=Math.floor(r),r}store(t,r){return localStorage[t]=JSON.stringify(r),r}load(t){var r=localStorage[t]||"null";return JSON.parse(r)}refresh(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oM=(()=>{class n{constructor(t){this.UtilService=t,this._BOOKdb=[],this.KEY="books",this.books=[],this._books$=new Lo([]),this.books$=this._books$.asObservable()}mockDB(){this._BOOKdb=this.UtilService.load(this.KEY)||this.UtilService.store(this.KEY,[new Wr("5a56640269f443a5d64b32ca","The Lightning Thief","Percy Jackson is a good kid, but he can't seem to focus on his schoolwork or control his temper. And lately, being away at boarding school is only getting worse - Percy could have sworn his pre-algebra teacher turned into a monster and tried to kill him. When Percy's mom finds out, she knows it's time that he knew the truth about where he came from, and that he go to the one place he'll be safe. She sends Percy to Camp Half Blood, a summer camp for demigods (on Long Island), where he learns that the father he never knew is Poseidon, God of the Sea. Soon a mystery unfolds and together with his friends\u2014one a satyr and the other the demigod daughter of Athena - Percy sets out on a quest across the United States to reach the gates of the Underworld (located in a recording studio in Hollywood) and prevent a catastrophic war between the gods.","Rick Riordan","1.png"),new Wr("5a5664025f6ae9aa24a99fde","The Bad Beginning","Dear Reader, I'm sorry to say that the book you are holding in your hands is extremely unpleasant. It tells an unhappy tale about three very unlucky children. Even though they are charming and clever, the Baudelaire siblings lead lives filled with misery and woe. From the very first page of this book when the children are at the beach and receive terrible news, continuing on through the entire story, disaster lurks at their heels. One might say they are magnets for misfortune.In this short book alone, the three youngsters encounter a greedy and repulsive villain, itchy clothing, a disastrous fire, a plot to steal their fortune, and cold porridge for breakfast. It is my sad duty to write down these unpleasant tales, but there is nothing stopping you from putting this book down at once and reading something happy, if you prefer that sort of thing. With all due respect Lemony Snicket","Lemony Snicket","2.png"),new Wr("5a56640252d6acddd183d319","Minno","It isn't easy being thirteen ... and being raised by your grandfather ... and having a name like Minno ... and then having to journey through a strange land. But Minno is doing the best she can. For all her young life Minno believed her parents were dead. Then she learns they're alive, but they're in grave danger. Her friend Hailey thought she was having a sleepover at her friend's house. Now she's Minno's ally and partner on an incredible quest. Together the girls embark on the adventure of a lifetime, where they face a veritable menagerie of strange creatures, both friendly and unfriendly to their cause. Oh, yea, then there's one evil high minister Craveaux, who must stop Minno while he steals all the magic in the kingdom for his own sinister purposes. Minno has to save her parents, and along the way discover who she really is.","James Barlog","3.png"),new Wr("5a566402ed1cf349f0b47b4d","Amanda Lester and the Pink Sugar Conspiracy","Twelve-year-old Amanda Lester wouldn't be caught dead going into the family business. Just because she's related to Inspector G. Lestrade, that bumbler who sometimes worked with master sleuth Sherlock Holmes, doesn't mean she should become a detective and give up her dream of becoming a filmmaker. Unfortunately, her plans are in jeopardy. Her latest project with the Stick Dog Filmmakers Club and Production Company isn't coming together, and her control freak tendencies have driven away all her actors. If she doesn't make a winning film soon, her parents will insist that she go into the L.A.P.D. young cadets training program, and her budding career will be over. So when Herb and Lila Lester suddenly send her to a secret English school for the descendants of famous detectives, Amanda resists-until she and her new friends notice drops of blood and weird pink substances in odd places. Are these strange happenings clues to a real mystery or simply part of the elaborate class project the teachers assign every year? The answer comes all too soon. When Amanda's father disappears and the school's cook is found dead with her head in a bag of sugar, the kids are certain that crimes are taking place. Now Amanda must embrace her destiny and uncover the truth. The only snag is that arch-villain Blixus Moriarty, a descendant of Holmes's nemesis Professor James Moriarty, might be involved, and he doesn't like nosy little girls interfering in his business.","Paula Berinstein","4.png"),new Wr("5a566402abce24c6bfe4699d","The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr("5a566402a6499c1d4da9220a","School of Fear","With very few options left, the parents of these four twelve year-olds send them to the highly elusive and exclusive School of Fear to help them overcome their phobias. But when their peculiar teacher, Mrs. Wellington, and her unconventional teaching methods turn out to be more frightening than even their fears, the foursome realize that this just may be the scariest summer of their lives.","Gitty Daneshvari, Emma Walton Hamilton","6.png"),new Wr("5a566402f90ae30e97f990db","Artemis Fowl","Twelve-year-old Artemis Fowl is a millionaire, a genius, and above all, a criminal mastermind. But even Artemis doesn't know what he's taken on when he kidnaps a fairy, Captain Holly Short of the LEPrecon Unit. These aren't the fairies of bedtime stories\u2014they're dangerous! Full of unexpected twists and turns, Artemis Fowl is a riveting, magical adventure.","Eoin Colfer","7.png"),new Wr(this.UtilService.setId(),"A Suitable Boy","Vikram Seth's novel is, at its core, a love story: Lata and her mother, Mrs. Rupa Mehra, are both trying to find\u2014through love or through exacting maternal appraisal\u2014a suitable boy for Lata to marry. Set in the early 1950s, in an India newly independent and struggling through a time of crisis, A Suitable Boy takes us into the richly imagined world of four large extended families and spins a compulsively readable tale of their lives and loves. A sweeping panoramic portrait of a complex, multiethnic society in flux, A Suitable Boy remains the story of ordinary people caught up in a web of love and ambition, humor and sadness, prejudice and reconciliation, the most delicate social etiquette and the most appalling violence.","Vikram Seth","8.png"),new Wr(this.UtilService.setId(),"Infernal Devices","HE INHERITED A WATCHMAKER'S STORE - AND A WHOLE HEAP OF TROUBLE. But idle sometime-musician George has little talent for clockwork. And when a shadowy figure tries to steal an old device from the premises, George finds himself embroiled in a mystery of time travel, music and sexual intrigue. A genuine lost classic, a steampunk original whose time has come.","K.W. Jeter","9.png"),new Wr(this.UtilService.setId(),"The Reapers are the Angels","Zombies have infested a fallen America. A young girl named Temple is on the run. Haunted by her past and pursued by a killer, Temple is surrounded by death and danger, hoping to be set free. For twenty-five years, civilization has survived in meager enclaves, guarded against a plague of the dead. Temple wanders this blighted landscape, keeping to herself - and keeping her demons inside. She can't remember a time before the zombies, but she does remember an old man who took her in and the younger brother she cared for until the tragedy that set her on a personal journey toward redemption. Moving back and forth between the insulated remnants of society and the brutal frontier beyond, Temple must decide where ultimately to make a home and find the salvation she seeks.","Alden Bell","10.png"),new Wr(this.UtilService.setId(),"How to Fall Out of Love Madly","Joy and Annie are friends and roommates whose thirtysomething existences aren't exactly what they'd imagined for themselves. Struggling to make ends meet, they decide to rent their extra bedroom to Theo, who charms Joy with his salt-and-pepper hair and adoration of their one-eyed cat. When Annie goes to live with her boyfriend, Theo and Joy settle into a comfortable domesticity. Then Theo brings home Celine, the girlfriend he's never mentioned and who is possibly the most stunning woman Joy has ever seen. Joy resolves to do whatever it takes to nurture the bond she and Theo have forged. Anything Celine might deny him, Joy will grant. Distracted by her need to please Theo, Joy fails to see that Celine's beauty doesn't protect her from her own insecurities. Celine is so haunted by an event in her past that she can't access the confidence she yearns to exude.","Jana Casale","11.png"),new Wr(this.UtilService.setId(),"Sacrificio","Set in Cuba in 1998, Sacrificio is a triumphant and mesmeric work of violence, loss, and identity, following a group of young HIV-positive counterrevolutionaries who seek to overthrow the Castro government. Rafa, an Afro-Cuban orphan, moves to Havana with nothing to his name and falls into a job at a caf\xe9. He is soon drawn into a web of bizarre, ever-shifting entanglements with his boss\u2019s son, the charismatic Renato, leader of the counterrevolutionary group \u201cLos Injected Ones,\u201d which is planning a violent overthrow of the Castro government during Pope John Paul II's upcoming visit.","Ernesto Mestre-Reed","12.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png"),new Wr(this.UtilService.setId(),"The Maze of Bones","When their beloved aunt--matriarch of the world's most powerful family--dies, orphaned siblings Amy and Dan Cahill compete with less honorable Cahill descendants in a race around the world to find cryptic clues to a mysterious fortune. Book includes game cards which the reader may use to play an online version of the treasure hunt.","Rick Riordan","5.png")])}loadBooks(){this.mockDB(),this.books=this._BOOKdb,this._books$.next(this.books)}getById(t){const r=this.books.find(i=>i._id===t);return r?nt({...r}):nt()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CU=function(){return{"limit-txt":!0}};let IU=(()=>{class n{constructor(t,r){this.route=t,this.router=r}details(){this.router.navigate([this.book._id],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Nd),d.Y36(Dr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["book-preview"]],inputs:{book:"book"},decls:15,vars:6,consts:[[1,"flex","book-card"],[3,"src"],[1,"info"],[1,"details-title",3,"click"],[3,"ngClass"],[1,"read-more",3,"click"],[1,"small-title","smaller"]],template:function(t,r){1&t&&(d.TgZ(0,"li",0),d._UZ(1,"img",1),d.TgZ(2,"section",2)(3,"h3",3),d.NdJ("click",function(){return r.details()}),d._uU(4),d.qZA(),d.TgZ(5,"h5"),d._uU(6),d.qZA(),d.TgZ(7,"p",4),d._uU(8),d.qZA(),d.TgZ(9,"span",5),d.NdJ("click",function(){return r.details()}),d._uU(10,"... Read More"),d.qZA(),d.TgZ(11,"p"),d._uU(12,"\u2b50\u2b50\u2b50\u2b50\u2b50 "),d.TgZ(13,"span",6),d._uU(14,"4.29 avg rating - 387 ratings"),d.qZA()()()()),2&t&&(d.xp6(1),d.Q6J("src","assets/img/"+r.book.imgUrl,d.LSH),d.xp6(3),d.Oqu(r.book.title),d.xp6(2),d.Oqu(r.book.author),d.xp6(1),d.Q6J("ngClass",d.DdM(5,CU)),d.xp6(1),d.Oqu(r.book.description))},dependencies:[sn],styles:['.book-card[_ngcontent-%COMP%]{padding:1rem;overflow:hidden;box-shadow:0 -1px #a29f9f5e;gap:1rem;max-width:625px}.book-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:120px}.book-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.book-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{overflow:hidden}.book-card[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%], .book-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{align-self:flex-start;cursor:pointer}.book-card[_ngcontent-%COMP%]   .details-title[_ngcontent-%COMP%]:hover, .book-card[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]:hover{text-decoration:underline}.limit-txt[_ngcontent-%COMP%]{max-height:40px}.limit-txt[_ngcontent-%COMP%]:after{content:"Read More"}']}),n})();function DU(n,e){1&n&&d._UZ(0,"book-preview",3),2&n&&d.Q6J("book",e.$implicit)}let TU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["book-list"]],inputs:{books:"books"},decls:3,vars:1,consts:[[1,"narrow-container","book-list-wrapper"],[1,"clean-list","book-list"],[3,"book",4,"ngFor","ngForOf"],[3,"book"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"ul",1),d.YNc(2,DU,1,1,"book-preview",2),d.qZA()()),2&t&&(d.xp6(2),d.Q6J("ngForOf",r.books))},dependencies:[Ms,IU],styles:[".book-list-wrapper[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;margin-top:50px;background-color:inherit;gap:20px}@media (max-width: 1250px){.book-list-wrapper[_ngcontent-%COMP%]   .book-list[_ngcontent-%COMP%]{grid-template-columns:100%}}@media (max-width: 900px){.book-list-wrapper[_ngcontent-%COMP%]{padding-inline:0}}"]}),n})(),SU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["loader"]],decls:24,vars:0,consts:[[1,"loader-wrapper"],[1,"loader"],["viewBox","0 0 90 120","fill","currentColor"],["d","M90,0 L90,120 L11,120 C4.92486775,120 0,115.075132 0,109 L0,11 C0,4.92486775 4.92486775,0 11,0 L90,0 Z M71.5,81 L18.5,81 C17.1192881,81 16,82.1192881 16,83.5 C16,84.8254834 17.0315359,85.9100387 18.3356243,85.9946823 L18.5,86 L71.5,86 C72.8807119,86 74,84.8807119 74,83.5 C74,82.1745166 72.9684641,81.0899613 71.6643757,81.0053177 L71.5,81 Z M71.5,57 L18.5,57 C17.1192881,57 16,58.1192881 16,59.5 C16,60.8254834 17.0315359,61.9100387 18.3356243,61.9946823 L18.5,62 L71.5,62 C72.8807119,62 74,60.8807119 74,59.5 C74,58.1192881 72.8807119,57 71.5,57 Z M71.5,33 L18.5,33 C17.1192881,33 16,34.1192881 16,35.5 C16,36.8254834 17.0315359,37.9100387 18.3356243,37.9946823 L18.5,38 L71.5,38 C72.8807119,38 74,36.8807119 74,35.5 C74,34.1192881 72.8807119,33 71.5,33 Z"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"div",1)(2,"div")(3,"ul")(4,"li"),d.O4$(),d.TgZ(5,"svg",2),d._UZ(6,"path",3),d.qZA()(),d.kcU(),d.TgZ(7,"li"),d.O4$(),d.TgZ(8,"svg",2),d._UZ(9,"path",3),d.qZA()(),d.kcU(),d.TgZ(10,"li"),d.O4$(),d.TgZ(11,"svg",2),d._UZ(12,"path",3),d.qZA()(),d.kcU(),d.TgZ(13,"li"),d.O4$(),d.TgZ(14,"svg",2),d._UZ(15,"path",3),d.qZA()(),d.kcU(),d.TgZ(16,"li"),d.O4$(),d.TgZ(17,"svg",2),d._UZ(18,"path",3),d.qZA()(),d.kcU(),d.TgZ(19,"li"),d.O4$(),d.TgZ(20,"svg",2),d._UZ(21,"path",3),d.qZA()()()(),d.kcU(),d.TgZ(22,"span"),d._uU(23,"Loading"),d.qZA()()())},styles:['.loader-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-block-start:1rem;background-color:#f3e0cd36;padding:4rem}.loader[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #f3e0cdf7, rgb(122, 29, 29));--shadow: rgba(249, 172, 172, .28);--text: #6C7486;--page: rgba(255, 255, 255, .36);--page-fold: rgba(255, 255, 255, .52);--duration: 3s;width:200px;height:140px;position:relative}.loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after{--r: -6deg;content:"";position:absolute;bottom:8px;width:120px;top:80%;box-shadow:0 16px 12px var(--shadow);transform:rotate(var(--r))}.loader[_ngcontent-%COMP%]:before{left:4px}.loader[_ngcontent-%COMP%]:after{--r: 6deg;right:4px}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:13px;position:relative;z-index:1;perspective:600px;box-shadow:0 4px 6px var(--shadow);background-image:var(--background)}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;position:relative}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{--r: 180deg;--o: 0;--c: var(--page);position:absolute;top:10px;left:10px;transform-origin:100% 50%;color:var(--c);opacity:var(--o);transform:rotateY(var(--r));animation:var(--duration) ease infinite}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){--c: var(--page-fold);animation-name:page-2}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){--c: var(--page-fold);animation-name:page-3}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){--c: var(--page-fold);animation-name:page-4}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){--c: var(--page-fold);animation-name:page-5}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:90px;height:120px;display:block}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{--r: 0deg;--o: 1}.loader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{--o: 1}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;left:0;right:0;top:100%;margin-top:20px;text-align:center;color:var(--text)}@keyframes page-2{0%{transform:rotateY(180deg);opacity:0}20%{opacity:1}35%,to{opacity:0}50%,to{transform:rotateY(0)}}@keyframes page-3{15%{transform:rotateY(180deg);opacity:0}35%{opacity:1}50%,to{opacity:0}65%,to{transform:rotateY(0)}}@keyframes page-4{30%{transform:rotateY(180deg);opacity:0}50%{opacity:1}65%,to{opacity:0}80%,to{transform:rotateY(0)}}@keyframes page-5{45%{transform:rotateY(180deg);opacity:0}65%{opacity:1}80%,to{opacity:0}95%,to{transform:rotateY(0)}}html[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-font-smoothing:antialiased}*[_ngcontent-%COMP%]{box-sizing:inherit}*[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:inherit}body[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;background:#1C212E;font-family:Roboto,Arial}body[_ngcontent-%COMP%]   .dribbble[_ngcontent-%COMP%]{position:fixed;display:block;right:24px;bottom:24px}body[_ngcontent-%COMP%]   .dribbble[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:76px}']}),n})();function AU(n,e){if(1&n&&(d._UZ(0,"book-list",3),d.ALo(1,"async")),2&n){const t=d.oxw();d.Q6J("books",d.lcZ(1,1,t.books$))}}function MU(n,e){1&n&&d._UZ(0,"loader")}let xU=(()=>{class n{constructor(t){this.BookService=t,this.isLoading=!0}ngOnInit(){setTimeout(()=>{this.isLoading=!1},1500),this.BookService.loadBooks(),this.books$=this.BookService.books$}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(oM))},n.\u0275cmp=d.Xpm({type:n,selectors:[["book-app"]],decls:5,vars:2,consts:[[1,"container","books-container"],[3,"books",4,"ngIf","ngIfElse"],["showLoader",""],[3,"books"]],template:function(t,r){if(1&t&&(d.TgZ(0,"section",0),d.YNc(1,AU,2,3,"book-list",1),d.YNc(2,MU,1,0,"ng-template",null,2,d.W1O),d._UZ(4,"router-outlet"),d.qZA()),2&t){const i=d.MAs(3);d.xp6(1),d.Q6J("ngIf",!r.isLoading)("ngIfElse",i)}},dependencies:[In,xI,TU,SU,Cu],styles:[".books-container[_ngcontent-%COMP%]{height:100%;background-color:inherit}"]}),n})(),OU=(()=>{class n{constructor(t,r){this.http=t,this.UtilService=r}getQuotesFromApi(){return this.http.get("https://goquotes-api.herokuapp.com/api/v1/random?count=300").pipe((0,_t.U)(t=>t.quotes),(0,_t.U)(t=>t[this.UtilService.generateRandom(t.length)]))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(mo),d.LFG(sM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-hero"]],decls:5,vars:0,consts:[[1,"app-hero"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"h1")(2,"span"),d._uU(3,"Find your new "),d.qZA(),d._uU(4,"favorite book."),d.qZA()())},styles:[".app-hero[_ngcontent-%COMP%]{background-image:url(https://wallpaperaccess.com/full/934061.jpg);background-size:cover;background-repeat:no-repeat;background-position-y:-300px;width:100%;height:300px;display:flex;justify-content:center;align-items:center}.app-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:800;font-size:3.5rem;max-width:350px;line-height:60px;text-shadow:1px 1px 10px rgba(233,227,227,.608);color:#7a1d1d}.app-hero[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fceeee;text-shadow:1px 1px 10px rgba(249,172,172,.808)}@media (max-width: 960px){.app-hero[_ngcontent-%COMP%]{background-position-y:0}}"]}),n})(),PU=(()=>{class n{constructor(t){this.router=t}goToBooks(){console.log("hi"),this.router.navigateByUrl("/explore")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Dr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["explore-btn"]],decls:8,vars:0,consts:[[1,"animated-arrow",3,"click"],[1,"explore-btn","-left"],[1,"shaft"],[1,"main"],[1,"text"],[1,"explore-btn","-right"]],template:function(t,r){1&t&&(d.TgZ(0,"button",0),d.NdJ("click",function(){return r.goToBooks()}),d.TgZ(1,"span",1),d._UZ(2,"span",2),d.qZA(),d.TgZ(3,"span",3)(4,"span",4),d._uU(5," Explore More "),d.qZA(),d.TgZ(6,"span",5),d._UZ(7,"span",2),d.qZA()()())},styles:['.explore-btn[_ngcontent-%COMP%]{width:1px;transition:all .2s}.explore-btn.-left[_ngcontent-%COMP%]{position:absolute;top:60%;left:0}.explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]{width:0;background-color:#000}.explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before, .explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{width:0;background-color:#000}.explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before{transform:rotate(0)}.explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{transform:rotate(0)}.explore-btn.-right[_ngcontent-%COMP%]{top:3px}.explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]{width:1px;transition-delay:.2s}.explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before, .explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{width:8px;transition-delay:.3s;transition:all .5s}.explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before{transform:rotate(40deg)}.explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{transform:rotate(-40deg)}.explore-btn[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]{background-color:#000;display:block;height:1px;position:relative;transition:all .2s;transition-delay:0;will-change:transform}.explore-btn[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before, .explore-btn[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{background-color:#000;content:"";display:block;height:1px;position:absolute;top:0;right:0;transition:all .2s;transition-delay:0}.explore-btn[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before{transform-origin:top right}.explore-btn[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{transform-origin:bottom right}.animated-arrow[_ngcontent-%COMP%]{display:inline-block;color:#000;font-size:1.25em;text-decoration:none;position:relative;transition:all .2s;font-family:inherit;cursor:pointer}.animated-arrow[_ngcontent-%COMP%]:hover{color:#2e2929c3}.animated-arrow[_ngcontent-%COMP%]:hover > .explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]{width:30px;transition-delay:.1s;background-color:#2e2929c3}.animated-arrow[_ngcontent-%COMP%]:hover > .explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before, .animated-arrow[_ngcontent-%COMP%]:hover > .explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{width:8px;transition-delay:.1s;background-color:#2e2929c3}.animated-arrow[_ngcontent-%COMP%]:hover > .explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before{transform:rotate(40deg)}.animated-arrow[_ngcontent-%COMP%]:hover > .explore-btn.-left[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{transform:rotate(-40deg)}.animated-arrow[_ngcontent-%COMP%]:hover > .main[_ngcontent-%COMP%]{transform:translate(17px);transform:translate(30px)}.animated-arrow[_ngcontent-%COMP%]:hover > .main[_ngcontent-%COMP%] > .explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]{width:0;transform:translate(200%);transition-delay:0}.animated-arrow[_ngcontent-%COMP%]:hover > .main[_ngcontent-%COMP%] > .explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before, .animated-arrow[_ngcontent-%COMP%]:hover > .main[_ngcontent-%COMP%] > .explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{width:0;transition-delay:0;transition:all .1s}.animated-arrow[_ngcontent-%COMP%]:hover > .main[_ngcontent-%COMP%] > .explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:before{transform:rotate(0)}.animated-arrow[_ngcontent-%COMP%]:hover > .main[_ngcontent-%COMP%] > .explore-btn.-right[_ngcontent-%COMP%] > .shaft[_ngcontent-%COMP%]:after{transform:rotate(0)}.animated-arrow[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%]{display:flex;align-items:center;transition:all .2s}.animated-arrow[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%] > .text[_ngcontent-%COMP%]{margin:0 16px 0 0;line-height:1}.animated-arrow[_ngcontent-%COMP%] > .main[_ngcontent-%COMP%] > .explore-btn[_ngcontent-%COMP%]{position:relative}']}),n})();function RU(n,e){1&n&&d._UZ(0,"img",4),2&n&&d.Q6J("src","assets/img/"+e.$implicit.imgUrl,d.LSH)}function kU(n,e){1&n&&d._UZ(0,"img",4),2&n&&d.Q6J("src","assets/img/"+e.$implicit.imgUrl,d.LSH)}let FU=(()=>{class n{constructor(){this.fantasyBooks=[],this.thrillerBooks=[]}ngOnInit(){!this.books||(this.fantasyBooks=this.books.slice(0,6),this.thrillerBooks=this.books.slice(6,12))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["discover"]],inputs:{books:"books"},decls:14,vars:2,consts:[[1,"flex","column","discover-container"],[1,"covers-container","flex","align-center"],[1,"cover-imgs"],[3,"src",4,"ngFor","ngForOf"],[3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"h4"),d._uU(2,"Browse more fantasy books"),d.qZA(),d.TgZ(3,"div",1)(4,"div",2),d.YNc(5,RU,1,1,"img",3),d.qZA(),d._UZ(6,"explore-btn"),d.qZA()(),d.TgZ(7,"section",0)(8,"h4"),d._uU(9,"Browse more thriller books"),d.qZA(),d.TgZ(10,"div",1)(11,"div",2),d.YNc(12,kU,1,1,"img",3),d.qZA(),d._UZ(13,"explore-btn"),d.qZA()()),2&t&&(d.xp6(5),d.Q6J("ngForOf",r.fantasyBooks),d.xp6(7),d.Q6J("ngForOf",r.thrillerBooks))},dependencies:[Ms,PU],styles:[".discover-container[_ngcontent-%COMP%]{margin-block-start:1rem;gap:3px;background-color:#ffedd9a2;padding:1rem;outline:1.5px solid rgba(0,0,0,.078);gap:10px}.discover-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100px}.discover-container[_ngcontent-%COMP%]   .covers-container[_ngcontent-%COMP%]{gap:5px}.discover-container[_ngcontent-%COMP%]   .cover-imgs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px}"]}),n})();const LU=function(n){return{fade:n}};function VU(n,e){if(1&n&&(d.TgZ(0,"section",8)(1,"div",9)(2,"h2"),d._uU(3),d.qZA(),d.TgZ(4,"span",10),d._uU(5),d.qZA()()()),2&n){const t=d.oxw();d.Q6J("ngClass",d.VKq(3,LU,t.isFade)),d.xp6(3),d.Oqu(t.quote.text),d.xp6(2),d.Oqu(t.quote.author)}}let UU=(()=>{class n{constructor(t,r){this.BookService=t,this.QuoteService=r,this.quote=null,this.quoteIntervalID=null,this.isFade=!1}ngOnInit(){this.BookService.loadBooks(),this.books$=this.BookService.books$,this.subscription=this.QuoteService.getQuotesFromApi().subscribe(t=>{this.quote=t}),this.quoteIntervalID=setInterval(()=>{this.subscription=this.QuoteService.getQuotesFromApi().subscribe(t=>{this.isFade=!0,setTimeout(()=>{this.quote=t,this.isFade=!1},500)})},4500)}ngOnDestroy(){this.subscription.unsubscribe(),this.quoteIntervalID&&clearInterval(this.quoteIntervalID)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(oM),d.Y36(OU))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:27,vars:4,consts:[[1,"narrow-container","home-paragraphs","flex"],[1,"narrow-container","home-wrapper"],[1,"discover-books"],[3,"books"],[1,"quote-title"],["class","quote-wrapper",3,"ngClass",4,"ngIf"],[1,"ad"],["src","https://thepienews.com/wp-content/uploads/2011/10/ad-placeholder-empty-without.png"],[1,"quote-wrapper",3,"ngClass"],[1,"quote-info"],[1,"small-title"]],template:function(t,r){1&t&&(d.TgZ(0,"div"),d._UZ(1,"app-hero"),d.TgZ(2,"div",0)(3,"section")(4,"h3"),d._uU(5,"Deciding what to read next?"),d.qZA(),d.TgZ(6,"p"),d._uU(7," You\u2019re in the right place. Tell us what titles or genres you\u2019ve enjoyed in the past, and we\u2019ll give you surprisingly insightful recommendations. "),d.qZA()(),d.TgZ(8,"section")(9,"h3"),d._uU(10,"What are your friends reading?"),d.qZA(),d.TgZ(11,"p"),d._uU(12," Chances are your friends are discussing their favorite (and least favorite) books on missBooks. "),d.qZA()()(),d.TgZ(13,"section",1)(14,"section",2)(15,"h3"),d._uU(16,"Books to discover"),d.qZA(),d._UZ(17,"a")(18,"discover",3),d.ALo(19,"async"),d.TgZ(20,"h3",4),d._uU(21,"Get inspired while you're here.."),d.qZA(),d.YNc(22,VU,6,5,"section",5),d.qZA(),d.TgZ(23,"section",6),d._UZ(24,"img",7)(25,"img",7)(26,"img",7),d.qZA()()()),2&t&&(d.xp6(18),d.Q6J("books",d.lcZ(19,2,r.books$)),d.xp6(4),d.Q6J("ngIf",r.quote))},dependencies:[sn,In,NU,FU,Cu],styles:[".home-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:70% 30%;margin-block-start:2rem;gap:10px}.home-wrapper[_ngcontent-%COMP%]   .ad[_ngcontent-%COMP%]{grid-column:2}.home-wrapper[_ngcontent-%COMP%]   .ad[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}@media (max-width: 900px){.home-wrapper[_ngcontent-%COMP%]   .ad[_ngcontent-%COMP%]{grid-column:1}}@media (max-width: 900px){.home-wrapper[_ngcontent-%COMP%]{padding-inline:30px}}.home-paragraphs[_ngcontent-%COMP%]{margin-block-start:1rem;gap:30px}.home-paragraphs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:300px;word-wrap:break-word;line-height:20px;margin-block-start:1rem;font-size:14px}@media (max-width: 900px){.home-paragraphs[_ngcontent-%COMP%]{flex-direction:column;padding-inline:30px}}.quote-wrapper[_ngcontent-%COMP%]{transition:all .6s;opacity:1}.quote-wrapper.fade[_ngcontent-%COMP%]{opacity:0}.quote-title[_ngcontent-%COMP%]{padding-block:1rem}.quote-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})();function jU(n,e){if(1&n&&(d.TgZ(0,"section",1)(1,"div",2)(2,"a",3),d._uU(3,"X"),d.qZA(),d._UZ(4,"img",4),d.TgZ(5,"div",5)(6,"h2"),d._uU(7),d.qZA(),d.TgZ(8,"span",6),d._uU(9),d.qZA(),d.TgZ(10,"p"),d._uU(11),d.qZA()()()()),2&n){const t=d.oxw();d.xp6(4),d.Q6J("src","assets/img/"+t.book.imgUrl,d.LSH),d.xp6(3),d.Oqu(t.book.title),d.xp6(2),d.Oqu(t.book.author),d.xp6(2),d.hij(" ",t.book.description," ")}}let HU=(()=>{class n{constructor(t,r){this.BookService=t,this.route=r}ngOnInit(){var t=this;this.subscription=this.route.params.subscribe(function(){var r=(0,me.Z)(function*(i){const u=yield function BU(n,e){const t="object"==typeof e;return new Promise((r,i)=>{let c,u=!1;n.subscribe({next:p=>{c=p,u=!0},error:i,complete:()=>{u?r(c):t?r(e.defaultValue):i(new Df)}})})}(t.BookService.getById(i.id));u&&(t.book=u)});return function(i){return r.apply(this,arguments)}}())}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(oM),d.Y36(Nd))},n.\u0275cmp=d.Xpm({type:n,selectors:[["book-details"]],decls:1,vars:1,consts:[["class","details-container",4,"ngIf"],[1,"details-container"],[1,"book-details"],["routerLink","/explore",1,"back"],[3,"src"],[1,"book-info","flex","column"],[1,"small-title"]],template:function(t,r){1&t&&d.YNc(0,jU,12,4,"section",0),2&t&&d.Q6J("ngIf",r.book)},dependencies:[In,zy],styles:[".details-container[_ngcontent-%COMP%]{height:100vh;width:100%;background-color:#0000007c;position:fixed;top:0;left:0;overflow:auto}.details-container[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]{position:absolute;top:50%;right:50%;transform:translate(50%,-50%);padding:2rem;background-color:#fff;border-radius:5px;display:flex;flex-direction:column;align-items:center;gap:15px}@media (max-width: 650px){.details-container[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]{width:100%}}.details-container[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:250px}.details-container[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.details-container[_ngcontent-%COMP%]   .book-details[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}"]}),n})(),$U=(()=>{class n{constructor(t){this.db=t}SetUserData(t){return this.db.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(NS))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HI=(()=>{class n{constructor(t,r,i,u,c,p,y){this.afs=t,this.afAuth=r,this.ngZone=i,this.UtilService=u,this.UserService=c,this.toastr=p,this.router=y,this.currentUser=null,this.authStatusSub=new Lo(this.currentUser),this.currentAuthStatus=this.authStatusSub.asObservable(),this.authStatusListener()}authStatusListener(){this.afAuth.onAuthStateChanged(t=>{t?(console.log(t),this.authStatusSub.next(t)):(this.authStatusSub.next(null),console.log("User is logged out"))})}showMsg(t,r,i){this.toastr.success(r,t,{toastClass:`user-msg ${i}`,positionClass:"toast-top-right"})}signin(t){var r=this;return(0,me.Z)(function*(){const{email:i,password:u}=t;try{i&&u&&(r.userData=yield r.afAuth.signInWithEmailAndPassword(i,u),r.showMsg("","Login succeeded!","success"),r.router.navigateByUrl("/home"))}catch(c){console.log(c,"Couldn't signup"),r.showMsg("","Login failed!","error")}})()}signup(t){var r=this;return(0,me.Z)(function*(){const{email:i,password:u,displayName:c}=t;try{if(i&&u){r.userData=yield r.afAuth.createUserWithEmailAndPassword(i,u),yield r.userData.user.updateProfile({displayName:c});const{uid:p}=r.userData.user;yield r.UserService.SetUserData({uid:p,email:i,displayName:c}),r.showMsg("","Signup succeeded!","success"),r.router.navigateByUrl("/home")}}catch(p){console.log(p,"Couldn't signup"),r.showMsg("","Signup failed!","error")}})()}signout(){var t=this;return(0,me.Z)(function*(){try{yield t.afAuth.signOut(),t.showMsg("","Logout succeeded!","success")}catch(r){console.log("cannot logout",r),t.showMsg("","Logout failed!","error")}localStorage.removeItem("user")})()}getEmptyUser(){return{uid:"",email:"",password:"",displayName:""}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(NS),d.LFG(zC),d.LFG(d.R0b),d.LFG(sM),d.LFG($U),d.LFG(SA),d.LFG(Dr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GU=[{path:"explore",component:xU,children:[{path:":id",component:HU}]},{path:"signup",component:(()=>{class n{constructor(t,r){this.AuthService=t,this.router=r}ngOnInit(){this.user=this.AuthService.getEmptyUser()}onSignup(){var t=this;return(0,me.Z)(function*(){yield t.AuthService.signup({...t.user}),t.router.navigateByUrl("/home")})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HI),d.Y36(Dr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["signup"]],decls:14,vars:3,consts:[[1,"container","flex","column","align-center","justify-center","signup-wrapper"],[1,"flex","column",3,"ngSubmit"],["for","name"],["type","text","name","name","id","name","placeholder","Name",3,"ngModel","ngModelChange"],["for","email"],["type","email","name","email","id","email","placeholder","Email",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","id","password","placeholder","Password",3,"ngModel","ngModelChange"],[1,"nice-button"],[1,"imgs"],["src","assets/img/lady-reading.png",1,"signup-img"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"h1"),d._uU(2,"Join our community!"),d.qZA(),d.TgZ(3,"form",1),d.NdJ("ngSubmit",function(){return r.onSignup()}),d.TgZ(4,"label",2)(5,"input",3),d.NdJ("ngModelChange",function(u){return r.user.displayName=u}),d.qZA()(),d.TgZ(6,"label",4)(7,"input",5),d.NdJ("ngModelChange",function(u){return r.user.email=u}),d.qZA()(),d.TgZ(8,"label",6)(9,"input",7),d.NdJ("ngModelChange",function(u){return r.user.password=u}),d.qZA()(),d.TgZ(10,"button",8),d._uU(11,"Sign me up!"),d.qZA()(),d.TgZ(12,"div",9),d._UZ(13,"img",10),d.qZA()()),2&t&&(d.xp6(5),d.Q6J("ngModel",r.user.displayName),d.xp6(2),d.Q6J("ngModel",r.user.email),d.xp6(2),d.Q6J("ngModel",r.user.password))},dependencies:[WS,_0,FS,LS,nI,C0],styles:[".signup-wrapper[_ngcontent-%COMP%]{gap:30px;padding:1.5rem;margin-block-start:5rem}.signup-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}@media (max-width: 700px){.signup-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.signup-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{gap:5px}.signup-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:280px}.signup-img[_ngcontent-%COMP%]{max-width:450px}@media (max-width: 500px){.signup-img[_ngcontent-%COMP%]{left:20px;max-width:320px}}"]}),n})()},{path:"signin",component:(()=>{class n{constructor(t){this.AuthService=t}ngOnInit(){this.user=this.AuthService.getEmptyUser()}onSignin(){var t=this;return(0,me.Z)(function*(){t.AuthService.signin({...t.user})})()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HI))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-signin"]],decls:12,vars:2,consts:[[1,"container","flex","column","align-center","justify-center","signin-wrapper"],[1,"flex","column",3,"ngSubmit"],["for","email"],["type","email","name","email","id","email","placeholder","Email",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","id","password","placeholder","Password",3,"ngModel","ngModelChange"],[1,"nice-button"],[1,"imgs"],["src","assets/img/read-book.png",1,"signin-img"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"h1"),d._uU(2,"Log in to your account"),d.qZA(),d.TgZ(3,"form",1),d.NdJ("ngSubmit",function(){return r.onSignin()}),d.TgZ(4,"label",2)(5,"input",3),d.NdJ("ngModelChange",function(u){return r.user.email=u}),d.qZA()(),d.TgZ(6,"label",4)(7,"input",5),d.NdJ("ngModelChange",function(u){return r.user.password=u}),d.qZA()(),d.TgZ(8,"button",6),d._uU(9,"Sign in"),d.qZA()(),d.TgZ(10,"div",7),d._UZ(11,"img",8),d.qZA()()),2&t&&(d.xp6(5),d.Q6J("ngModel",r.user.email),d.xp6(2),d.Q6J("ngModel",r.user.password))},dependencies:[WS,_0,FS,LS,nI,C0],styles:[".signin-wrapper[_ngcontent-%COMP%]{gap:30px;padding:1.5rem;margin-block-start:5rem}.signin-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.5rem}@media (max-width: 700px){.signin-wrapper[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.signin-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{gap:5px}.signin-wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:280px}.signin-img[_ngcontent-%COMP%]{max-width:450px}@media (max-width: 500px){.signin-img[_ngcontent-%COMP%]{right:20px;max-width:320px}}"]}),n})()},{path:"home",component:UU},{path:"",redirectTo:"/home",pathMatch:"full"}];let zU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[DP.forRoot(GU,{useHash:!0}),DP]}),n})(),qU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["book-navbar"]],decls:9,vars:0,consts:[[1,"main-nav","flex","align-center"],["exact","","routerLink","/home","routerLinkActive","selected",1,"main-nav-item"],["routerLink","/explore","routerLinkActive","selected",1,"main-nav-item"],["routerLink","/top","routerLinkActive","selected",1,"main-nav-item"],["routerLink","/about","routerLinkActive","selected",1,"main-nav-item"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"a",1),d._uU(2," Home "),d.qZA(),d.TgZ(3,"a",2),d._uU(4," Explore "),d.qZA(),d.TgZ(5,"a",3),d._uU(6," Top Rated "),d.qZA(),d.TgZ(7,"a",4),d._uU(8," About Us "),d.qZA()())},dependencies:[zy,tM],styles:[".main-nav[_ngcontent-%COMP%]{gap:10px;font-size:15px;font-family:Nanum Gothic}"]}),n})(),WU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["book-logo"]],decls:5,vars:0,consts:[[1,"book-logo"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"h1"),d._uU(2,"miss"),d.TgZ(3,"span"),d._uU(4,"books"),d.qZA()()())},styles:[".book-logo[_ngcontent-%COMP%]{font-family:Nanum Gothic}.book-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:200;color:#7a1d1d;margin:0;font-size:1.75rem}.book-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Nanum Gothic;font-weight:700;color:#671f1f}@media (max-width: 350px){.book-logo[_ngcontent-%COMP%]{margin-inline-start:3.5rem}}"]}),n})();function ZU(n,e){1&n&&(d.TgZ(0,"section",3)(1,"a",4),d._uU(2," Sign in "),d.qZA(),d.TgZ(3,"a",5),d._uU(4," Join "),d.qZA()())}function KU(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"section",6)(1,"a",7),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.onLogout())}),d._uU(2,"Logout"),d.qZA()()}}let YU=(()=>{class n{constructor(t){this.AuthService=t,this.logout=new d.vpe}ngOnInit(){this.AuthService.authStatusListener(),this.AuthService.currentAuthStatus.subscribe(t=>{this.isUser=t})}onLogout(){this.logout.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HI))},n.\u0275cmp=d.Xpm({type:n,selectors:[["user-navbar"]],outputs:{logout:"logout"},decls:4,vars:2,consts:[[1,"user-nav","flex","align-center"],["class","signed-out flex align-center",4,"ngIf","ngIfElse"],["signedIn",""],[1,"signed-out","flex","align-center"],["routerLink","/signin","routerLinkActive","selected",1,"main-nav-item"],["exact","","routerLink","/signup","routerLinkActive","selected",1,"main-nav-item"],[1,"signed-in"],[1,"main-nav-item",3,"click"]],template:function(t,r){if(1&t&&(d.TgZ(0,"nav",0),d.YNc(1,ZU,5,0,"section",1),d.YNc(2,KU,3,0,"ng-template",null,2,d.W1O),d.qZA()),2&t){const i=d.MAs(3);d.xp6(1),d.Q6J("ngIf",!r.isUser)("ngIfElse",i)}},dependencies:[In,zy,tM],styles:[".signed-out[_ngcontent-%COMP%]{gap:20px;font-family:Nanum Gothic}.signed-out[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding-inline:.5rem}.signed-in[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}"]}),n})(),QU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["filter"]],decls:1,vars:0,consts:[["type","text","placeholder","Search books",1,"filter-input"]],template:function(t,r){1&t&&d._UZ(0,"input",0)},styles:["[_nghost-%COMP%]{flex-basis:40%}"]}),n})(),JU=(()=>{class n{constructor(t,r){this.AuthService=t,this.router=r}onLogout(){this.AuthService.signout(),console.log(localStorage.getItem("user")),this.router.navigateByUrl("/home")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(HI),d.Y36(Dr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["book-header"]],inputs:{logout:"logout"},decls:5,vars:0,consts:[[1,"narrow-container"],[3,"logout"]],template:function(t,r){1&t&&(d.TgZ(0,"header",0),d._UZ(1,"book-logo")(2,"book-navbar")(3,"filter"),d.TgZ(4,"user-navbar",1),d.NdJ("logout",function(){return r.onLogout()}),d.qZA()())},dependencies:[qU,WU,YU,QU],styles:["header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff4e8f7;gap:14px;box-shadow:0 1px 2px #00000026;flex-wrap:wrap;-webkit-user-select:none;user-select:none}@media (max-width: 900px){header[_ngcontent-%COMP%]{gap:.6rem;padding-inline:30px}}"]}),n})(),XU=(()=>{class n{constructor(){this.title="books-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&d._UZ(0,"book-header")(1,"router-outlet")},dependencies:[xI,JU]}),n})();const SP_firebaseConfig={apiKey:"AIzaSyApUkhOG6XKFLhBOz5PAu8e2DblfiYhIEg",authDomain:"missbooks-13d4f.firebaseapp.com",projectId:"missbooks-13d4f",storageBucket:"missbooks-13d4f.appspot.com",messagingSenderId:"632164729990",appId:"1:632164729990:web:4bb5c778ffbb054dc1fd07",measurementId:"G-NSVEWWXF1G"};let eB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[XU]}),n.\u0275inj=d.cJS({imports:[Zu,zU,sa,Nk,Wi.hO.initializeApp(SP_firebaseConfig),SR,vR,RF,nL.forRoot({iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"}})]}),n})();(0,d.G48)(),Wu().bootstrapModule(eB).catch(n=>console.error(n))},5867:(lt,Se,k)=>{k.d(Se,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=k(9681);(0,d.registerVersion)("firebase","9.9.4","app")},127:(lt,Se,k)=>{k.d(Se,{Z:()=>d.Z});var d=k(3942);d.Z.registerVersion("firebase","9.9.4","app-compat")},2274:(lt,Se,k)=>{k.r(Se);var d=k(5861),ee=k(3942),P=k(2090),ae=k(9681),se=k(655),he=k(1877),ue=k(4859);const we=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Xe=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new he.Yd("@firebase/auth");function st(v,...f){Ke.logLevel<=he.in.ERROR&&Ke.error(`Auth (${ae.SDK_VERSION}): ${v}`,...f)}function Ae(v,...f){throw je(v,...f)}function ve(v,...f){return je(v,...f)}function Ce(v,f,m){const w=Object.assign(Object.assign({},Xe()),{[f]:m});return new P.LL("auth","Firebase",w).create(f,{appName:v.name})}function Be(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ae(v,"argument-error"),Ce(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(v,...f){if("string"!=typeof v){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return _e.create(v,...f)}function B(v,f,...m){if(!v)throw je(f,...m)}function ye(v){const f="INTERNAL ASSERTION FAILED: "+v;throw st(f),new Error(f)}function Y(v,f){v||ye(f)}const X=new Map;function oe(v){Y(v instanceof Function,"Expected a class definition");let f=X.get(v);return f?(Y(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,X.set(v,f),f)}function Pe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ht(){return"http:"===qt()||"https:"===qt()}function qt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class un{constructor(f,m){this.shortDelay=f,this.longDelay=m,Y(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fn(v,f){Y(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Yt{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Rr=new un(3e4,6e4);function Ft(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function an(v,f,m,w){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(v,f,m,w,A={}){return Zr(v,A,(0,d.Z)(function*(){let N={},Z={};w&&("GET"===f?Z=w:N={body:JSON.stringify(w)});const ce=(0,P.xO)(Object.assign({key:v.config.apiKey},Z)).slice(1),Fe=yield v._getAdditionalHeaders();return Fe["Content-Type"]="application/json",v.languageCode&&(Fe["X-Firebase-Locale"]=v.languageCode),Yt.fetch()(Ui(v,v.config.apiHost,m,ce),Object.assign({method:f,headers:Fe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Zr(v,f,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,d.Z)(function*(v,f,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qt),f);try{const A=new Yr(v),N=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const Z=yield N.json();if("needConfirmation"in Z)throw bi(v,"account-exists-with-different-credential",Z);if(N.ok&&!("errorMessage"in Z))return Z;{const ce=N.ok?Z.errorMessage:Z.error.message,[Fe,Qe]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw bi(v,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Fe)throw bi(v,"email-already-in-use",Z);if("USER_DISABLED"===Fe)throw bi(v,"user-disabled",Z);const vt=w[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw Ce(v,vt,Qe);Ae(v,vt)}}catch(A){if(A instanceof P.ZR)throw A;Ae(v,"network-request-failed")}})).apply(this,arguments)}function Kr(v,f,m,w){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(v,f,m,w,A={}){const N=yield an(v,f,m,w,A);return"mfaPendingCredential"in N&&Ae(v,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ui(v,f,m,w){const A=`${f}${m}?${w}`;return v.config.emulator?Fn(v.config,A):`${v.config.apiScheme}://${A}`}class Yr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),Rr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bi(v,f,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=ve(v,f,w);return A.customData._tokenResponse=m,A}function Ze(){return(Ze=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Qr(v,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ln(v,f){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fi(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function gn(){return(gn=(0,d.Z)(function*(v,f=!1){const m=(0,P.m9)(v),w=yield m.getIdToken(f),A=ut(w);B(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,Z=N?.sign_in_provider;return{claims:A,token:w,authTime:fi(gt(A.auth_time)),issuedAtTime:fi(gt(A.iat)),expirationTime:fi(gt(A.exp)),signInProvider:Z||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(v){return 1e3*Number(v)}function ut(v){var f;const[m,w,A]=v.split(".");if(void 0===m||void 0===w||void 0===A)return st("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,P.tV)(w);return N?JSON.parse(N):(st("Failed to decode base64 JWT payload"),null)}catch(N){return st("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function cr(v,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof P.ZR&&kr(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function kr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class It{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,d.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class is{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(v){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(v){var f;const m=v.auth,w=yield v.getIdToken(),A=yield cr(v,Ln(m,{idToken:w}));B(A?.users.length,m,"internal-error");const N=A.users[0];v._notifyReloadListener(N);const Z=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?U(N.providerUserInfo):[],ce=$(v.providerData,Z),vt=!!v.isAnonymous&&!(v.email&&N.passwordHash||ce?.length),ot={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ce,metadata:new is(N.createdAt,N.lastLoginAt),isAnonymous:vt};Object.assign(v,ot)})).apply(this,arguments)}function K(){return(K=(0,d.Z)(function*(v){const f=(0,P.m9)(v);yield Jt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function $(v,f){return[...v.filter(w=>!f.some(A=>A.providerId===w.providerId)),...f]}function U(v){return v.map(f=>{var{providerId:m}=f,w=(0,se._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function W(){return(W=(0,d.Z)(function*(v,f){const m=yield Zr(v,{},(0,d.Z)(function*(){const w=(0,P.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:N}=v.config,Z=Ui(v,A,"/v1/token",`key=${N}`),ce=yield v._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",Yt.fetch()(Z,{method:"POST",headers:ce,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){B(f.idToken,"internal-error"),B(typeof f.idToken<"u","internal-error"),B(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ln(v){const f=ut(v);return B(f,"internal-error"),B(typeof f.exp<"u","internal-error"),B(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,d.Z)(function*(){return B(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:Z}=yield function z(v,f){return W.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(A,N,Number(Z))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:A,expirationTime:N}=m,Z=new Ie;return w&&(B("string"==typeof w,"internal-error",{appName:f}),Z.refreshToken=w),A&&(B("string"==typeof A,"internal-error",{appName:f}),Z.accessToken=A),N&&(B("number"==typeof N,"internal-error",{appName:f}),Z.expirationTime=N),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Ue(v,f){B("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class at{constructor(f){var{uid:m,auth:w,stsTokenManager:A}=f,N=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new It(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new is(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const w=yield cr(m,m.stsTokenManager.getToken(m.auth,f));return B(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function Xn(v){return gn.apply(this,arguments)}(this,f)}reload(){return function Kt(v){return K.apply(this,arguments)}(this)}_assign(f){this!==f&&(B(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new at(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,d.Z)(function*(){let A=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),A=!0),m&&(yield Jt(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield cr(f,function Uo(v,f){return Ze.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,A,N,Z,ce,Fe,Qe,vt;const ot=null!==(w=m.displayName)&&void 0!==w?w:void 0,or=null!==(A=m.email)&&void 0!==A?A:void 0,_i=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,hl=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,Xa=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,fl=null!==(Fe=m._redirectEventId)&&void 0!==Fe?Fe:void 0,$r=null!==(Qe=m.createdAt)&&void 0!==Qe?Qe:void 0,ip=null!==(vt=m.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Co,emailVerified:vh,isAnonymous:Pg,providerData:eu,stsTokenManager:Rg}=m;B(Co&&Rg,f,"internal-error");const c_=Ie.fromJSON(this.name,Rg);B("string"==typeof Co,f,"internal-error"),Ue(ot,f.name),Ue(or,f.name),B("boolean"==typeof vh,f,"internal-error"),B("boolean"==typeof Pg,f,"internal-error"),Ue(_i,f.name),Ue(hl,f.name),Ue(Xa,f.name),Ue(fl,f.name),Ue($r,f.name),Ue(ip,f.name);const pl=new at({uid:Co,auth:f,email:or,emailVerified:vh,displayName:ot,isAnonymous:Pg,photoURL:hl,phoneNumber:_i,tenantId:Xa,stsTokenManager:c_,createdAt:$r,lastLoginAt:ip});return eu&&Array.isArray(eu)&&(pl.providerData=eu.map(kg=>Object.assign({},kg))),fl&&(pl._redirectEventId=fl),pl}static _fromIdTokenResponse(f,m,w=!1){return(0,d.Z)(function*(){const A=new Ie;A.updateFromServerResponse(m);const N=new at({uid:m.localId,auth:f,stsTokenManager:A,isAnonymous:w});return yield Jt(N),N})()}}const Xt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,d.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,d.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,d.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function er(v,f,m){return`firebase:${v}:${f}:${m}`}class Vt{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:A,name:N}=this.auth;this.fullUserKey=er(this.userKey,A.apiKey,N),this.fullPersistenceKey=er("persistence",A.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?at._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,d.Z)(function*(){if(!m.length)return new Vt(oe(Xt),f,w);const A=(yield Promise.all(m.map(function(){var Qe=(0,d.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let N=A[0]||oe(Xt);const Z=er(w,f.config.apiKey,f.name);let ce=null;for(const Qe of m)try{const vt=yield Qe._get(Z);if(vt){const ot=at._fromJSON(f,vt);Qe!==N&&(ce=ot),N=Qe;break}}catch{}const Fe=A.filter(Qe=>Qe._shouldAllowMigration);return N._shouldAllowMigration&&Fe.length?(N=Fe[0],ce&&(yield N._set(Z,ce.toJSON())),yield Promise.all(m.map(function(){var Qe=(0,d.Z)(function*(vt){if(vt!==N)try{yield vt._remove(Z)}catch{}});return function(vt){return Qe.apply(this,arguments)}}())),new Vt(N,f,w)):new Vt(N,f,w)})()}}function Pt(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Fr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(wn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if($e(f))return"Blackberry";if(wt(f))return"Webos";if(zn(f))return"Safari";if((f.includes("chrome/")||Bi(f))&&!f.includes("edge/"))return"Chrome";if(qn(f))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function wn(v=(0,P.z$)()){return/firefox\//i.test(v)}function zn(v=(0,P.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Bi(v=(0,P.z$)()){return/crios\//i.test(v)}function Fr(v=(0,P.z$)()){return/iemobile/i.test(v)}function qn(v=(0,P.z$)()){return/android/i.test(v)}function $e(v=(0,P.z$)()){return/blackberry/i.test(v)}function wt(v=(0,P.z$)()){return/webos/i.test(v)}function rn(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Ys(v=(0,P.z$)()){return rn(v)||qn(v)||wt(v)||$e(v)||/windows phone/i.test(v)||Fr(v)}function Ts(v,f=[]){let m;switch(v){case"Browser":m=Pt((0,P.z$)());break;case"Worker":m=`${Pt((0,P.z$)())}-${v}`;break;default:m=v}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${w}`}class Qs{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=N=>new Promise((Z,ce)=>{try{Z(f(N))}catch(Fe){ce(Fe)}});w.onAbort=m,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){var w;if(m.auth.currentUser===f)return;const A=[];try{for(const N of m.queue)yield N(f),N.onAbort&&A.push(N.onAbort)}catch(N){A.reverse();for(const Z of A)try{Z()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=N)||void 0===w?void 0:w.message})}})()}}class Rt{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Js(this),this.idTokenSubscription=new Js(this),this.beforeStateQueue=new Qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=oe(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,N;if(!w._deleted&&(w.persistenceManager=yield Vt.create(w,f),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var w;const A=yield m.assertedPersistence.getCurrentUser();let N=A,Z=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Fe=N?._redirectEventId,Qe=yield m.tryRedirectSignIn(f);(!ce||ce===Fe)&&Qe?.user&&(N=Qe.user,Z=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(N)}catch(ce){N=A,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return B(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){var w;try{yield Jt(f)}catch(A){if("auth/network-request-failed"!==(null===(w=A)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ze(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const w=f?(0,P.m9)(f):null;return w&&B(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return f&&B(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new P.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,d.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&oe(f)||m._popupRedirectResolver;B(w,m,"argument-error"),m.redirectPersistenceManager=yield Vt.create(m,[oe(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,A){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return B(Z,this,"internal-error"),Z.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,w,A):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ts(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function bn(v){return(0,P.m9)(v)}class Js{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ji(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Ss(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class _r{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ye("not implemented")}_getIdTokenResponse(f){return ye("not implemented")}_linkToIdToken(f,m){return ye("not implemented")}_getReauthenticationResolver(f){return ye("not implemented")}}function Zn(v,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:resetPassword",Ft(v,f))})).apply(this,arguments)}function sn(v,f){return ql.apply(this,arguments)}function ql(){return(ql=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Wl(v,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:update",Ft(v,f))})).apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signInWithPassword",Ft(v,f))})).apply(this,arguments)}function xs(v,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:sendOobCode",Ft(v,f))})).apply(this,arguments)}function In(v,f){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,d.Z)(function*(v,f){return xs(v,f)})).apply(this,arguments)}function hr(v,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(v,f){return xs(v,f)})).apply(this,arguments)}function bu(v,f){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,d.Z)(function*(v,f){return xs(v,f)})).apply(this,arguments)}function Kl(v,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(v,f){return xs(v,f)})).apply(this,arguments)}function kd(){return(kd=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,f))})).apply(this,arguments)}function Yl(){return(Yl=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signInWithEmailLink",Ft(v,f))})).apply(this,arguments)}class Ql extends _r{constructor(f,m,w,A=null){super("password",w),this._email=f,this._password=m,this._tenantId=A}static _fromEmailAndPassword(f,m){return new Ql(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new Ql(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function Da(v,f){return Ms.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ff(v,f){return kd.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ae(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return sn(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Lf(v,f){return Yl.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Ae(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function nr(v,f){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signInWithIdp",Ft(v,f))})).apply(this,arguments)}class ss extends _r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ss(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ae("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A}=m,N=(0,se._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const Z=new ss(w,A);return Z.idToken=N.idToken||void 0,Z.accessToken=N.accessToken||void 0,Z.secret=N.secret,Z.nonce=N.nonce,Z.pendingToken=N.pendingToken||null,Z}_getIdTokenResponse(f){return nr(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,nr(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,nr(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,P.xO)(m)}return f}}function hg(v,f){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:sendVerificationCode",Ft(v,f))})).apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,f))})).apply(this,arguments)}function Ld(){return(Ld=(0,d.Z)(function*(v,f){const m=yield Kr(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,f));if(m.temporaryProof)throw bi(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const pg={USER_NOT_FOUND:"user-not-found"};function Vd(){return(Vd=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signInWithPhoneNumber",Ft(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),pg)})).apply(this,arguments)}class Ns extends _r{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Ns({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Ns({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Jl(v,f){return Os.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function fg(v,f){return Ld.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function gg(v,f){return Vd.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:N}=f;return w||m||A||N?new Ns({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:N}):null}}class Iu{constructor(f){var m,w,A,N,Z,ce;const Fe=(0,P.zd)((0,P.pd)(f)),Qe=null!==(m=Fe.apiKey)&&void 0!==m?m:null,vt=null!==(w=Fe.oobCode)&&void 0!==w?w:null,ot=function Ud(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Fe.mode)&&void 0!==A?A:null);B(Qe&&vt&&ot,"argument-error"),this.apiKey=Qe,this.operation=ot,this.code=vt,this.continueUrl=null!==(N=Fe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(Z=Fe.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ce=Fe.tenantId)&&void 0!==ce?ce:null}static parseLink(f){const m=function Bd(v){const f=(0,P.zd)((0,P.pd)(v)).link,m=f?(0,P.zd)((0,P.pd)(f)).deep_link_id:null,w=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(w?(0,P.zd)((0,P.pd)(w)).link:null)||w||m||f||v}(f);try{return new Iu(m)}catch{return null}}}let Hi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Ql._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=Iu.parseLink(w);return B(A,"argument-error"),Ql._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class os{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class as extends os{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class eo extends as{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return B("providerId"in m&&"signInMethod"in m,"argument-error"),ss._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return B(f.idToken||f.accessToken,"argument-error"),ss._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return eo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return eo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:N,nonce:Z,providerId:ce}=f;if(!w&&!A&&!m&&!N||!ce)return null;try{return new eo(ce)._credential({idToken:m,accessToken:w,nonce:Z,pendingToken:N})}catch{return null}}}let Sa=(()=>{class v extends as{constructor(){super("facebook.com")}static credential(m){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Du=(()=>{class v extends as{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Xl=(()=>{class v extends as{constructor(){super("github.com")}static credential(m){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Bo extends _r{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return nr(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,nr(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,nr(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:A,pendingToken:N}=m;return w&&A&&N&&w===A?new Bo(w,N):null}static _create(f,m){return new Bo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gi extends os{constructor(f){B(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return gi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return gi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Bo.fromJSON(f);return B(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return Bo._create(w,m)}catch{return null}}}let Jr=(()=>{class v extends as{constructor(){super("twitter.com")}static credential(m,w){return ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return v.credential(w,A)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function jo(v,f){return jd.apply(this,arguments)}function jd(){return(jd=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signUp",Ft(v,f))})).apply(this,arguments)}class vr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,A=!1){return(0,d.Z)(function*(){const N=yield at._fromIdTokenResponse(f,w,A),Z=Bf(w);return new vr({user:N,providerId:Z,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const A=Bf(w);return new vr({user:f,providerId:A,_tokenResponse:w,operationType:m})})()}}function Bf(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function xn(){return(xn=(0,d.Z)(function*(v){var f;const m=bn(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new vr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield jo(m,{returnSecureToken:!0}),A=yield vr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Tu extends P.ZR{constructor(f,m,w,A){var N;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Tu.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,A){return new Tu(f,m,w,A)}}function Hf(v,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Tu._fromErrorAndOperation(v,N,f,w):N})}function mi(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Su(){return(Su=(0,d.Z)(function*(v,f){const m=(0,P.m9)(v);yield $t(!0,m,f);const{providerUserInfo:w}=yield Qr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),A=mi(w||[]);return m.providerData=m.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function to(v,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(v,f,m=!1){const w=yield cr(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return vr._forOperation(v,"link",w)})).apply(this,arguments)}function $t(v,f,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(v,f,m){yield Jt(f);const A=!1===v?"provider-already-linked":"no-such-provider";B(mi(f.providerData).has(m)===v,f.auth,A)})).apply(this,arguments)}function no(v,f){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(v,f,m=!1){var w;const{auth:A}=v,N="reauthenticate";try{const Z=yield cr(v,Hf(A,N,f,v),m);B(Z.idToken,A,"internal-error");const ce=ut(Z.idToken);B(ce,A,"internal-error");const{sub:Fe}=ce;return B(v.uid===Fe,A,"user-mismatch"),vr._forOperation(v,N,Z)}catch(Z){throw"auth/user-not-found"===(null===(w=Z)||void 0===w?void 0:w.code)&&Ae(A,"user-mismatch"),Z}})).apply(this,arguments)}function Si(v,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(v,f,m=!1){const w="signIn",A=yield Hf(v,w,f),N=yield vr._fromIdTokenResponse(v,w,A);return m||(yield v._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Dn(v,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,d.Z)(function*(v,f){return Si(bn(v),f)})).apply(this,arguments)}function xu(v,f){return $f.apply(this,arguments)}function $f(){return($f=(0,d.Z)(function*(v,f){const m=(0,P.m9)(v);return yield $t(!1,m,f.providerId),to(m,f)})).apply(this,arguments)}function Ou(v,f){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,d.Z)(function*(v,f){return no((0,P.m9)(v),f)})).apply(this,arguments)}function ec(v,f){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(v,f){return Kr(v,"POST","/v1/accounts:signInWithCustomToken",Ft(v,f))})).apply(this,arguments)}function Ma(){return(Ma=(0,d.Z)(function*(v,f){const m=bn(v),w=yield ec(m,{token:f,returnSecureToken:!0}),A=yield vr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class De{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Ut._fromServerResponse(f,m):Ae(f,"internal-error")}}class Ut extends De{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Ut(m)}}function Pu(v,f,m){var w;B((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),B(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(B(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(B(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function On(){return(On=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v),A={requestType:"PASSWORD_RESET",email:f};m&&Pu(w,A,m),yield hr(w,A)})).apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(v,f,m){yield Zn((0,P.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(v,f){yield Wl((0,P.m9)(v),{oobCode:f})})).apply(this,arguments)}function Oa(v,f){return nc.apply(this,arguments)}function nc(){return(nc=(0,d.Z)(function*(v,f){const m=(0,P.m9)(v),w=yield Zn(m,{oobCode:f}),A=w.requestType;switch(B(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(w.mfaInfo,m,"internal-error");default:B(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=De._fromServerResponse(bn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function Hd(){return(Hd=(0,d.Z)(function*(v,f){const{data:m}=yield Oa((0,P.m9)(v),f);return m.email})).apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(v,f,m){const w=bn(v),A=yield jo(w,{returnSecureToken:!0,email:f,password:m}),N=yield vr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function io(){return(io=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v),A={requestType:"EMAIL_SIGNIN",email:f};B(m.handleCodeInApp,w,"argument-error"),m&&Pu(w,A,m),yield bu(w,A)})).apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v),A=Hi.credentialWithLink(f,m||Pe());return B(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Dn(w,A)})).apply(this,arguments)}function yg(v,f){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:createAuthUri",Ft(v,f))})).apply(this,arguments)}function Pa(){return(Pa=(0,d.Z)(function*(v,f){const w={identifier:f,continueUri:ht()?Pe():"http://localhost"},{signinMethods:A}=yield yg((0,P.m9)(v),w);return A||[]})).apply(this,arguments)}function Ra(){return(Ra=(0,d.Z)(function*(v,f){const m=(0,P.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Pu(m.auth,A,f);const{email:N}=yield In(m.auth,A);N!==v.email&&(yield v.reload())})).apply(this,arguments)}function Lu(){return(Lu=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&Pu(w.auth,N,m);const{email:Z}=yield Kl(w.auth,N);Z!==v.email&&(yield v.reload())})).apply(this,arguments)}function Vu(v,f){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(v,f){return an(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function cc(){return(cc=(0,d.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,P.m9)(v),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Z=yield cr(w,Vu(w.auth,N));w.displayName=Z.displayName||null,w.photoURL=Z.photoUrl||null;const ce=w.providerData.find(({providerId:Fe})=>"password"===Fe);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Z)})).apply(this,arguments)}function oo(v,f,m){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,d.Z)(function*(v,f,m){const{auth:w}=v,N={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const Z=yield cr(v,sn(w,N));yield v._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Xr{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class mn extends Xr{constructor(f,m,w,A){super(f,m,w),this.username=A}}class dc extends Xr{constructor(f,m){super(f,"facebook.com",m)}}class hc extends mn{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Gd extends Xr{constructor(f,m){super(f,"google.com",m)}}class fc extends mn{constructor(f,m,w){super(f,"twitter.com",m,w)}}function Bu(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function rr(v){var f,m;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},N=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Z=null===(m=null===(f=ut(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new Xr(N,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!w)return null;switch(w){case"facebook.com":return new dc(N,A);case"github.com":return new hc(N,A);case"google.com":return new Gd(N,A);case"twitter.com":return new fc(N,A,v.screenName||null);case"custom":case"anonymous":return new Xr(N,null);default:return new Xr(N,w,A)}}(m)}class ao{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new ao("enroll",f)}static _fromMfaPendingCredential(f){return new ao("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ao._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return ao._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ju{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=bn(f),A=m.customData._serverResponse,N=(A.mfaInfo||[]).map(ce=>De._fromServerResponse(w,ce));B(A.mfaPendingCredential,w,"internal-error");const Z=ao._fromMfaPendingCredential(A.mfaPendingCredential);return new ju(Z,N,function(){var ce=(0,d.Z)(function*(Fe){const Qe=yield Fe._process(w,Z);delete A.mfaInfo,delete A.mfaPendingCredential;const vt=Object.assign(Object.assign({},A),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(m.operationType){case"signIn":const ot=yield vr._fromIdTokenResponse(w,m.operationType,vt);return yield w._updateCurrentUser(ot.user),ot;case"reauthenticate":return B(m.user,w,"internal-error"),vr._forOperation(m.user,m.operationType,vt);default:Ae(w,"internal-error")}});return function(Fe){return ce.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function Hu(v,f){return an(v,"POST","/v2/accounts/mfaEnrollment:start",Ft(v,f))}class Gf{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>De._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new Gf(f)}getSession(){var f=this;return(0,d.Z)(function*(){return ao._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var w=this;return(0,d.Z)(function*(){const A=f,N=yield w.getSession(),Z=yield cr(w.user,A._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(Z),w.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){var w;const A="string"==typeof f?f:f.uid,N=yield m.user.getIdToken(),Z=yield cr(m.user,function Zd(v,f){return an(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(v,f))}(m.user.auth,{idToken:N,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ce})=>ce!==A),yield m.user._updateTokensIfNecessary(Z);try{yield m.user.reload()}catch(ce){if("auth/user-token-expired"!==(null===(w=ce)||void 0===w?void 0:w.code))throw ce}})()}}const uo=new WeakMap,lo="__sak";class Gu{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(lo,"1"),this.storage.removeItem(lo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fa=(()=>{class v extends Gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ka(){const v=(0,P.z$)();return zn(v)||rn(v)}()&&function En(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ys(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),N=this.localCache[w];A!==N&&m(w,N,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ce,Fe,Qe)=>{this.notifyListeners(ce,Qe)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(A);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const N=()=>{const ce=this.storage.getItem(A);!w&&this.localCache[A]===ce||this.notifyListeners(A,ce)},Z=this.storage.getItem(A);!function tr(){return(0,P.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const N of Array.from(A))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,N=this;return(0,d.Z)(function*(){yield A().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,d.Z)(function*(){const N=yield w().call(A,m);return A.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,A=this;return(0,d.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),Gi=(()=>{class v extends Gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let Qd=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,d.Z)(function*(){const A=m,{eventId:N,eventType:Z,data:ce}=A.data,Fe=w.handlersMap[Z];if(!Fe?.size)return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:Z});const Qe=Array.from(Fe).map(function(){var ot=(0,d.Z)(function*(or){return or(A.origin,ce)});return function(or){return ot.apply(this,arguments)}}()),vt=yield function Va(v){return Promise.all(v.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(Qe);A.ports[0].postMessage({status:"done",eventId:N,eventType:Z,response:vt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ua(v="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return v+m}class gc{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var A=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let Z,ce;return new Promise((Fe,Qe)=>{const vt=Ua("",20);N.port1.start();const ot=setTimeout(()=>{Qe(new Error("unsupported_event"))},w);ce={messageChannel:N,onMessage(or){const _i=or;if(_i.data.eventId===vt)switch(_i.data.status){case"ack":clearTimeout(ot),Z=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Fe(_i.data.response);break;default:clearTimeout(ot),clearTimeout(Z),Qe(new Error("invalid_response"))}}},A.handlers.add(ce),N.port1.addEventListener("message",ce.onMessage),A.target.postMessage({eventType:f,eventId:vt,data:m},[N.port2])}).finally(()=>{ce&&A.removeMessageHandler(ce)})})()}}function Un(){return window}function zu(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function Ba(){return(Ba=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ks="firebaseLocalStorageDb",Fs="firebaseLocalStorage",Zu="fbase_key";class ho{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ja(v,f){return v.transaction([Fs],f?"readwrite":"readonly").objectStore(Fs)}function Wo(){const v=indexedDB.open(ks,1);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Fs,{keyPath:Zu})}catch(A){m(A)}}),v.addEventListener("success",(0,d.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Fs)?f(w):(w.close(),yield function Xd(){const v=indexedDB.deleteDatabase(ks);return new ho(v).toPromise()}(),f(yield Wo()))}))})}function hs(v,f,m){return mc.apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(v,f,m){const w=ja(v,!0).put({[Zu]:f,value:m});return new ho(w).toPromise()})).apply(this,arguments)}function Ha(){return(Ha=(0,d.Z)(function*(v,f){const m=ja(v,!1).get(f),w=yield new ho(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function fo(v,f){const m=ja(v,!0).delete(f);return new ho(m).toPromise()}const Zo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Wo()),m.db})()}_withRetries(m){var w=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(A++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return zu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Qd._getInstance(function Wu(){return zu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(A,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(A,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function co(){return Ba.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new gc(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function qu(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Wo();return yield hs(m,lo,"1"),yield fo(m,lo),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(N=>hs(N,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,d.Z)(function*(){const A=yield w._withRetries(N=>function Ku(v,f){return Ha.apply(this,arguments)}(N,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(A=>fo(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const w=yield m._withRetries(Z=>{const ce=ja(Z,!1).getAll();return new ho(ce).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:Z,value:ce}of w)N.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ce)&&(m.notifyListeners(Z,ce),A.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!N.has(Z)&&(m.notifyListeners(Z,null),A.push(Z));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const N of Array.from(A))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ko(v,f){return an(v,"POST","/v2/accounts/mfaSignIn:start",Ft(v,f))}function Ls(){return(Ls=(0,d.Z)(function*(v){return(yield an(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qo(v){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=f,w.onerror=A=>{const N=ve("internal-error");N.customData=A,m(N)},w.type="text/javascript",w.charset="UTF-8",function Yo(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(w)})}function Ju(v){return`__${v}${Math.floor(1e6*Math.random())}`}const $a=1e12;class pn{constructor(f){this.auth=f,this.counter=$a,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new _g(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||$a;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||$a))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var w;return null===(w=m._widgets.get(f||$a))||void 0===w||w.execute(),""})()}}class _g{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;B(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Wy(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vg=Ju("rcb"),Zy=new un(3e4,6e4);class zf{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Un().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return B(function G0(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Un().grecaptcha):new Promise((w,A)=>{const N=Un().setTimeout(()=>{A(ve(f,"network-request-failed"))},Zy.get());Un()[vg]=()=>{Un().clearTimeout(N),delete Un()[vg];const ce=Un().grecaptcha;if(!ce)return void A(ve(f,"internal-error"));const Fe=ce.render;ce.render=(Qe,vt)=>{const ot=Fe(Qe,vt);return this.counter++,ot},this.hostLanguage=m,w(ce)},Qo(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:vg,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),A(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Un().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ga{load(f){return(0,d.Z)(function*(){return new pn(f)})()}clearedOneInstance(){}}const wg="recaptcha",Eg={theme:"light",type:"image"};class pr{constructor(f,m=Object.assign({},Eg),w){this.parameters=m,this.type=wg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(w),this.isInvisible="invisible"===this.parameters.size,B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;B(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ga:new zf,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const Z=ce=>{!ce||(f.tokenChangeListeners.delete(Z),N(ce))};f.tokenChangeListeners.add(Z),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=Un()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){B(ht()&&!zu(),f.auth,"internal-error"),yield function Vs(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ei(v){return Ls.apply(this,arguments)}(f.auth);B(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class en{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Ns._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function ti(){return(ti=(0,d.Z)(function*(v,f,m){const w=bn(v),A=yield Cn(w,f,(0,P.m9)(m));return new en(A,N=>Dn(w,N))})).apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v);yield $t(!1,w,"phone");const A=yield Cn(w.auth,f,(0,P.m9)(m));return new en(A,N=>xu(w,N))})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v),A=yield Cn(w.auth,f,(0,P.m9)(m));return new en(A,N=>Ou(w,N))})).apply(this,arguments)}function Cn(v,f,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(v,f,m){var w;const A=yield m.verify();try{let N;if(B("string"==typeof A,v,"argument-error"),B(m.type===wg,v,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const Z=N.session;if("phoneNumber"in N)return B("enroll"===Z.type,v,"internal-error"),(yield Hu(v,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{B("signin"===Z.type,v,"internal-error");const ce=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return B(ce,v,"missing-multi-factor-info"),(yield Ko(v,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield hg(v,{phoneNumber:N.phoneNumber,recaptchaToken:A});return Z}}finally{m._reset()}})).apply(this,arguments)}function Xu(){return(Xu=(0,d.Z)(function*(v,f){yield to((0,P.m9)(v),f)})).apply(this,arguments)}let za=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=bn(m)}verifyPhoneNumber(m,w){return Cn(this.auth,m,(0,P.m9)(w))}static credential(m,w){return Ns._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?Ns._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ur(v,f){return f?oe(f):(B(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class _c extends _r{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return nr(f,this._buildIdpRequest())}_linkToIdToken(f,m){return nr(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return nr(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function ri(v){return Si(v.auth,new _c(v),v.bypassAuthState)}function qa(v){const{auth:f,user:m}=v;return B(m,f,"internal-error"),no(m,new _c(v),v.bypassAuthState)}function Us(v){return el.apply(this,arguments)}function el(){return(el=(0,d.Z)(function*(v){const{auth:f,user:m}=v;return B(m,f,"internal-error"),to(m,new _c(v),v.bypassAuthState)})).apply(this,arguments)}class Xo{constructor(f,m,w,A,N=!1){this.auth=f,this.resolver=w,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(w,A){f.pendingPromise={resolve:w,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:N,tenantId:Z,error:ce,type:Fe}=f;if(ce)return void m.reject(ce);const Qe={auth:m.auth,requestUri:w,sessionId:A,tenantId:Z||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Fe)(Qe))}catch(vt){m.reject(vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return ri;case"linkViaPopup":case"linkViaRedirect":return Us;case"reauthViaPopup":case"reauthViaRedirect":return qa;default:Ae(this.auth,"internal-error")}}resolve(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ea=new un(2e3,1e4);function tl(){return(tl=(0,d.Z)(function*(v,f,m){const w=bn(v);Be(v,f,os);const A=Ur(w,m);return new go(w,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function eh(){return(eh=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v);Be(w.auth,f,os);const A=Ur(w.auth,m);return new go(w.auth,"reauthViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}function ta(){return(ta=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v);Be(w.auth,f,os);const A=Ur(w.auth,m);return new go(w.auth,"linkViaPopup",f,A,w).executeNotNull()})).apply(this,arguments)}let go=(()=>{class v extends Xo{constructor(m,w,A,N,Z){super(m,w,N,Z),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const w=yield m.execute();return B(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,d.Z)(function*(){Y(1===m.filter.length,"Popup operations only handle one event");const w=Ua();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ea.get())};m()}}return v.currentPopupAction=null,v})();const Br=new Map;class Tn extends Xo{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let w=Br.get(m.auth._key());if(!w){try{const N=(yield function na(v,f){return Mi.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(N)}catch(A){w=()=>Promise.reject(A)}Br.set(m.auth._key(),w)}return m.bypassAuthState||Br.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const A=yield w.auth._redirectUserForId(f.eventId);if(A)return w.user=A,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Mi(){return(Mi=(0,d.Z)(function*(v,f){const m=wc(f),w=gs(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function ra(v,f){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(v,f){return gs(v)._set(wc(f),"true")})).apply(this,arguments)}function mo(v,f){Br.set(v._key(),f)}function gs(v){return oe(v._redirectPersistence)}function wc(v){return er("pendingRedirect",v.config.apiKey,v.name)}function I(){return(I=(0,d.Z)(function*(v,f,m){const w=bn(v);Be(v,f,os);const A=Ur(w,m);return yield ra(A,w),A._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function L(){return(L=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v);Be(w.auth,f,os);const A=Ur(w.auth,m);yield ra(A,w.auth);const N=yield dt(w);return A._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Te(){return(Te=(0,d.Z)(function*(v,f,m){const w=(0,P.m9)(v);Be(w.auth,f,os);const A=Ur(w.auth,m);yield $t(!1,w,f.providerId),yield ra(A,w.auth);const N=yield dt(w);return A._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(v,f){return yield bn(v)._initializationPromise,Et(v,f,!1)})).apply(this,arguments)}function Et(v,f){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,d.Z)(function*(v,f,m=!1){const w=bn(v),A=Ur(w,f),Z=yield new Tn(w,A,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield w._persistUserIfCurrent(Z.user),yield w._setRedirectUser(null,f)),Z})).apply(this,arguments)}function dt(v){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(v){const f=Ua(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class ia{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Za(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yo(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!yo(f)){const A=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,A))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bs(f))}saveEventToCache(f){this.cachedEventUids.add(Bs(f)),this.lastProcessedEventTime=Date.now()}}function Bs(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function yo({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function _o(v){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(v,f={}){return an(v,"GET","/v1/projects",f)})).apply(this,arguments)}const sa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oa=/^https?/;function Wi(){return(Wi=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield _o(v);for(const m of f)try{if(Yy(m))return}catch{}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function Yy(v){const f=Pe(),{protocol:m,hostname:w}=new URL(f);if(v.startsWith("chrome-extension://")){const Z=new URL(v);return""===Z.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===w}if(!oa.test(m))return!1;if(sa.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const wr=new un(3e4,6e4);function nl(){const v=Un().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Ka=null;function nh(v){return Ka=Ka||function th(v){return new Promise((f,m)=>{var w,A,N;function Z(){nl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{nl(),m(ve(v,"network-request-failed"))},timeout:wr.get()})}if(null!==(A=null===(w=Un().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(N=Un().gapi)||void 0===N||!N.load){const ce=Ju("iframefcb");return Un()[ce]=()=>{gapi.load?Z():m(ve(v,"network-request-failed"))},Qo(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Fe=>m(Fe))}Z()}}).catch(f=>{throw Ka=null,f})}(v),Ka}const rh=new un(5e3,15e3),ih={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qy(v){const f=v.config;B(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?Fn(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:v.name,v:ae.SDK_VERSION},A=Zf.get(v.config.apiHost);A&&(w.eid=A);const N=v._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,P.xO)(w).slice(1)}`}function il(){return il=(0,d.Z)(function*(v){const f=yield nh(v),m=Un().gapi;return B(m,v,"internal-error"),f.open({where:document.body,url:Qy(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ih,dontclear:!0},w=>new Promise(function(){var A=(0,d.Z)(function*(N,Z){yield w.restyle({setHideOnLeave:!1});const ce=ve(v,"network-request-failed"),Fe=Un().setTimeout(()=>{Z(ce)},rh.get());function Qe(){Un().clearTimeout(Fe),N(w)}w.ping(Qe).then(Qe,()=>{Z(ce)})});return function(N,Z){return A.apply(this,arguments)}}()))}),il.apply(this,arguments)}const me={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ec{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ki(v,f,m,w,A,N){B(v.config.authDomain,v,"auth-domain-config-required"),B(v.config.apiKey,v,"invalid-api-key");const Z={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:ae.SDK_VERSION,eventId:A};if(f instanceof os){f.setDefaultLanguage(v.languageCode),Z.providerId=f.providerId||"",(0,P.xb)(f.getCustomParameters())||(Z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Fe,Qe]of Object.entries(N||{}))Z[Fe]=Qe}if(f instanceof as){const Fe=f.getScopes().filter(Qe=>""!==Qe);Fe.length>0&&(Z.scopes=Fe.join(","))}v.tenantId&&(Z.tid=v.tenantId);const ce=Z;for(const Fe of Object.keys(ce))void 0===ce[Fe]&&delete ce[Fe];return`${function Kf({config:v}){return v.emulator?Fn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,P.xO)(ce).slice(1)}`}const Ya="webStorageSupport";class ys extends class e_{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ys(f)}_finalizeEnroll(f,m,w){return function $u(v,f){return an(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(v,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Qu(v,f){return an(v,"POST","/v2/accounts/mfaSignIn:finalize",Ft(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sl=(()=>{class v{constructor(){}static assertion(m){return ys._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Er="@firebase/auth";class Mr{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var A;f((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wo(){return window}function uh(){return(uh=(0,d.Z)(function*(v,f,m){var w;const{BuildInfo:A}=wo();Y(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Jf(f.sessionId),Z={};return rn()?Z.ibi=A.packageName:qn()?Z.apn=A.packageName:Ae(v,"operation-not-supported-in-this-environment"),A.displayName&&(Z.appDisplayName=A.displayName),Z.sessionId=N,Ki(v,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,Z)})).apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(v){const{BuildInfo:f}=wo(),m={};rn()?m.iosBundleId=f.packageName:qn()?m.androidPackageName=f.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield _o(v,m)})).apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(v,f,m){const{cordova:w}=wo();let A=()=>{};try{yield new Promise((N,Z)=>{let ce=null;function Fe(){var ot;N();const or=null===(ot=w.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof or&&or(),"function"==typeof m?.close&&m.close()}function Qe(){ce||(ce=window.setTimeout(()=>{Z(ve(v,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===document?.visibilityState&&Qe()}f.addPassiveListener(Fe),document.addEventListener("resume",Qe,!1),qn()&&document.addEventListener("visibilitychange",vt,!1),A=()=>{f.removePassiveListener(Fe),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",vt,!1),ce&&window.clearTimeout(ce)}})}finally{A()}})).apply(this,arguments)}function Jf(v){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,d.Z)(function*(v){const f=Dg(v),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Dg(v){if(Y(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const f=new ArrayBuffer(v.length),m=new Uint8Array(f);for(let w=0;w<v.length;w++)m[w]=v.charCodeAt(w);return m}!function t_(v){(0,ae._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:N,authDomain:Z}=w.options;return((ce,Fe)=>{B(N&&!N.includes(":"),"invalid-api-key",{appName:ce.name}),B(!Z?.includes(":"),"argument-error",{appName:ce.name});const Qe={apiKey:N,authDomain:Z,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ts(v)},vt=new Rt(ce,Fe,Qe);return function ke(v,f){const m=f?.persistence||[],w=(Array.isArray(m)?m:[m]).map(oe);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(w,f?.popupRedirectResolver)}(vt,m),vt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new ue.wA("auth-internal",f=>{const m=bn(f.getProvider("auth").getImmediate());return new Mr(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Er,"0.20.6",function ua(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ae.registerVersion)(Er,"0.20.6","esm2017")}("Browser");class i_ extends ia{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function ch(v){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,d.Z)(function*(v){const f=yield Tc()._get(dh(v));return f&&(yield Tc()._remove(dh(v))),f})).apply(this,arguments)}function Xf(){const v=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);v.push(f.charAt(w))}return v.join("")}function Tc(){return oe(Fa)}function dh(v){return er("authEvent",v.config.apiKey,v.name)}function la(v){if(!v?.includes("?"))return{};const[f,...m]=v.split("?");return(0,P.zd)(m.join("?"))}function Ag(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function al(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function ul(v=(0,P.z$)()){return!("file:"!==al()&&"ionic:"!==al()&&"capacitor:"!==al()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function ph(){try{const v=self.localStorage,f=Ua();if(v)return v.setItem(f,"1"),v.removeItem(f),!function W0(v=(0,P.z$)()){return function Ac(){return(0,P.w1)()&&11===document?.documentMode}()||function a_(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch{return Hs()&&(0,P.hl)()}return!1}function Hs(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qa(){return(function Hr(){return"http:"===al()||"https:"===al()}()||(0,P.ru)()||ul())&&!function o_(){return(0,P.b$)()||(0,P.UG)()}()&&ph()&&!Hs()}function Mc(){return ul()&&typeof document<"u"}function ll(){return(ll=(0,d.Z)(function*(){return!!Mc()&&new Promise(v=>{const f=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),v(!0)})})})).apply(this,arguments)}const ii={LOCAL:"local",NONE:"none",SESSION:"session"},cl=B,xc="persistence";function Oc(v){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(v){yield v._initializationPromise;const f=Nc(),m=er(xc,v.config.apiKey,v.name);f&&f.setItem(m,v._getPersistence())})).apply(this,arguments)}function Nc(){var v;try{return(null===(v=function xg(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const bo=B;class $s{constructor(){this.browserResolver=oe(class Xy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gi,this._completeRedirectFn=Et,this._overrideRedirectResult=mo}_openPopup(f,m,w,A){var N=this;return(0,d.Z)(function*(){var Z;Y(null===(Z=N.eventManagers[f._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ce=Ki(f,m,w,Pe(),A);return function ms(v,f,m,w=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),Z=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Fe=Object.assign(Object.assign({},me),{width:w.toString(),height:A.toString(),top:N,left:Z}),Qe=(0,P.z$)().toLowerCase();m&&(ce=Bi(Qe)?"_blank":m),wn(Qe)&&(f=f||"http://localhost",Fe.scrollbars="yes");const vt=Object.entries(Fe).reduce((or,[_i,hl])=>`${or}${_i}=${hl},`,"");if(function Di(v=(0,P.z$)()){var f;return rn(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Qe)&&"_self"!==ce)return function Ye(v,f){const m=document.createElement("a");m.href=v,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",ce),new Ec(null);const ot=window.open(f||"",ce,vt);B(ot,v,"popup-blocked");try{ot.focus()}catch{}return new Ec(ot)}(f,ce,Ua())})()}_openRedirect(f,m,w,A){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(f),function Ai(v){Un().location.href=v}(Ki(f,m,w,Pe(),A)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:A,promise:N}=this.eventManagers[m];return A?Promise.resolve(A):(Y(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const w=yield function Jy(v){return il.apply(this,arguments)}(f),A=new ia(f);return w.register("authEvent",N=>(B(N?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:A},m.iframes[f._key()]=w,A})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ya,{type:Ya},A=>{var N;const Z=null===(N=A?.[0])||void 0===N?void 0:N[Ya];void 0!==Z&&m(!!Z),Ae(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Wf(v){return Wi.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ys()||zn()||rn()}}),this.cordovaResolver=oe(class hh{constructor(){this._redirectPersistence=Gi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Et,this._overrideRedirectResult=mo}_initialize(f){var m=this;return(0,d.Z)(function*(){const w=f._key();let A=m.eventManagers.get(w);return A||(A=new i_(f),m.eventManagers.set(w,A),m.attachCallbackListeners(f,A)),A})()}_openPopup(f){Ae(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,A){var N=this;return(0,d.Z)(function*(){!function jr(v){var f,m,w,A,N,Z,ce,Fe,Qe,vt;const ot=wo();B("function"==typeof(null===(f=ot?.universalLinks)||void 0===f?void 0:f.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof(null===(m=ot?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B("function"==typeof(null===(N=null===(A=null===(w=ot?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(Fe=null===(ce=null===(Z=ot?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Fe?void 0:Fe.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B("function"==typeof(null===(vt=null===(Qe=ot?.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===vt?void 0:vt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Z=yield N._initialize(f);yield Z.initialized(),Z.resetRedirect(),function vc(){Br.clear()}(),yield N._originValidation(f);const ce=function lh(v,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:Xf(),postBody:null,tenantId:v.tenantId,error:ve(v,"no-auth-event")}}(f,w,A);yield function Ic(v,f){return Tc()._set(dh(v),f)}(f,ce);const Fe=yield function n_(v,f,m){return uh.apply(this,arguments)}(f,ce,m),Qe=yield function Qf(v){const{cordova:f}=wo();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let A=null;w?f.plugins.browsertab.openUrl(v):A=f.InAppBrowser.open(v,function pi(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(A)})})}(Fe);return function Sn(v,f,m){return Eo.apply(this,arguments)}(f,Z,Qe)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yf(v){return js.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:N}=wo(),Z=setTimeout((0,d.Z)(function*(){yield ch(f),m.onEvent(Ag())}),500),ce=function(){var vt=(0,d.Z)(function*(ot){clearTimeout(Z);const or=yield ch(f);let _i=null;or&&ot?.url&&(_i=function Dc(v,f){var m,w;const A=function Sg(v){const f=la(v),m=f.link?decodeURIComponent(f.link):void 0,w=la(m).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return la(A).link||A||w||m||v}(f);if(A.includes("/__/auth/callback")){const N=la(A),Z=N.firebaseError?function s_(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,ce=null===(w=null===(m=Z?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Fe=ce?ve(ce):null;return Fe?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(or,ot.url)),m.onEvent(_i||Ag())});return function(or){return vt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Fe=A,Qe=`${N.packageName.toLowerCase()}://`;wo().handleOpenURL=function(){var vt=(0,d.Z)(function*(ot){if(ot.toLowerCase().startsWith(Qe)&&ce({url:ot}),"function"==typeof Fe)try{Fe(ot)}catch(or){console.error(or)}});return function(ot){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Gi,this._completeRedirectFn=Et,this._overrideRedirectResult=mo}_initialize(f){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,w,A)})()}_openRedirect(f,m,w,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,w,A)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Mc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const m=yield function gh(){return ll.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Yn(v){return v.unwrap()}function mh(v){return Rc(v)}function Rc(v){const{_tokenResponse:f}=v instanceof P.ZR?v.customData:v;if(!f)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return za.credentialFromResult(v);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=Du;break;case"facebook.com":w=Sa;break;case"github.com":w=Xl;break;case"twitter.com":w=Jr;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:Z,pendingToken:ce,nonce:Fe}=f;return N||Z||A||ce?ce?m.startsWith("saml.")?Bo._create(m,ce):ss._fromParams({providerId:m,signInMethod:m,pendingToken:ce,idToken:A,accessToken:N}):new eo(m).credential({idToken:A,accessToken:N,rawNonce:Fe}):null}return v instanceof P.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function sr(v,f){return f.catch(m=>{throw m instanceof P.ZR&&function Pc(v,f){var m,w;const A=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new l_(v,function Pn(v,f){var m;const w=(0,P.m9)(v),A=f;return B(f.customData.operationType,w,"argument-error"),B(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ju._fromError(w,A)}(v,f));else if(A){const N=Rc(f),Z=f;N&&(Z.credential=N,Z.tenantId=A.tenantId||void 0,Z.email=A.email||void 0,Z.phoneNumber=A.phoneNumber||void 0)}}(v,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:mh(m),additionalUserInfo:Bu(m),user:_s.getOrCreate(A)}})}function kc(v,f){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(v,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>sr(v,m.confirm(w))}})).apply(this,arguments)}class l_{constructor(f,m){this.resolver=m,this.auth=function ir(v){return v.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return sr(Yn(this.auth),this.resolver.resolveSignIn(f))}}class _s{constructor(f){this._delegate=f,this.multiFactor=function qo(v){const f=(0,P.m9)(v);return uo.has(f)||uo.set(f,Gf._fromUser(f)),uo.get(f)}(f)}static getOrCreate(f){return _s.USER_MAP.has(f)||_s.USER_MAP.set(f,new _s(f)),_s.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,d.Z)(function*(){return sr(m.auth,xu(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,d.Z)(function*(){return kc(w.auth,function cn(v,f,m){return ni.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,d.Z)(function*(){return sr(m.auth,function qf(v,f,m){return ta.apply(this,arguments)}(m._delegate,f,$s))})()}linkWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Oc(bn(m.auth)),function J(v,f,m){return function le(v,f,m){return Te.apply(this,arguments)}(v,f,m)}(m._delegate,f,$s)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,d.Z)(function*(){return sr(m.auth,Ou(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return kc(this.auth,function ps(v,f,m){return Bn.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return sr(this.auth,function bg(v,f,m){return eh.apply(this,arguments)}(this._delegate,f,$s))}reauthenticateWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield Oc(bn(m.auth)),function D(v,f,m){return function x(v,f,m){return L.apply(this,arguments)}(v,f,m)}(m._delegate,f,$s)})()}sendEmailVerification(f){return function oc(v,f){return Ra.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,d.Z)(function*(){return yield function Vr(v,f){return Su.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function $d(v,f){return oo((0,P.m9)(v),f,null)}(this._delegate,f)}updatePassword(f){return function so(v,f){return oo((0,P.m9)(v),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function _t(v,f){return Xu.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function lc(v,f){return cc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function ac(v,f,m){return Lu.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_s.USER_MAP=new WeakMap;const ca=B;let Ja=(()=>{class v{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;ca(A,"invalid-api-key",{appName:m.name}),ca(A,"invalid-api-key",{appName:m.name});const N=typeof window<"u"?$s:void 0;this._delegate=w.initialize({options:{persistence:Ng(A,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(we),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_s.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function zl(v,f,m){const w=bn(v);B(w._canInitEmulator,w,"emulator-config-failed"),B(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const A=!!m?.disableWarnings,N=ji(f),{host:Z,port:ce}=function Wn(v){const f=ji(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const N=A[1];return{host:N,port:Ss(w.substr(N.length+1))}}{const[N,Z]=w.split(":");return{host:N,port:Ss(Z)}}}(f);w.config.emulator={url:`${N}//${Z}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Z,port:ce,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function As(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,w)}applyActionCode(m){return function yi(v,f){return xa.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Oa(this._delegate,m)}confirmPasswordReset(m,w){return function ku(v,f,m){return Ho.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,d.Z)(function*(){return sr(A._delegate,function ro(v,f,m){return Nn.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Fu(v,f){return Pa.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ds(v,f){return"EMAIL_SIGNIN"===Iu.parseLink(f)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){ca(Qa(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function He(v,f){return ft.apply(this,arguments)}(m._delegate,$s);return w?sr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Kn(v,f){bn(v)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:N,error:Z,complete:ce}=yh(m,w,A);return this._delegate.onAuthStateChanged(N,Z,ce)}onIdTokenChanged(m,w,A){const{next:N,error:Z,complete:ce}=yh(m,w,A);return this._delegate.onIdTokenChanged(N,Z,ce)}sendSignInLinkToEmail(m,w){return function ic(v,f,m){return io.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Ru(v,f,m){return On.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,d.Z)(function*(){let A;switch(function u_(v,f){cl(Object.values(ii).includes(f),v,"invalid-persistence-type"),(0,P.b$)()?cl(f!==ii.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?cl(f===ii.NONE,v,"unsupported-persistence-type"):Hs()?cl(f===ii.NONE||f===ii.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):cl(f===ii.NONE||ph(),v,"unsupported-persistence-type")}(w._delegate,m),m){case ii.SESSION:A=Gi;break;case ii.LOCAL:A=(yield oe(Zo)._isAvailable())?Zo:Fa;break;case ii.NONE:A=Xt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return sr(this._delegate,function jf(v){return xn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return sr(this._delegate,Dn(this._delegate,m))}signInWithCustomToken(m){return sr(this._delegate,function tc(v,f){return Ma.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return sr(this._delegate,function $i(v,f,m){return Dn((0,P.m9)(v),Hi.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return sr(this._delegate,function mg(v,f,m){return Na.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return kc(this._delegate,function nt(v,f,m){return ti.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,d.Z)(function*(){return ca(Qa(),w._delegate,"operation-not-supported-in-this-environment"),sr(w._delegate,function zi(v,f,m){return tl.apply(this,arguments)}(w._delegate,m,$s))})()}signInWithRedirect(m){var w=this;return(0,d.Z)(function*(){return ca(Qa(),w._delegate,"operation-not-supported-in-this-environment"),yield Oc(w._delegate),function jn(v,f,m){return function Cg(v,f,m){return I.apply(this,arguments)}(v,f,m)}(w._delegate,m,$s)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function rc(v,f){return Hd.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=ii,v})();function yh(v,f,m){let w=v;"function"!=typeof v&&({next:w,error:f,complete:m}=v);const A=w;return{next:Z=>A(Z&&_s.getOrCreate(Z)),error:f,complete:m}}function Ng(v,f){const m=function Og(v,f){const m=Nc();if(!m)return[];const w=er(xc,v,f);switch(m.getItem(w)){case ii.NONE:return[Xt];case ii.LOCAL:return[Zo,Gi];case ii.SESSION:return[Gi];default:return[]}}(v,f);if(typeof self<"u"&&!m.includes(Zo)&&m.push(Zo),typeof window<"u")for(const w of[Fa,Gi])m.includes(w)||m.push(w);return m.includes(Xt)||m.push(Xt),m}class tp{constructor(){this.providerId="phone",this._delegate=new za(Yn(ee.Z.auth()))}static credential(f,m){return za.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}tp.PHONE_SIGN_IN_METHOD=za.PHONE_SIGN_IN_METHOD,tp.PROVIDER_ID=za.PROVIDER_ID;const _h=B;class Lc{constructor(f,m,w=ee.Z.app()){var A;_h(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new pr(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function rp(v){v.INTERNAL.registerComponent(new ue.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Ja(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hi,FacebookAuthProvider:Sa,GithubAuthProvider:Xl,GoogleAuthProvider:Du,OAuthProvider:eo,SAMLAuthProvider:gi,PhoneAuthProvider:tp,PhoneMultiFactorGenerator:sl,RecaptchaVerifier:Lc,TwitterAuthProvider:Jr,Auth:Ja,AuthCredential:_r,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.19")}(ee.Z)},9751:(lt,Se,k)=>{k.d(Se,{y:()=>fe});var d=k(2961),ee=k(727),P=k(8822),ae=k(9635),se=k(2416),he=k(576),ue=k(2806);let fe=(()=>{class Q{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const we=new Q;return we.source=this,we.operator=xe,we}subscribe(xe,we,Xe){const _e=function G(Q){return Q&&Q instanceof d.Lv||function H(Q){return Q&&(0,he.m)(Q.next)&&(0,he.m)(Q.error)&&(0,he.m)(Q.complete)}(Q)&&(0,ee.Nn)(Q)}(xe)?xe:new d.Hp(xe,we,Xe);return(0,ue.x)(()=>{const{operator:pe,source:Ke}=this;_e.add(pe?pe.call(_e,Ke):Ke?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(xe){try{return this._subscribe(xe)}catch(we){xe.error(we)}}forEach(xe,we){return new(we=ge(we))((Xe,_e)=>{const pe=new d.Hp({next:Ke=>{try{xe(Ke)}catch(st){_e(st),pe.unsubscribe()}},error:_e,complete:Xe});this.subscribe(pe)})}_subscribe(xe){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(xe)}[P.L](){return this}pipe(...xe){return(0,ae.U)(xe)(this)}toPromise(xe){return new(xe=ge(xe))((we,Xe)=>{let _e;this.subscribe(pe=>_e=pe,pe=>Xe(pe),()=>we(_e))})}}return Q.create=Ve=>new Q(Ve),Q})();function ge(Q){var Ve;return null!==(Ve=Q??se.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(lt,Se,k)=>{k.d(Se,{x:()=>ue});var d=k(9751),ee=k(727);const ae=(0,k(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=k(8737),he=k(2806);let ue=(()=>{class ge extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const Q=new fe(this,this);return Q.operator=G,Q}_throwIfClosed(){if(this.closed)throw new ae}next(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(G)}})}error(G){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:Q}=this;for(;Q.length;)Q.shift().error(G)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:Q,isStopped:Ve,observers:xe}=this;return Q||Ve?ee.Lc:(this.currentObservers=null,xe.push(G),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(xe,G)}))}_checkFinalizedStatuses(G){const{hasError:Q,thrownError:Ve,isStopped:xe}=this;Q?G.error(Ve):xe&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return ge.create=(H,G)=>new fe(H,G),ge})();class fe extends ue{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===Q||Q.call(G,H)}error(H){var G,Q;null===(Q=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===Q||Q.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,Q;return null!==(Q=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==Q?Q:ee.Lc}}},2961:(lt,Se,k)=>{k.d(Se,{Hp:()=>Xe,Lv:()=>Q});var d=k(576),ee=k(727),P=k(2416),ae=k(7849);function se(){}const he=ge("C",void 0,void 0);function ge(Ae,ve,Ce){return{kind:Ae,value:ve,error:Ce}}var H=k(3410),G=k(2806);class Q extends ee.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,ee.Nn)(ve)&&ve.add(this)):this.destination=st}static create(ve,Ce,Be){return new Xe(ve,Ce,Be)}next(ve){this.isStopped?Ke(function fe(Ae){return ge("N",Ae,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Ke(function ue(Ae){return ge("E",void 0,Ae)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Ke(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function xe(Ae,ve){return Ve.call(Ae,ve)}class we{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(ve)}catch(Be){_e(Be)}}error(ve){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(ve)}catch(Be){_e(Be)}else _e(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ce){_e(Ce)}}}class Xe extends Q{constructor(ve,Ce,Be){let je;if(super(),(0,d.m)(ve)||!ve)je={next:ve??void 0,error:Ce??void 0,complete:Be??void 0};else{let B;this&&P.v.useDeprecatedNextContext?(B=Object.create(ve),B.unsubscribe=()=>this.unsubscribe(),je={next:ve.next&&xe(ve.next,B),error:ve.error&&xe(ve.error,B),complete:ve.complete&&xe(ve.complete,B)}):je=ve}this.destination=new we(je)}}function _e(Ae){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ae):(0,ae.h)(Ae)}function Ke(Ae,ve){const{onStoppedNotification:Ce}=P.v;Ce&&H.z.setTimeout(()=>Ce(Ae,ve))}const st={closed:!0,next:se,error:function pe(Ae){throw Ae},complete:se}},727:(lt,Se,k)=>{k.d(Se,{Lc:()=>he,w0:()=>se,Nn:()=>ue});var d=k(576);const P=(0,k(3888).d)(ge=>function(G){ge(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((Q,Ve)=>`${Ve+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ae=k(8737);class se{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const xe of G)xe.remove(this);else G.remove(this);const{initialTeardown:Q}=this;if((0,d.m)(Q))try{Q()}catch(xe){H=xe instanceof P?xe.errors:[xe]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const xe of Ve)try{fe(xe)}catch(we){H=H??[],we instanceof P?H=[...H,...we.errors]:H.push(we)}}if(H)throw new P(H)}}add(H){var G;if(H&&H!==this)if(this.closed)fe(H);else{if(H instanceof se){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,ae.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,ae.P)(G,H),H instanceof se&&H._removeParent(this)}}se.EMPTY=(()=>{const ge=new se;return ge.closed=!0,ge})();const he=se.EMPTY;function ue(ge){return ge instanceof se||ge&&"closed"in ge&&(0,d.m)(ge.remove)&&(0,d.m)(ge.add)&&(0,d.m)(ge.unsubscribe)}function fe(ge){(0,d.m)(ge)?ge():ge.unsubscribe()}},2416:(lt,Se,k)=>{k.d(Se,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Se,k)=>{k.d(Se,{E:()=>ee});const ee=new(k(9751).y)(se=>se.complete())},8996:(lt,Se,k)=>{k.d(Se,{D:()=>ve});var d=k(8421),ee=k(5363),P=k(9468),he=k(9751),fe=k(2202),ge=k(576),H=k(9672);function Q(Ce,Be){if(!Ce)throw new Error("Iterable cannot be null");return new he.y(je=>{(0,H.f)(je,Be,()=>{const B=Ce[Symbol.asyncIterator]();(0,H.f)(je,Be,()=>{B.next().then(ye=>{ye.done?je.complete():je.next(ye.value)})},0,!0)})})}var Ve=k(3670),xe=k(8239),we=k(1144),Xe=k(6495),_e=k(2206),pe=k(4532),Ke=k(3260);function ve(Ce,Be){return Be?function Ae(Ce,Be){if(null!=Ce){if((0,Ve.c)(Ce))return function ae(Ce,Be){return(0,d.Xf)(Ce).pipe((0,P.R)(Be),(0,ee.Q)(Be))}(Ce,Be);if((0,we.z)(Ce))return function ue(Ce,Be){return new he.y(je=>{let B=0;return Be.schedule(function(){B===Ce.length?je.complete():(je.next(Ce[B++]),je.closed||this.schedule())})})}(Ce,Be);if((0,xe.t)(Ce))return function se(Ce,Be){return(0,d.Xf)(Ce).pipe((0,P.R)(Be),(0,ee.Q)(Be))}(Ce,Be);if((0,_e.D)(Ce))return Q(Ce,Be);if((0,Xe.T)(Ce))return function G(Ce,Be){return new he.y(je=>{let B;return(0,H.f)(je,Be,()=>{B=Ce[fe.h](),(0,H.f)(je,Be,()=>{let ye,Y;try{({value:ye,done:Y}=B.next())}catch(X){return void je.error(X)}Y?je.complete():je.next(ye)},0,!0)}),()=>(0,ge.m)(B?.return)&&B.return()})}(Ce,Be);if((0,Ke.L)(Ce))return function st(Ce,Be){return Q((0,Ke.Q)(Ce),Be)}(Ce,Be)}throw(0,pe.z)(Ce)}(Ce,Be):(0,d.Xf)(Ce)}},8421:(lt,Se,k)=>{k.d(Se,{Xf:()=>Ve});var d=k(655),ee=k(1144),P=k(8239),ae=k(9751),se=k(3670),he=k(2206),ue=k(4532),fe=k(6495),ge=k(3260),H=k(576),G=k(7849),Q=k(8822);function Ve(Ae){if(Ae instanceof ae.y)return Ae;if(null!=Ae){if((0,se.c)(Ae))return function xe(Ae){return new ae.y(ve=>{const Ce=Ae[Q.L]();if((0,H.m)(Ce.subscribe))return Ce.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ee.z)(Ae))return function we(Ae){return new ae.y(ve=>{for(let Ce=0;Ce<Ae.length&&!ve.closed;Ce++)ve.next(Ae[Ce]);ve.complete()})}(Ae);if((0,P.t)(Ae))return function Xe(Ae){return new ae.y(ve=>{Ae.then(Ce=>{ve.closed||(ve.next(Ce),ve.complete())},Ce=>ve.error(Ce)).then(null,G.h)})}(Ae);if((0,he.D)(Ae))return pe(Ae);if((0,fe.T)(Ae))return function _e(Ae){return new ae.y(ve=>{for(const Ce of Ae)if(ve.next(Ce),ve.closed)return;ve.complete()})}(Ae);if((0,ge.L)(Ae))return function Ke(Ae){return pe((0,ge.Q)(Ae))}(Ae)}throw(0,ue.z)(Ae)}function pe(Ae){return new ae.y(ve=>{(function st(Ae,ve){var Ce,Be,je,B;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,d.KL)(Ae);!(Be=yield Ce.next()).done;)if(ve.next(Be.value),ve.closed)return}catch(ye){je={error:ye}}finally{try{Be&&!Be.done&&(B=Ce.return)&&(yield B.call(Ce))}finally{if(je)throw je.error}}ve.complete()})})(Ae,ve).catch(Ce=>ve.error(Ce))})}},6451:(lt,Se,k)=>{k.d(Se,{T:()=>he});var d=k(8189),ee=k(8421),P=k(515),ae=k(7669),se=k(8996);function he(...ue){const fe=(0,ae.yG)(ue),ge=(0,ae._6)(ue,1/0),H=ue;return H.length?1===H.length?(0,ee.Xf)(H[0]):(0,d.J)(ge)((0,se.D)(H,fe)):P.E}},5403:(lt,Se,k)=>{k.d(Se,{x:()=>ee});var d=k(2961);function ee(ae,se,he,ue,fe){return new P(ae,se,he,ue,fe)}class P extends d.Lv{constructor(se,he,ue,fe,ge,H){super(se),this.onFinalize=ge,this.shouldUnsubscribe=H,this._next=he?function(G){try{he(G)}catch(Q){se.error(Q)}}:super._next,this._error=fe?function(G){try{fe(G)}catch(Q){se.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ue?function(){try{ue()}catch(G){se.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(lt,Se,k)=>{k.d(Se,{U:()=>P});var d=k(4482),ee=k(5403);function P(ae,se){return(0,d.e)((he,ue)=>{let fe=0;he.subscribe((0,ee.x)(ue,ge=>{ue.next(ae.call(se,ge,fe++))}))})}},8189:(lt,Se,k)=>{k.d(Se,{J:()=>P});var d=k(5577),ee=k(4671);function P(ae=1/0){return(0,d.z)(ee.y,ae)}},5577:(lt,Se,k)=>{k.d(Se,{z:()=>fe});var d=k(4004),ee=k(8421),P=k(4482),ae=k(9672),se=k(5403),ue=k(576);function fe(ge,H,G=1/0){return(0,ue.m)(H)?fe((Q,Ve)=>(0,d.U)((xe,we)=>H(Q,xe,Ve,we))((0,ee.Xf)(ge(Q,Ve))),G):("number"==typeof H&&(G=H),(0,P.e)((Q,Ve)=>function he(ge,H,G,Q,Ve,xe,we,Xe){const _e=[];let pe=0,Ke=0,st=!1;const Ae=()=>{st&&!_e.length&&!pe&&H.complete()},ve=Be=>pe<Q?Ce(Be):_e.push(Be),Ce=Be=>{xe&&H.next(Be),pe++;let je=!1;(0,ee.Xf)(G(Be,Ke++)).subscribe((0,se.x)(H,B=>{Ve?.(B),xe?ve(B):H.next(B)},()=>{je=!0},void 0,()=>{if(je)try{for(pe--;_e.length&&pe<Q;){const B=_e.shift();we?(0,ae.f)(H,we,()=>Ce(B)):Ce(B)}Ae()}catch(B){H.error(B)}}))};return ge.subscribe((0,se.x)(H,ve,()=>{st=!0,Ae()})),()=>{Xe?.()}}(Q,Ve,ge,G)))}},5363:(lt,Se,k)=>{k.d(Se,{Q:()=>ae});var d=k(9672),ee=k(4482),P=k(5403);function ae(se,he=0){return(0,ee.e)((ue,fe)=>{ue.subscribe((0,P.x)(fe,ge=>(0,d.f)(fe,se,()=>fe.next(ge),he),()=>(0,d.f)(fe,se,()=>fe.complete(),he),ge=>(0,d.f)(fe,se,()=>fe.error(ge),he)))})}},3099:(lt,Se,k)=>{k.d(Se,{B:()=>se});var d=k(8421),ee=k(7579),P=k(2961),ae=k(4482);function se(ue={}){const{connector:fe=(()=>new ee.x),resetOnError:ge=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=ue;return Q=>{let Ve,xe,we,Xe=0,_e=!1,pe=!1;const Ke=()=>{xe?.unsubscribe(),xe=void 0},st=()=>{Ke(),Ve=we=void 0,_e=pe=!1},Ae=()=>{const ve=Ve;st(),ve?.unsubscribe()};return(0,ae.e)((ve,Ce)=>{Xe++,!pe&&!_e&&Ke();const Be=we=we??fe();Ce.add(()=>{Xe--,0===Xe&&!pe&&!_e&&(xe=he(Ae,G))}),Be.subscribe(Ce),!Ve&&Xe>0&&(Ve=new P.Hp({next:je=>Be.next(je),error:je=>{pe=!0,Ke(),xe=he(st,ge,je),Be.error(je)},complete:()=>{_e=!0,Ke(),xe=he(st,H),Be.complete()}}),(0,d.Xf)(ve).subscribe(Ve))})(Q)}}function he(ue,fe,...ge){if(!0===fe)return void ue();if(!1===fe)return;const H=new P.Hp({next:()=>{H.unsubscribe(),ue()}});return fe(...ge).subscribe(H)}},9468:(lt,Se,k)=>{k.d(Se,{R:()=>ee});var d=k(4482);function ee(P,ae=0){return(0,d.e)((se,he)=>{he.add(P.schedule(()=>se.subscribe(he),ae))})}},8505:(lt,Se,k)=>{k.d(Se,{b:()=>se});var d=k(576),ee=k(4482),P=k(5403),ae=k(4671);function se(he,ue,fe){const ge=(0,d.m)(he)||ue||fe?{next:he,error:ue,complete:fe}:he;return ge?(0,ee.e)((H,G)=>{var Q;null===(Q=ge.subscribe)||void 0===Q||Q.call(ge);let Ve=!0;H.subscribe((0,P.x)(G,xe=>{var we;null===(we=ge.next)||void 0===we||we.call(ge,xe),G.next(xe)},()=>{var xe;Ve=!1,null===(xe=ge.complete)||void 0===xe||xe.call(ge),G.complete()},xe=>{var we;Ve=!1,null===(we=ge.error)||void 0===we||we.call(ge,xe),G.error(xe)},()=>{var xe,we;Ve&&(null===(xe=ge.unsubscribe)||void 0===xe||xe.call(ge)),null===(we=ge.finalize)||void 0===we||we.call(ge)}))}):ae.y}},4408:(lt,Se,k)=>{k.d(Se,{o:()=>se});var d=k(727);class ee extends d.w0{constructor(ue,fe){super()}schedule(ue,fe=0){return this}}const P={setInterval(he,ue,...fe){const{delegate:ge}=P;return ge?.setInterval?ge.setInterval(he,ue,...fe):setInterval(he,ue,...fe)},clearInterval(he){const{delegate:ue}=P;return(ue?.clearInterval||clearInterval)(he)},delegate:void 0};var ae=k(8737);class se extends ee{constructor(ue,fe){super(ue,fe),this.scheduler=ue,this.work=fe,this.pending=!1}schedule(ue,fe=0){if(this.closed)return this;this.state=ue;const ge=this.id,H=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(H,ge,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId(H,this.id,fe),this}requestAsyncId(ue,fe,ge=0){return P.setInterval(ue.flush.bind(ue,this),ge)}recycleAsyncId(ue,fe,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return fe;P.clearInterval(fe)}execute(ue,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ue,fe);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ue,fe){let H,ge=!1;try{this.work(ue)}catch(G){ge=!0,H=G||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:ue,scheduler:fe}=this,{actions:ge}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ge,this),null!=ue&&(this.id=this.recycleAsyncId(fe,ue,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Se,k)=>{k.d(Se,{v:()=>P});var d=k(6063);class ee{constructor(se,he=ee.now){this.schedulerActionCtor=se,this.now=he}schedule(se,he=0,ue){return new this.schedulerActionCtor(this,se).schedule(ue,he)}}ee.now=d.l.now;class P extends ee{constructor(se,he=ee.now){super(se,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:he}=this;if(this._active)return void he.push(se);let ue;this._active=!0;do{if(ue=se.execute(se.state,se.delay))break}while(se=he.shift());if(this._active=!1,ue){for(;se=he.shift();)se.unsubscribe();throw ue}}}},4986:(lt,Se,k)=>{k.d(Se,{z:()=>P});var d=k(4408);const P=new(k(7565).v)(d.o)},6063:(lt,Se,k)=>{k.d(Se,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(lt,Se,k)=>{k.d(Se,{z:()=>d});const d={setTimeout(ee,P,...ae){const{delegate:se}=d;return se?.setTimeout?se.setTimeout(ee,P,...ae):setTimeout(ee,P,...ae)},clearTimeout(ee){const{delegate:P}=d;return(P?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(lt,Se,k)=>{k.d(Se,{h:()=>ee});const ee=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Se,k)=>{k.d(Se,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,Se,k)=>{k.d(Se,{_6:()=>he,jO:()=>ae,yG:()=>se});var d=k(576);function P(ue){return ue[ue.length-1]}function ae(ue){return(0,d.m)(P(ue))?ue.pop():void 0}function se(ue){return function ee(ue){return ue&&(0,d.m)(ue.schedule)}(P(ue))?ue.pop():void 0}function he(ue,fe){return"number"==typeof P(ue)?ue.pop():fe}},8737:(lt,Se,k)=>{function d(ee,P){if(ee){const ae=ee.indexOf(P);0<=ae&&ee.splice(ae,1)}}k.d(Se,{P:()=>d})},3888:(lt,Se,k)=>{function d(ee){const ae=ee(se=>{Error.call(se),se.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(Se,{d:()=>d})},2806:(lt,Se,k)=>{k.d(Se,{O:()=>ae,x:()=>P});var d=k(2416);let ee=null;function P(se){if(d.v.useDeprecatedSynchronousErrorHandling){const he=!ee;if(he&&(ee={errorThrown:!1,error:null}),se(),he){const{errorThrown:ue,error:fe}=ee;if(ee=null,ue)throw fe}}else se()}function ae(se){d.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(lt,Se,k)=>{function d(ee,P,ae,se=0,he=!1){const ue=P.schedule(function(){ae(),he?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(ue),!he)return ue}k.d(Se,{f:()=>d})},4671:(lt,Se,k)=>{function d(ee){return ee}k.d(Se,{y:()=>d})},1144:(lt,Se,k)=>{k.d(Se,{z:()=>d});const d=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(lt,Se,k)=>{k.d(Se,{D:()=>ee});var d=k(576);function ee(P){return Symbol.asyncIterator&&(0,d.m)(P?.[Symbol.asyncIterator])}},576:(lt,Se,k)=>{function d(ee){return"function"==typeof ee}k.d(Se,{m:()=>d})},3670:(lt,Se,k)=>{k.d(Se,{c:()=>P});var d=k(8822),ee=k(576);function P(ae){return(0,ee.m)(ae[d.L])}},6495:(lt,Se,k)=>{k.d(Se,{T:()=>P});var d=k(2202),ee=k(576);function P(ae){return(0,ee.m)(ae?.[d.h])}},8239:(lt,Se,k)=>{k.d(Se,{t:()=>ee});var d=k(576);function ee(P){return(0,d.m)(P?.then)}},3260:(lt,Se,k)=>{k.d(Se,{L:()=>ae,Q:()=>P});var d=k(655),ee=k(576);function P(se){return(0,d.FC)(this,arguments,function*(){const ue=se.getReader();try{for(;;){const{value:fe,done:ge}=yield(0,d.qq)(ue.read());if(ge)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(fe)}}finally{ue.releaseLock()}})}function ae(se){return(0,ee.m)(se?.getReader)}},4482:(lt,Se,k)=>{k.d(Se,{A:()=>ee,e:()=>P});var d=k(576);function ee(ae){return(0,d.m)(ae?.lift)}function P(ae){return se=>{if(ee(se))return se.lift(function(he){try{return ae(he,this)}catch(ue){this.error(ue)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(lt,Se,k)=>{k.d(Se,{U:()=>P,z:()=>ee});var d=k(4671);function ee(...ae){return P(ae)}function P(ae){return 0===ae.length?d.y:1===ae.length?ae[0]:function(he){return ae.reduce((ue,fe)=>fe(ue),he)}}},7849:(lt,Se,k)=>{k.d(Se,{h:()=>P});var d=k(2416),ee=k(3410);function P(ae){ee.z.setTimeout(()=>{const{onUnhandledError:se}=d.v;if(!se)throw ae;se(ae)})}},4532:(lt,Se,k)=>{function d(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>d})},655:(lt,Se,k)=>{function ae(Y,X){var oe={};for(var ne in Y)Object.prototype.hasOwnProperty.call(Y,ne)&&X.indexOf(ne)<0&&(oe[ne]=Y[ne]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ne=Object.getOwnPropertySymbols(Y);ke<ne.length;ke++)X.indexOf(ne[ke])<0&&Object.prototype.propertyIsEnumerable.call(Y,ne[ke])&&(oe[ne[ke]]=Y[ne[ke]])}return oe}function fe(Y,X,oe,ne){return new(oe||(oe=Promise))(function(Pe,ht){function qt(un){try{ze(ne.next(un))}catch(Fn){ht(Fn)}}function Bt(un){try{ze(ne.throw(un))}catch(Fn){ht(Fn)}}function ze(un){un.done?Pe(un.value):function ke(Pe){return Pe instanceof oe?Pe:new oe(function(ht){ht(Pe)})}(un.value).then(qt,Bt)}ze((ne=ne.apply(Y,X||[])).next())})}function _e(Y){return this instanceof _e?(this.v=Y,this):new _e(Y)}function pe(Y,X,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ne=oe.apply(Y,X||[]),Pe=[];return ke={},ht("next"),ht("throw"),ht("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function ht(Yt){ne[Yt]&&(ke[Yt]=function(Qt){return new Promise(function(Rr,Ft){Pe.push([Yt,Qt,Rr,Ft])>1||qt(Yt,Qt)})})}function qt(Yt,Qt){try{!function Bt(Yt){Yt.value instanceof _e?Promise.resolve(Yt.value.v).then(ze,un):Fn(Pe[0][2],Yt)}(ne[Yt](Qt))}catch(Rr){Fn(Pe[0][3],Rr)}}function ze(Yt){qt("next",Yt)}function un(Yt){qt("throw",Yt)}function Fn(Yt,Qt){Yt(Qt),Pe.shift(),Pe.length&&qt(Pe[0][0],Pe[0][1])}}function st(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,X=Y[Symbol.asyncIterator];return X?X.call(Y):(Y=function Q(Y){var X="function"==typeof Symbol&&Symbol.iterator,oe=X&&Y[X],ne=0;if(oe)return oe.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ne>=Y.length&&(Y=void 0),{value:Y&&Y[ne++],done:!Y}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),oe={},ne("next"),ne("throw"),ne("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ne(Pe){oe[Pe]=Y[Pe]&&function(ht){return new Promise(function(qt,Bt){!function ke(Pe,ht,qt,Bt){Promise.resolve(Bt).then(function(ze){Pe({value:ze,done:qt})},ht)}(qt,Bt,(ht=Y[Pe](ht)).done,ht.value)})}}}k.d(Se,{FC:()=>pe,KL:()=>st,_T:()=>ae,mG:()=>fe,qq:()=>_e})},4650:(lt,Se,k)=>{k.d(Se,{$8M:()=>Qu,$Z:()=>nu,AFp:()=>Ww,ALo:()=>Qb,AaK:()=>fe,BQk:()=>Sm,CHM:()=>Pu,CRH:()=>fy,CZH:()=>vf,CqO:()=>pv,D6c:()=>gS,DdM:()=>ny,EJc:()=>Iy,EiD:()=>hh,EpF:()=>fv,F4k:()=>KE,FYo:()=>vt,FiY:()=>He,G48:()=>o0,GfV:()=>hl,Gpc:()=>G,JOm:()=>ha,JVY:()=>bc,KtG:()=>Ru,L6k:()=>Mr,LAX:()=>t_,LFG:()=>jn,LSH:()=>ep,Lbi:()=>Zw,Lck:()=>fw,MAs:()=>dv,MMx:()=>Jm,NdJ:()=>Zs,O4$:()=>dc,OlP:()=>pn,Oqu:()=>Jh,PXZ:()=>eS,Q6J:()=>Cm,QGY:()=>ci,QP$:()=>Bi,QbO:()=>by,Qsj:()=>ot,R0b:()=>Ks,RDi:()=>Qy,Rgc:()=>Dd,SBq:()=>ce,Sil:()=>qT,Suo:()=>Td,TTD:()=>as,TgZ:()=>Im,Tol:()=>Iv,Udp:()=>Rp,VKq:()=>Zb,W1O:()=>Lw,X6Q:()=>rS,XFs:()=>Ze,Xpm:()=>z,Xts:()=>Qa,Y36:()=>Zc,YKP:()=>Ub,YNc:()=>zE,Yjl:()=>Vt,Yz7:()=>Qt,Z0I:()=>Ca,ZZ4:()=>vu,_Bn:()=>Ym,_UZ:()=>Dl,_Vd:()=>A,_c5:()=>BC,_uU:()=>Qh,aQg:()=>Ry,c2e:()=>yC,cJS:()=>Ft,cg1:()=>nf,d8E:()=>Rv,dDg:()=>QT,dqk:()=>ln,eBb:()=>ua,eFA:()=>DC,ekj:()=>xm,eoX:()=>Sy,f3M:()=>I,g9A:()=>Ey,h0i:()=>cf,hGG:()=>ky,hij:()=>Al,iGM:()=>kw,ifc:()=>ut,ip1:()=>vy,jDz:()=>pw,kL8:()=>kv,kcU:()=>Gd,lG2:()=>er,lcZ:()=>Xb,lqb:()=>sr,lri:()=>Xw,mCW:()=>js,n5z:()=>fs,oAB:()=>at,oJD:()=>fh,oxw:()=>JE,pB0:()=>q0,q3G:()=>Kn,q4F:()=>Xa,qLn:()=>Eh,qOj:()=>pa,qZA:()=>Dm,qzn:()=>sl,rWj:()=>e0,sBO:()=>a0,sIi:()=>Mp,s_b:()=>oy,soG:()=>Cy,tb:()=>mC,tp0:()=>Et,uIk:()=>sv,vHH:()=>we,vpe:()=>xo,wAp:()=>mt,xp6:()=>mE,ynx:()=>Tm,z2F:()=>My,z3N:()=>ys,zSh:()=>Yn,zs3:()=>zc});var d=k(7579),ee=k(727),P=k(9751),ae=k(6451),se=k(3099);function he(s){for(let o in s)if(s[o]===he)return o;throw Error("Could not find renamed property on target object.")}function ue(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ge(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=he({__forward_ref__:he});function G(s){return s.__forward_ref__=G,s.toString=function(){return fe(this())},s}function Q(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===G}class we extends Error{constructor(o,a){super(function Xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function ve(s,o){throw new we(-201,!1)}function Bt(s,o){null==s&&function ze(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ft(s){return{providers:s.providers||[],imports:s.imports||[]}}function an(s){return Zr(s,Ui)||Zr(s,bi)}function Ca(s){return null!==an(s)}function Zr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ds(s){return s&&(s.hasOwnProperty(Yr)||s.hasOwnProperty(Uo))?s[Yr]:null}const Ui=he({\u0275prov:he}),Yr=he({\u0275inj:he}),bi=he({ngInjectableDef:he}),Uo=he({ngInjectorDef:he});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let Qr;function Ln(s){const o=Qr;return Qr=s,o}function Ci(s,o,a){const l=an(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ze.Optional?null:void 0!==o?o:void ve(fe(s))}function Vn(s){return{toString:s}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),ut=(()=>{return(s=ut||(ut={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ut;var s})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kr={},It=[],is=he({\u0275cmp:he}),Jt=he({\u0275dir:he}),Ii=he({\u0275pipe:he}),Kt=he({\u0275mod:he}),K=he({\u0275fac:he}),$=he({__NG_ELEMENT_ID__:he});let U=0;function z(s){return Vn(()=>{const a=!0===s.standalone,l={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||It,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||ut.Emulated,id:"c"+U++,styles:s.styles||It,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,_=s.features;return h.inputs=Xt(s.inputs,l),h.outputs=Xt(s.outputs),_&&_.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ie).filter(Ue):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(zn).filter(Ue):null,h})}function Ie(s){return Pt(s)||wn(s)}function Ue(s){return null!==s}function at(s){return Vn(()=>({type:s.type,bootstrap:s.bootstrap||It,declarations:s.declarations||It,imports:s.imports||It,exports:s.exports||It,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Xt(s,o){if(null==s)return kr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=l,o&&(o[h]=g)}return a}const er=z;function Vt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Pt(s){return s[is]||null}function wn(s){return s[Jt]||null}function zn(s){return s[Ii]||null}function Bi(s){const o=Pt(s)||wn(s)||zn(s);return null!==o&&o.standalone}function Fr(s,o){const a=s[Kt]||null;if(!a&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return a}function hr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Lr(s){return Array.isArray(s)&&!0===s[1]}function bu(s){return 0!=(8&s.flags)}function Ta(s){return 2==(2&s.flags)}function Kl(s){return 1==(1&s.flags)}function Sr(s){return null!==s.template}function Ff(s){return 0!=(256&s[2])}function Hi(s,o){return s.hasOwnProperty(K)?s[K]:null}class os{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function as(){return eo}function eo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Du),Sa}function Sa(){const s=Uf(this),o=s?.current;if(o){const a=s.previous;if(a===kr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Du(s,o,a,l){const h=Uf(s)||function Bo(s,o){return s[Xl]=o}(s,{previous:kr,current:null}),g=h.current||(h.current={}),_=h.previous,E=this.declaredInputs[a],C=_[E];g[E]=new os(C&&C.currentValue,o,_===kr),s[l]=o}as.ngInherit=!0;const Xl="__ngSimpleChanges__";function Uf(s){return s[Xl]||null}function xn(s){for(;Array.isArray(s);)s=s[0];return s}function mi(s,o){return xn(o[s])}function Vr(s,o){return xn(o[s.index])}function to(s,o){return s.data[o]}function ls(s,o){return s[o]}function $t(s,o){const a=o[s];return hr(a)?a:a[0]}function Aa(s){return 4==(4&s[2])}function no(s){return 64==(64&s[2])}function Si(s,o){return null==o?null:s[o]}function Mu(s){s[18]=0}function Dn(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const Dt={lFrame:lc(null),bindingsEnabled:!0};function cs(){return Dt.bindingsEnabled}function De(){return Dt.lFrame.lView}function Ut(){return Dt.lFrame.tView}function Pu(s){return Dt.lFrame.contextLView=s,s[8]}function Ru(s){return Dt.lFrame.contextLView=null,s}function On(){let s=ku();for(;null!==s&&64===s.type;)s=s.parent;return s}function ku(){return Dt.lFrame.currentTNode}function yi(s,o){const a=Dt.lFrame;a.currentTNode=s,a.isParent=o}function xa(){return Dt.lFrame.isParent}function Oa(){Dt.lFrame.isParent=!1}function Nn(){const s=Dt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function io(){return Dt.lFrame.bindingIndex++}function ds(s){const o=Dt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function yg(s,o){const a=Dt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Fu(o)}function Fu(s){Dt.lFrame.currentDirectiveIndex=s}function Pa(s){const o=Dt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function oc(){return Dt.lFrame.currentQueryIndex}function Ra(s){Dt.lFrame.currentQueryIndex=s}function ac(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Lu(s,o,a){if(a&Ze.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||a&Ze.Host||(h=ac(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const l=Dt.lFrame=uc();return l.currentTNode=o,l.lView=s,!0}function Vu(s){const o=uc(),a=s[1];Dt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function uc(){const s=Dt.lFrame,o=null===s?null:s.child;return null===o?lc(s):o}function lc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function cc(){const s=Dt.lFrame;return Dt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const $d=cc;function so(){const s=cc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function rr(){return Dt.lFrame.selectedIndex}function Xr(s){Dt.lFrame.selectedIndex=s}function mn(){const s=Dt.lFrame;return to(s.tView,s.selectedIndex)}function dc(){Dt.lFrame.currentNamespace="svg"}function Gd(){!function fc(){Dt.lFrame.currentNamespace=null}()}function pc(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:O}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-a,_),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-a,C),S&&((s.viewHooks||(s.viewHooks=[])).push(a,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,S)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(a,O)}}function $o(s,o,a){zo(s,o,3,a)}function Go(s,o,a,l){(3&s[2])===a&&zo(s,o,a,l)}function qd(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function zo(s,o,a,l){const g=l??-1,_=o.length-1;let E=0;for(let C=void 0!==l?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=l&&E>=l)break}else o[C]<0&&(s[18]+=65536),(E<g||-1==g)&&(Wd(s,a,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Wd(s,o,a,l){const h=a[l]<0,g=a[l+1],E=s[h?-a[l]:a[l]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Rs{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function qo(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const g=a[l++],_=a[l++],E=a[l++];s.setAttribute(o,_,E,g)}else{const g=h,_=a[++l];Gu(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),l++}}return l}function lo(s){return 3===s||4===s||6===s}function Gu(s){return 64===s.charCodeAt(0)}function ka(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Kd(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function Kd(s,o,a,l,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==h&&(s[g+1]=h));if(l===s[g+1])return void(s[g+2]=h)}g++,null!==l&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==h&&s.splice(g++,0,h)}function Yd(s){return-1!==s}function fr(s){return 32767&s}function La(s,o){let a=function Fa(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Gi=!0;function Va(s){const o=Gi;return Gi=s,o}let Un=0;const Ai={};function co(s,o){const a=qu(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Ba(l.data,s),Ba(o,null),Ba(l.blueprint,null));const h=Wu(s,o),g=s.injectorIndex;if(Yd(h)){const _=fr(h),E=La(h,o),C=E[1].data;for(let S=0;S<8;S++)o[g+S]=E[_+S]|C[_+S]}return o[g+8]=h,g}function Ba(s,o){s.push(0,0,0,0,0,0,0,0,o)}function qu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Wu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Ko(h),null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function ks(s,o,a){!function zu(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty($)&&(l=a[$]),null==l&&(l=a[$]=Un++);const h=255&l;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function Fs(s,o,a){if(a&Ze.Optional)return s;ve()}function Zu(s,o,a,l){if(a&Ze.Optional&&void 0===l&&(l=null),0==(a&(Ze.Self|Ze.Host))){const h=s[9],g=Ln(void 0);try{return h?h.get(o,l,a&Ze.Optional):Ci(o,l,a&Ze.Optional)}finally{Ln(g)}}return Fs(l,0,a)}function ho(s,o,a,l=Ze.Default,h){if(null!==s){if(1024&o[2]){const _=function Zo(s,o,a,l,h){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const E=ja(g,_,a,l|Ze.Self,Ai);if(E!==Ai)return E;let C=g.parent;if(!C){const S=_[21];if(S){const O=S.get(a,Ai,l);if(O!==Ai)return O}C=Ko(_),_=_[15]}g=C}return h}(s,o,a,l,Ai);if(_!==Ai)return _}const g=ja(s,o,a,l,Ai);if(g!==Ai)return g}return Zu(o,a,l,h)}function ja(s,o,a,l,h){const g=function mc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty($)?s[$]:void 0;return"number"==typeof o?o>=0?255&o:yc:o}(a);if("function"==typeof g){if(!Lu(o,s,l))return l&Ze.Host?Fs(h,0,l):Zu(o,a,l,h);try{const _=g(l);if(null!=_||l&Ze.Optional)return _;ve()}finally{$d()}}else if("number"==typeof g){let _=null,E=qu(s,o),C=-1,S=l&Ze.Host?o[16][6]:null;for((-1===E||l&Ze.SkipSelf)&&(C=-1===E?Wu(s,o):o[E+8],-1!==C&&Ha(l,!1)?(_=o[1],E=fr(C),o=La(C,o)):E=-1);-1!==E;){const O=o[1];if(Ku(g,E,O.data)){const R=Xd(E,o,a,_,l,S);if(R!==Ai)return R}C=o[E+8],-1!==C&&Ha(l,o[1].data[E+8]===S)&&Ku(g,E,o)?(_=O,E=fr(C),o=La(C,o)):E=-1}}return h}function Xd(s,o,a,l,h,g){const _=o[1],E=_.data[s+8],O=Wo(E,_,a,null==l?Ta(E)&&Gi:l!=_&&0!=(3&E.type),h&Ze.Host&&g===E);return null!==O?hs(o,_,O,E):Ai}function Wo(s,o,a,l,h){const g=s.providerIndexes,_=o.data,E=1048575&g,C=s.directiveStart,O=g>>20,q=h?E+O:s.directiveEnd;for(let te=l?E:E+O;te<q;te++){const be=_[te];if(te<C&&a===be||te>=C&&be.type===a)return te}if(h){const te=_[C];if(te&&Sr(te)&&te.type===a)return C}return null}function hs(s,o,a,l){let h=s[a];const g=o.data;if(function ao(s){return s instanceof Rs}(h)){const _=h;_.resolving&&function Ke(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${a}`)}(function pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(g[a]));const E=Va(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?Ln(_.injectImpl):null;Lu(s,l,Ze.Default);try{h=s[a]=_.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function zd(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(l){const _=eo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==C&&Ln(C),Va(E),_.resolving=!1,$d()}}return h}function Ku(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Ha(s,o){return!(s&Ze.Self||s&Ze.Host&&o)}class fo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return ho(this._tNode,this._lView,o,l,a)}}function yc(){return new fo(On(),De())}function fs(s){return Vn(()=>{const o=s.prototype.constructor,a=o[K]||Yu(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const g=h[K]||Yu(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Yu(s){return Ve(s)?()=>{const o=Yu(Q(s));return o&&o()}:Hi(s)}function Ko(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Qu(s){return function Jd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const g=a[h];if(lo(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(On(),s)}const Ls="__parameters__";function Jo(s,o,a){return Vn(()=>{const l=function Ju(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...g){if(this instanceof h)return l.apply(this,g),this;const _=new h(...g);return E.annotation=_,E;function E(C,S,O){const R=C.hasOwnProperty(Ls)?C[Ls]:Object.defineProperty(C,Ls,{value:[]})[Ls];for(;R.length<=O;)R.push(null);return(R[O]=R[O]||[]).push(_),C}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class pn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),cn(l,o)):o!==s&&o.push(l)}return o}function ni(s,o){s.forEach(a=>Array.isArray(a)?ni(a,o):o(a))}function ps(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Bn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ri(s,o,a){let l=Us(s,o);return l>=0?s[1|l]=a:(l=~l,function Xu(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function qa(s,o){const a=Us(s,o);if(a>=0)return s[1|a]}function Us(s,o){return function Xo(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const g=l+(h-l>>1),_=s[g<<a];if(o===_)return g<<a;_>o?h=g:l=g+1}return~(h<<a)}(s,o,1)}const Br={},Tn="__NG_DI_FLAG__",na="ngTempTokenPath",ra=/\n/gm,vc="__source";let mo;function gs(s){const o=mo;return mo=s,o}function wc(s,o=Ze.Default){if(void 0===mo)throw new we(-203,!1);return null===mo?Ci(s,void 0,o):mo.get(s,o&Ze.Optional?null:void 0,o)}function jn(s,o=Ze.Default){return(function rs(){return Qr}()||wc)(Q(s),o)}function I(s,o=Ze.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),jn(s,o)}function D(s){const o=[];for(let a=0;a<s.length;a++){const l=Q(s[a]);if(Array.isArray(l)){if(0===l.length)throw new we(900,!1);let h,g=Ze.Default;for(let _=0;_<l.length;_++){const E=l[_],C=L(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}o.push(jn(h,g))}else o.push(jn(l))}return o}function x(s,o){return s[Tn]=o,s.prototype[Tn]=o,s}function L(s){return s[Tn]}const He=x(Jo("Optional"),8),Et=x(Jo("SkipSelf"),4);let Zf,il,Ec;function Qy(s){Zf=s}function Zi(s){return function me(){if(void 0===il&&(il=null,ln.trustedTypes))try{il=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return il}()?.createHTML(s)||s}function Ye(s){return function ms(){if(void 0===Ec&&(Ec=null,ln.trustedTypes))try{Ec=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ec}()?.createHTML(s)||s}class Ki{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Kf extends Ki{getTypeName(){return"HTML"}}class Ya extends Ki{getTypeName(){return"Style"}}class Xy extends Ki{getTypeName(){return"Script"}}class ah extends Ki{getTypeName(){return"URL"}}class e_ extends Ki{getTypeName(){return"ResourceURL"}}function ys(s){return s instanceof Ki?s.changingThisBreaksApplicationSecurity:s}function sl(s,o){const a=function Er(s){return s instanceof Ki&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function bc(s){return new Kf(s)}function Mr(s){return new Ya(s)}function ua(s){return new Xy(s)}function t_(s){return new ah(s)}function q0(s){return new e_(s)}class Ig{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Zi(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class n_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Zi(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Zi(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Yf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function js(s){return(s=String(s)).match(Yf)?s:"unsafe:"+s}function Sn(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Eo(...s){const o={};for(const a of s)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const jr=Sn("area,br,col,hr,img,wbr"),Jf=Sn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cc=Sn("rp,rt"),lh=Eo(jr,Eo(Jf,Sn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eo(Cc,Sn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eo(Cc,Jf)),Ic=Sn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ch=Sn("srcset"),Xf=Eo(Ic,ch,Sn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Tc=Sn("script,style,template");class dh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!lh.hasOwnProperty(a))return this.sanitizedSomething=!0,!Tc.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const g=l.item(h),_=g.name,E=_.toLowerCase();if(!Xf.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=g.value;Ic[E]&&(C=js(C)),ch[E]&&(s=C,C=(s=String(s)).split(",").map(o=>js(o.trim())).join(", ")),this.buf.push(" ",_,'="',la(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();lh.hasOwnProperty(a)&&!jr.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(la(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const s_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sg=/([^\#-~ |!])/g;function la(s){return s.replace(/&/g,"&amp;").replace(s_,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Sg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ol;function hh(s,o){let a=null;try{ol=ol||function wo(s){const o=new n_(s);return function uh(){try{return!!(new window.DOMParser).parseFromString(Zi(""),"text/html")}catch{return!1}}()?new Ig(o):o}(s);let l=o?String(o):"";a=ol.getInertBodyElement(l);let h=5,g=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=g,g=a.innerHTML,a=ol.getInertBodyElement(l)}while(l!==g);return Zi((new dh).sanitizeChildren(Sc(a)||a))}finally{if(a){const l=Sc(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Sc(s){return"content"in s&&function Ag(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Kn=(()=>((Kn=Kn||{})[Kn.NONE=0]="NONE",Kn[Kn.HTML=1]="HTML",Kn[Kn.STYLE=2]="STYLE",Kn[Kn.SCRIPT=3]="SCRIPT",Kn[Kn.URL=4]="URL",Kn[Kn.RESOURCE_URL=5]="RESOURCE_URL",Kn))();function fh(s){const o=Hs();return o?Ye(o.sanitize(Kn.HTML,s)||""):sl(s,"HTML")?Ye(ys(s)):hh(function Jy(){return void 0!==Zf?Zf:typeof document<"u"?document:void 0}(),_e(s))}function ep(s){const o=Hs();return o?o.sanitize(Kn.URL,s)||"":sl(s,"URL")?ys(s):js(_e(s))}function Hs(){const s=De();return s&&s[12]}const Qa=new pn("ENVIRONMENT_INITIALIZER"),Mc=new pn("INJECTOR",-1),gh=new pn("INJECTOR_DEF_TYPES");class ll{get(o,a=Br){if(a===Br){const l=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw l.name="NullInjectorError",l}return a}}function xg(...s){return{\u0275providers:ii(0,s)}}function ii(s,...o){const a=[],l=new Set;let h;return ni(o,g=>{const _=g;xc(_,a,[],l)&&(h||(h=[]),h.push(_))}),void 0!==h&&cl(h,a),a}function cl(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];ni(h,g=>{o.push(g)})}}function xc(s,o,a,l){if(!(s=Q(s)))return!1;let h=null,g=Ds(s);const _=!g&&Pt(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const C=s.ngModule;if(g=Ds(C),!g)return!1;h=C}const E=l.has(h);if(_){if(E)return!1;if(l.add(h),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of C)xc(S,o,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let S;l.add(h);try{ni(g.imports,O=>{xc(O,o,a,l)&&(S||(S=[]),S.push(O))})}finally{}void 0!==S&&cl(S,o)}if(!E){const S=Hi(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:It},{provide:gh,useValue:h,multi:!0},{provide:Qa,useValue:()=>jn(h),multi:!0})}const C=g.providers;null==C||E||ni(C,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}const Oc=he({provide:String,useValue:he});function dl(s){return null!==s&&"object"==typeof s&&Oc in s}function bo(s){return"function"==typeof s}const Yn=new pn("Set Injector scope."),ir={},mh={};let Pc;function Rc(){return void 0===Pc&&(Pc=new ll),Pc}class sr{}class kc extends sr{constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lc(o,_=>this.processProvider(_)),this.records.set(Mc,Ja(void 0,this)),h.has("environment")&&this.records.set(sr,Ja(void 0,this));const g=this.records.get(Yn);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(gh.multi,It,Ze.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=gs(this),l=Ln(void 0);try{return o()}finally{gs(a),Ln(l)}}get(o,a=Br,l=Ze.Default){this.assertNotDestroyed();const h=gs(this),g=Ln(void 0);try{if(!(l&Ze.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function tp(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(o)&&an(o);E=C&&this.injectableDefInScope(C)?Ja(Fc(o),ir):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&Ze.Self?Rc():this.parent).get(o,a=l&Ze.Optional&&a===Br?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[na]=_[na]||[]).unshift(fe(o)),h)throw _;return function J(s,o,a,l){const h=s[na];throw o[vc]&&h.unshift(o[vc]),s.message=function le(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];g.push(_+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}h=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(ra,"\n  ")}`}("\n"+s.message,h,a,l),s.ngTokenPath=h,s[na]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Ln(g),gs(h)}}resolveInjectorInitializers(){const o=gs(this),a=Ln(void 0);try{const l=this.get(Qa.multi,It,Ze.Self);for(const h of l)h()}finally{gs(o),Ln(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(fe(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let a=bo(o=Q(o))?o:Q(o&&o.provide);const l=function _s(s){return dl(s)?Ja(void 0,s.useValue):Ja(ca(s),ir)}(o);if(bo(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Ja(void 0,ir,!0),h.factory=()=>D(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===ir&&(a.value=mh,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Ng(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Q(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Fc(s){const o=an(s),a=null!==o?o.factory:Hi(s);if(null!==a)return a;if(s instanceof pn)throw new we(204,!1);if(s instanceof Function)return function l_(s){const o=s.length;if(o>0)throw function Cn(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new we(204,!1);const a=function Tr(s){const o=s&&(s[Ui]||s[bi]);if(o){const a=function Kr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new we(204,!1)}function ca(s,o,a){let l;if(bo(s)){const h=Q(s);return Hi(h)||Fc(h)}if(dl(s))l=()=>Q(s.useValue);else if(function Nc(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...D(s.deps||[]));else if(function Og(s){return!(!s||!s.useExisting)}(s))l=()=>jn(Q(s.useExisting));else{const h=Q(s&&(s.useClass||s.provide));if(!function yh(s){return!!s.deps}(s))return Hi(h)||Fc(h);l=()=>new h(...D(s.deps))}return l}function Ja(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function _h(s){return!!s.\u0275providers}function Lc(s,o){for(const a of s)Array.isArray(a)?Lc(a,o):_h(a)?Lc(a.\u0275providers,o):o(a)}class rp{}class w{resolveComponentFactory(o){throw function v(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let A=(()=>{class s{}return s.NULL=new w,s})();function N(){return Z(On(),De())}function Z(s,o){return new ce(Vr(s,o))}let ce=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=N,s})();function Fe(s){return s instanceof ce?s.nativeElement:s}class vt{}let ot=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function or(){const s=De(),a=$t(On().index,s);return(hr(a)?a:s)[11]}(),s})(),_i=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class hl{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Xa=new hl("14.2.0"),fl={};function Lg(s){return s.ngOriginalError}class Eh{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Lg(o);for(;a&&Lg(a);)a=Lg(a);return a||null}}const m_=new Map;let y_=0;const Ch="__ngContext__";function xr(s,o){hr(o)?(s[Ch]=o[20],function __(s){m_.set(s[20],s)}(o)):s[Ch]=o}function Ih(s){const o=s[Ch];return"number"==typeof o?function gl(s){return m_.get(s)||null}(o):o||null}function An(s){const o=Ih(s);return o?hr(o)?o:o.lView:null}function da(s){return s instanceof Function?s():s}var ha=(()=>((ha=ha||{})[ha.Important=1]="Important",ha[ha.DashCase=2]="DashCase",ha))();function jg(s,o){return undefined(s,o)}function Th(s){const o=s[3];return Lr(o)?o[3]:o}function b_(s){return hp(s[13])}function C_(s){return hp(s[4])}function hp(s){for(;null!==s&&!Lr(s);)s=s[4];return s}function tu(s,o,a,l,h){if(null!=l){let g,_=!1;Lr(l)?g=l:hr(l)&&(_=!0,l=l[0]);const E=xn(l);0===s&&null!==a?null==h?Wg(o,a,E):jc(o,a,E,h||null,!0):1===s&&null!==a?jc(o,a,E,h||null,!0):2===s?function S_(s,o,a){const l=Hc(s,o);l&&function oE(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,E,_):3===s&&o.destroyNode(E),null!=g&&function dE(s,o,a,l,h){const g=a[7];g!==xn(a)&&tu(o,s,l,g,h);for(let E=10;E<a.length;E++){const C=a[E];xh(C[1],C,s,o,l,g)}}(o,s,g,a,h)}}function Bc(s,o,a){return s.createElement(o,a)}function iE(s,o){const a=s[9],l=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Dn(h,-1)),a.splice(l,1)}function Gg(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const h=l[17];null!==h&&h!==s&&iE(h,l),o>0&&(s[a-1][4]=l[4]);const g=Bn(s,10+o);!function eD(s,o){xh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function D_(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&xh(s,o,a,3,null,null),function tD(s){let o=s[13];if(!o)return zg(s[1],s);for(;o;){let a=null;if(hr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)hr(o)&&zg(o[1],o),o=o[3];null===o&&(o=s),hr(o)&&zg(o[1],o),a=o&&o[4]}o=a}}(o)}}function zg(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function sE(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Rs)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const E=h[g[_]],C=g[_+1];try{C.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function qg(s,o){const a=s.cleanup,l=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],E="function"==typeof _?_(o):xn(o[_]),C=l[h=a[g+2]],S=a[g+3];"boolean"==typeof S?E.removeEventListener(a[g],C,S):S>=0?l[h=S]():l[h=-S].unsubscribe(),g+=2}else{const _=l[h=a[g+1]];a[g].call(_)}if(null!==l){for(let g=h+1;g<l.length;g++)(0,l[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Lr(o[3])){a!==o[3]&&iE(a,o);const l=o[19];null!==l&&l.detachView(s)}!function Q0(s){m_.delete(s[20])}(o)}}function fa(s,o,a){return function T_(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=s.data[l.directiveStart].encapsulation;if(h===ut.None||h===ut.Emulated)return null}return Vr(l,a)}(s,o.parent,a)}function jc(s,o,a,l,h){s.insertBefore(o,a,l,h)}function Wg(s,o,a){s.appendChild(o,a)}function Sh(s,o,a,l,h){null!==l?jc(s,o,a,l,h):Wg(s,o,a)}function Hc(s,o){return s.parentNode(o)}let lE=function gp(s,o,a){return 40&s.type?Vr(s,a):null};function mp(s,o,a,l){const h=fa(s,l,o),g=o[11],E=function Zg(s,o,a){return lE(s,o,a)}(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let C=0;C<a.length;C++)Sh(g,h,a[C],E,!1);else Sh(g,h,a,E,!1)}function yp(s,o){if(null!==o){const a=o.type;if(3&a)return Vr(o,s);if(4&a)return _p(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return yp(s,l);{const h=s[o.index];return Lr(h)?_p(-1,h):xn(h)}}if(32&a)return jg(o,s)()||xn(s[o.index]);{const l=Yg(s,o);return null!==l?Array.isArray(l)?l[0]:yp(Th(s[16]),l):yp(s,o.next)}}return null}function Yg(s,o){return null!==o?s[16][6].projection[o.projection]:null}function _p(s,o){const a=10+s+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return yp(l,h)}return o[7]}function Mh(s,o,a,l,h,g,_){for(;null!=a;){const E=l[a.index],C=a.type;if(_&&0===o&&(E&&xr(xn(E),l),a.flags|=4),64!=(64&a.flags))if(8&C)Mh(s,o,a.child,l,h,g,!1),tu(o,s,h,E,g);else if(32&C){const S=jg(a,l);let O;for(;O=S();)tu(o,s,h,O,g);tu(o,s,h,E,g)}else 16&C?ml(s,o,l,a,h,g):tu(o,s,h,E,g);a=_?a.projectionNext:a.next}}function xh(s,o,a,l,h,g){Mh(a,l,s.firstChild,o,h,g,!1)}function ml(s,o,a,l,h,g){const _=a[16],C=_[6].projection[l.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)tu(o,s,h,C[S],g);else Mh(s,o,C,_[3],h,g,!0)}function A_(s,o,a){s.setAttribute(o,"style",a)}function Qg(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function vp(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===l||s.charCodeAt(h+g)<=32)return h}a=h+1}}const M_="ng-template";function fE(s,o,a){let l=0;for(;l<s.length;){let h=s[l++];if(a&&"class"===h){if(h=s[l],-1!==vp(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<s.length&&"string"==typeof(h=s[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function $c(s){return 4===s.type&&s.value!==M_}function iD(s,o,a){return o===(4!==s.type||a?s.value:M_)}function sD(s,o,a){let l=4;const h=s.attrs||[],g=function aD(s){for(let o=0;o<s.length;o++)if(lo(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!_)if(4&l){if(l=2|1&l,""!==C&&!iD(s,C,a)||""===C&&1===o.length){if(ws(l))return!1;_=!0}}else{const S=8&l?C:o[++E];if(8&l&&null!==s.attrs){if(!fE(s.attrs,S,a)){if(ws(l))return!1;_=!0}continue}const R=oD(8&l?"class":C,h,$c(s),a);if(-1===R){if(ws(l))return!1;_=!0;continue}if(""!==S){let q;q=R>g?"":h[R+1].toLowerCase();const te=8&l?q:null;if(te&&-1!==vp(te,S,0)||2&l&&S!==q){if(ws(l))return!1;_=!0}}}}else{if(!_&&!ws(l)&&!ws(C))return!1;if(_&&ws(C))continue;_=!1,l=C|1&l}}return ws(l)||_}function ws(s){return 0==(1&s)}function oD(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function Jg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function pE(s,o,a=!1){for(let l=0;l<o.length;l++)if(sD(s,o[l],a))return!0;return!1}function x_(s,o){return s?":not("+o.trim()+")":o}function Gr(s){let o=s[0],a=1,l=2,h="",g=!1;for(;a<s.length;){let _=s[a];if("string"==typeof _)if(2&l){const E=s[++a];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!ws(_)&&(o+=x_(g,h),h=""),l=_,g=g||!ws(l);a++}return""!==h&&(o+=x_(g,h)),o}const Nt={};function mE(s){Ne(Ut(),De(),rr()+s,!1)}function Ne(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&$o(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Go(o,g,0,a)}Xr(a)}function Or(s,o=null,a=null,l){const h=N_(s,o,a,l);return h.resolveInjectorInitializers(),h}function N_(s,o=null,a=null,l,h=new Set){const g=[a||It,xg(s)];return l=l||("object"==typeof s?void 0:fe(s)),new kc(g,o||Rc(),l||null,h)}let zc=(()=>{class s{static create(a,l){if(Array.isArray(a))return Or({name:""},l,a,"");{const h=a.name??"";return Or({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Br,s.NULL=new ll,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>jn(Mc)}),s.__NG_ELEMENT_ID__=-1,s})();function Zc(s,o=Ze.Default){const a=De();return null===a?jn(s,o):ho(On(),a,Q(s),o)}function nu(){throw new Error("invalid")}function ie(s,o){return s<<17|o<<2}function Yi(s){return s>>17&32767}function Kc(s){return 2|s}function vi(s){return(131068&s)>>2}function V_(s,o){return-131069&s|o<<2}function rm(s){return 1|s}function Fh(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],g=a[l+1];if(-1!==g){const _=s.data[g];Ra(h),_.contentQueries(2,o[g],g)}}}function cm(s,o,a,l,h,g,_,E,C,S,O){const R=o.blueprint.slice();return R[0]=h,R[2]=76|l,(null!==O||s&&1024&s[2])&&(R[2]|=1024),Mu(R),R[3]=R[15]=s,R[8]=a,R[10]=_||s&&s[10],R[11]=E||s&&s[11],R[12]=C||s&&s[12]||null,R[9]=S||s&&s[9]||null,R[6]=g,R[20]=function bh(){return y_++}(),R[21]=O,R[16]=2==o.type?s[16]:R,R}function ed(s,o,a,l,h){let g=s.data[o];if(null===g)g=function dm(s,o,a,l,h){const g=ku(),_=xa(),C=s.data[o]=function ED(s,o,a,l,h,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(_?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,a,l,h),function mg(){return Dt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=h;const _=function Ho(){const s=Dt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return yi(g,!0),g}function lr(s,o,a,l){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function bp(s,o,a){Vu(o);try{const l=s.viewQuery;null!==l&&Cl(1,l,a);const h=s.template;null!==h&&G_(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Fh(s,o),s.staticViewQueries&&Cl(2,s.viewQuery,a);const g=s.components;null!==g&&function _D(s,o){for(let a=0;a<o.length;a++)mm(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,so()}}function hn(s,o,a,l){const h=o[2];if(128!=(128&h)){Vu(o);try{Mu(o),function ic(s){return Dt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&G_(s,o,a,2,l);const _=3==(3&h);if(_){const S=s.preOrderCheckHooks;null!==S&&$o(o,S,null)}else{const S=s.preOrderHooks;null!==S&&Go(o,S,0,null),qd(o,0)}if(function PE(s){for(let o=b_(s);null!==o;o=C_(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],g=h[3];0==(512&h[2])&&Dn(g,1),h[2]|=512}}}(o),function DD(s){for(let o=b_(s);null!==o;o=C_(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];no(l)&&hn(h,l,h.template,l[8])}}(o),null!==s.contentQueries&&Fh(s,o),_){const S=s.contentCheckHooks;null!==S&&$o(o,S)}else{const S=s.contentHooks;null!==S&&Go(o,S,1),qd(o,1)}!function lm(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Xr(~h);else{const g=h,_=a[++l],E=a[++l];yg(_,g),E(2,o[g])}}}finally{Xr(-1)}}(s,o);const E=s.components;null!==E&&function DE(s,o){for(let a=0;a<o.length;a++)RE(s,o[a])}(o,E);const C=s.viewQuery;if(null!==C&&Cl(2,C,l),_){const S=s.viewCheckHooks;null!==S&&$o(o,S)}else{const S=s.viewHooks;null!==S&&Go(o,S,2),qd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Dn(o[3],-1))}finally{so()}}}function vD(s,o,a,l){const h=o[10],_=Aa(o);try{!_&&h.begin&&h.begin(),_&&bp(s,o,l),hn(s,o,a,l)}finally{!_&&h.end&&h.end()}}function G_(s,o,a,l,h){const g=rr(),_=2&l;try{Xr(-1),_&&o.length>22&&Ne(s,o,22,!1),a(l,h)}finally{Xr(g)}}function bl(s,o,a){if(bu(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}function z_(s,o,a){!cs()||(function ou(s,o,a,l){const h=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||co(a,o),xr(l,o);const _=a.initialInputs;for(let E=h;E<g;E++){const C=s.data[E],S=Sr(C);S&&fm(o,a,C);const O=hs(o,s,E,a);xr(O,o),null!==_&&Q_(0,E-h,O,C,0,_),S&&($t(a.index,o)[8]=O)}}(s,o,a,Vr(a,o)),128==(128&a.flags)&&function OE(s,o,a){const l=a.directiveStart,h=a.directiveEnd,g=a.index,_=function sc(){return Dt.lFrame.currentDirectiveIndex}();try{Xr(g);for(let E=l;E<h;E++){const C=s.data[E],S=o[E];Fu(E),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&rd(C,S)}}finally{Xr(-1),Fu(_)}}(s,o,a))}function td(s,o,a=Vr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],E=-1===_?a(o,s):s[_];s[h++]=E}}}function Cp(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Lh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Lh(s,o,a,l,h,g,_,E,C,S){const O=22+l,R=O+h,q=function TE(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Nt);return a}(O,R),te="function"==typeof S?S():S;return q[1]={type:s,blueprint:q,template:a,queries:null,viewQuery:E,declTNode:o,data:q.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function SE(s,o,a,l){const h=tv(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&jh(s).push(l,h.length-1))}function AE(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const h=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function q_(s,o){const l=o.directiveEnd,h=s.data,g=o.attrs,_=[];let E=null,C=null;for(let S=o.directiveStart;S<l;S++){const O=h[S],R=O.inputs,q=null===g||$c(o)?null:J_(R,g);_.push(q),E=AE(R,S,E),C=AE(O.outputs,S,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=E,o.outputs=C}function Es(s,o,a,l,h,g,_,E){const C=Vr(o,a);let O,S=o.inputs;!E&&null!=S&&(O=S[l])?(Mn(s,a,O,l,h),Ta(o)&&ME(a,o.index)):3&o.type&&(l=function bD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=_?_(h,o.value||"",l):h,g.setProperty(C,l,h))}function ME(s,o){const a=$t(o,s);16&a[2]||(a[2]|=32)}function W_(s,o,a,l){let h=!1;if(cs()){const g=function NE(s,o,a){const l=s.directiveRegistry;let h=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];pE(a,_.selectors,!1)&&(h||(h=[]),ks(co(a,o),s,_.type),Sr(_)?(hm(s,a),h.unshift(_)):h.push(_))}return h}(s,o,a),_=null===l?null:{"":-1};if(null!==g){h=!0,id(a,s.data.length,g.length);for(let O=0;O<g.length;O++){const R=g[O];R.providersResolver&&R.providersResolver(R)}let E=!1,C=!1,S=lr(s,o,g.length,null);for(let O=0;O<g.length;O++){const R=g[O];a.mergedAttrs=ka(a.mergedAttrs,R.hostAttrs),Oi(s,a,o,S,R),Y_(S,R,_),null!==R.contentQueries&&(a.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=128);const q=R.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!C&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),C=!0),S++}q_(s,a)}_&&function K_(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new we(-301,!1);l.push(o[h],g)}}}(a,l,_)}return a.mergedAttrs=ka(a.mergedAttrs,a.attrs),h}function Z_(s,o,a,l,h,g){const _=g.hostBindings;if(_){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function xE(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=C&&E.push(C),E.push(l,h,_)}}function rd(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function hm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Y_(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Sr(o)&&(a[""]=s)}}function id(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Oi(s,o,a,l,h){s.data[l]=h;const g=h.factory||(h.factory=Hi(h.type)),_=new Rs(g,Sr(h),Zc);s.blueprint[l]=_,a[l]=_,Z_(s,o,0,l,lr(s,a,h.hostVars,Nt),h)}function fm(s,o,a){const l=Vr(o,s),h=Cp(a),g=s[10],_=ym(s,cm(s,h,null,a.onPush?32:16,l,o,g,g.createRenderer(l,a),null,null,null));s[o.index]=_}function Ji(s,o,a,l,h,g){const _=Vr(s,o);!function pm(s,o,a,l,h,g,_){if(null==g)s.removeAttribute(o,h,a);else{const E=null==_?_e(g):_(g,l||"",h);s.setAttribute(o,h,E,a)}}(o[11],_,g,s.value,a,l,h)}function Q_(s,o,a,l,h,g){const _=g[o];if(null!==_){const E=l.setInput;for(let C=0;C<_.length;){const S=_[C++],O=_[C++],R=_[C++];null!==E?l.setInput(a,R,S,O):a[O]=R}}}function J_(s,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function X_(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function RE(s,o){const a=$t(o,s);if(no(a)){const l=a[1];48&a[2]?hn(l,a,l.template,a[8]):a[5]>0&&gm(a)}}function gm(s){for(let l=b_(s);null!==l;l=C_(l))for(let h=10;h<l.length;h++){const g=l[h];if(no(g))if(512&g[2]){const _=g[1];hn(_,g,_.template,g[8])}else g[5]>0&&gm(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=$t(a[l],s);no(h)&&h[5]>0&&gm(h)}}function mm(s,o){const a=$t(o,s),l=a[1];(function TD(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),bp(l,a,a[8])}function ym(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function _m(s){for(;s;){s[2]|=32;const o=Th(s);if(Ff(s)&&!o)return s;s=o}return null}function Cl(s,o,a){Ra(0),o(s,a)}function tv(s){return s[7]||(s[7]=[])}function jh(s){return s.cleanup||(s.cleanup=[])}function FE(s,o){const a=s[9],l=a?a.get(Eh,null):null;l&&l.handleError(o)}function Mn(s,o,a,l,h){for(let g=0;g<a.length;){const _=a[g++],E=a[g++],C=o[_],S=s.data[_];null!==S.setInput?S.setInput(C,h,l,E):C[E]=h}}function sd(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?g=E:1==g?h=ge(h,E):2==g&&(l=ge(l,E+": "+o[++_]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function Ip(s,o,a,l,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(xn(g)),Lr(g))for(let E=10;E<g.length;E++){const C=g[E],S=C[1].firstChild;null!==S&&Ip(C[1],C,S,l)}const _=a.type;if(8&_)Ip(s,o,a.child,l);else if(32&_){const E=jg(a,o);let C;for(;C=E();)l.push(C)}else if(16&_){const E=Yg(o,a);if(Array.isArray(E))l.push(...E);else{const C=Th(o[16]);Ip(C[1],C,E,l,!0)}}a=h?a.projectionNext:a.next}return l}class Dp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ip(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Lr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Gg(o,l),Bn(a,l))}this._attachedToViewContainer=!1}D_(this._lView[1],this._lView)}onDestroy(o){SE(this._lView[1],this._lView,null,o)}markForCheck(){_m(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function au(s,o,a){const l=o[10];l.begin&&l.begin();try{hn(s,o,s.template,a)}catch(h){throw FE(o,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rE(s,o){xh(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class Tp extends Dp{constructor(o){super(o),this._view=o}detectChanges(){!function ev(s){!function Uh(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=An(a);if(null!==l){const h=l[1];vD(h,l,h.template,a)}}}(s[8])}(this._view)}checkNoChanges(){}get context(){return null}}class nv extends A{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Pt(o);return new $h(a,this.ngModule)}}function rv(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class uu{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const h=this.injector.get(o,fl,l);return h!==fl||a===fl?h:this.parentInjector.get(o,a,l)}}class $h extends rp{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Oh(s){return s.map(Gr).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return rv(this.componentDef.inputs)}get outputs(){return rv(this.componentDef.outputs)}create(o,a,l,h){let g=(h=h||this.ngModule)instanceof sr?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new uu(o,g):o,E=_.get(vt,null);if(null===E)throw new we(407,!1);const C=_.get(_i,null),S=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",R=l?function ui(s,o,a){return s.selectRootElement(o,a===ut.ShadowDom)}(S,l,this.componentDef.encapsulation):Bc(E.createRenderer(null,this.componentDef),O,function Hh(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),q=this.componentDef.onPush?288:272,te={components:[]},be=Lh(0,null,null,1,0,null,null,null,null,null),Re=cm(null,be,te,q,null,null,E,S,C,_,null);let qe,et;Vu(Re);try{const rt=function xD(s,o,a,l,h,g){const _=a[1];a[22]=s;const C=ed(_,22,2,"#host",null),S=C.mergedAttrs=o.hostAttrs;null!==S&&(sd(C,S,!0),null!==s&&(qo(h,s,S),null!==C.classes&&Qg(h,s,C.classes),null!==C.styles&&A_(h,s,C.styles)));const O=l.createRenderer(s,o),R=cm(a,Cp(o),null,o.onPush?32:16,a[22],C,l,O,g||null,null,null);return _.firstCreatePass&&(ks(co(C,a),_,o.type),hm(_,C),id(C,a.length,1)),ym(a,R),a[22]=R}(R,this.componentDef,Re,E,S);if(R)if(l)qo(S,R,["ng-version",Xa.full]);else{const{attrs:Me,classes:yt}=function yl(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++l]):8===h&&a.push(g);else{if(!ws(h))break;h=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Me&&qo(S,R,Me),yt&&yt.length>0&&Qg(S,R,yt.join(" "))}if(et=to(be,22),void 0!==a){const Me=et.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Ht=a[yt];Me.push(null!=Ht?Array.from(Ht):null)}}qe=function Cr(s,o,a,l,h){const g=a[1],_=function Vh(s,o,a){const l=On();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Oi(s,l,o,lr(s,o,1,null),a),q_(s,l));const h=hs(o,s,l.directiveStart,l);xr(h,o);const g=Vr(l,o);return g&&xr(g,o),h}(g,a,o);if(l.components.push(_),s[8]=_,null!==h)for(const C of h)C(_,o);if(o.contentQueries){const C=On();o.contentQueries(1,_,C.directiveStart)}const E=On();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Xr(E.index),Z_(a[1],E,0,E.directiveStart,E.directiveEnd,o),rd(o,_)),_}(rt,this.componentDef,Re,te,[UE]),bp(be,Re,null)}finally{so()}return new Gh(this.componentType,qe,Z(et,Re),Re,et)}}class Gh extends class np{}{constructor(o,a,l,h,g){super(),this.location=l,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Tp(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const g=this._rootLView;Mn(g[1],g,h,o,a),ME(g,this._tNode.index)}}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function UE(){const s=On();pc(De()[1],s)}function pa(s){let o=function iv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(Sr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const _=s;_.inputs=wi(s.inputs),_.declaredInputs=wi(s.declaredInputs),_.outputs=wi(s.outputs);const E=h.hostBindings;E&&jE(s,E);const C=h.viewQuery,S=h.contentQueries;if(C&&BE(s,C),S&&Sp(s,S),ue(s.inputs,h.inputs),ue(s.declaredInputs,h.declaredInputs),ue(s.outputs,h.outputs),Sr(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const E=g[_];E&&E.ngInherit&&E(s),E===pa&&(a=!1)}}o=Object.getPrototypeOf(o)}!function OD(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=ka(h.hostAttrs,a=ka(a,h.hostAttrs))}}(l)}function wi(s){return s===kr?{}:s===It?[]:s}function BE(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function Sp(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,g)=>{o(l,h,g),a(l,h,g)}:o}function jE(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let vm=null;function od(){if(!vm){const s=ln.Symbol;if(s&&s.iterator)vm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(vm=l)}}}return vm}function Mp(s){return!!ad(s)&&(Array.isArray(s)||!(s instanceof Map)&&od()in s)}function ad(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Do(s,o,a){return s[o]=a}function li(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function sv(s,o,a,l){const h=De();return li(h,io(),o)&&(Ut(),Ji(mn(),h,s,o,a,l)),sv}function zE(s,o,a,l,h,g,_,E){const C=De(),S=Ut(),O=s+22,R=S.firstCreatePass?function cv(s,o,a,l,h,g,_,E,C){const S=o.consts,O=ed(o,s,4,_||null,Si(S,E));W_(o,a,O,Si(S,C)),pc(o,O);const R=O.tViews=Lh(2,O,l,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,O),R.queries=o.queries.embeddedTView(O)),O}(O,S,C,o,a,l,h,g,_):S.data[O];yi(R,!1);const q=C[11].createComment("");mp(S,C,q,R),xr(q,C),ym(C,C[O]=X_(q,C,q,R)),Kl(R)&&z_(S,C,R),null!=_&&td(C,R,E)}function dv(s){return ls(function rc(){return Dt.lFrame.contextLView}(),22+s)}function Cm(s,o,a){const l=De();return li(l,io(),o)&&Es(Ut(),mn(),l,s,o,l[11],a,!1),Cm}function hv(s,o,a,l,h){const _=h?"class":"style";Mn(s,a,o.inputs[_],_,l)}function Im(s,o,a,l){const h=De(),g=Ut(),_=22+s,E=h[11],C=h[_]=Bc(E,o,function Bu(){return Dt.lFrame.currentNamespace}()),S=g.firstCreatePass?function WE(s,o,a,l,h,g,_){const E=o.consts,S=ed(o,s,2,h,Si(E,g));return W_(o,a,S,Si(E,_)),null!==S.attrs&&sd(S,S.attrs,!1),null!==S.mergedAttrs&&sd(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,g,h,0,o,a,l):g.data[_];yi(S,!0);const O=S.mergedAttrs;null!==O&&qo(E,C,O);const R=S.classes;null!==R&&Qg(E,C,R);const q=S.styles;return null!==q&&A_(E,C,q),64!=(64&S.flags)&&mp(g,h,C,S),0===function Ou(){return Dt.lFrame.elementDepthCount}()&&xr(C,h),function Nu(){Dt.lFrame.elementDepthCount++}(),Kl(S)&&(z_(g,h,S),bl(g,S,h)),null!==l&&td(h,S),Im}function Dm(){let s=On();xa()?Oa():(s=s.parent,yi(s,!1));const o=s;!function ec(){Dt.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(pc(a,s),bu(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function $u(s){return 0!=(16&s.flags)}(o)&&hv(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Zd(s){return 0!=(32&s.flags)}(o)&&hv(a,o,De(),o.stylesWithoutHost,!1),Dm}function Dl(s,o,a,l){return Im(s,o,a,l),Dm(),Dl}function Tm(s,o,a){const l=De(),h=Ut(),g=s+22,_=h.firstCreatePass?function Yh(s,o,a,l,h){const g=o.consts,_=Si(g,l),E=ed(o,s,8,"ng-container",_);return null!==_&&sd(E,_,!0),W_(o,a,E,Si(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,l,o,a):h.data[g];yi(_,!0);const E=l[g]=l[11].createComment("");return mp(h,l,E,_),xr(E,l),Kl(_)&&(z_(h,l,_),bl(h,_,l)),null!=a&&td(l,_),Tm}function Sm(){let s=On();const o=Ut();return xa()?Oa():(s=s.parent,yi(s,!1)),o.firstCreatePass&&(pc(o,s),bu(s)&&o.queries.elementEnd(s)),Sm}function fv(){return De()}function ci(s){return!!s&&"function"==typeof s.then}function KE(s){return!!s&&"function"==typeof s.subscribe}const pv=KE;function Zs(s,o,a,l){const h=De(),g=Ut(),_=On();return function mv(s,o,a,l,h,g,_,E){const C=Kl(l),O=s.firstCreatePass&&jh(s),R=o[8],q=tv(o);let te=!0;if(3&l.type||E){const qe=Vr(l,o),et=E?E(qe):qe,rt=q.length,Me=E?Ht=>E(xn(Ht[l.index])):l.index;let yt=null;if(!E&&C&&(yt=function Am(s,o,a,l){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===a&&h[g+1]===l){const E=o[7],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,l.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=g,yt.__ngLastListenerFn__=g,te=!1;else{g=QE(l,o,R,g,!1);const Ht=a.listen(et,h,g);q.push(g,Ht),O&&O.push(h,Me,rt,rt+1)}}else g=QE(l,o,R,g,!1);const be=l.outputs;let Re;if(te&&null!==be&&(Re=be[h])){const qe=Re.length;if(qe)for(let et=0;et<qe;et+=2){const vn=o[Re[et]][Re[et+1]].subscribe(g),Eu=q.length;q.push(g,vn),O&&O.push(h,l.index,Eu,-(Eu+1))}}}(g,h,h[11],_,s,o,0,l),Zs}function YE(s,o,a,l){try{return!1!==a(l)}catch(h){return FE(s,h),!1}}function QE(s,o,a,l,h){return function g(_){if(_===Function)return l;_m(2&s.flags?$t(s.index,o):o);let C=YE(o,0,l,_),S=g.__ngNextListenerFn__;for(;S;)C=YE(o,0,S,_)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function JE(s=1){return function oo(s){return(Dt.lFrame.contextLView=function Uu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Dt.lFrame.contextLView))[8]}(s)}function lb(s,o,a,l,h){const g=s[a+1],_=null===o;let E=l?Yi(g):vi(g),C=!1;for(;0!==E&&(!1===C||_);){const O=s[E+1];vv(s[E],o)&&(C=!0,s[E+1]=l?rm(O):Kc(O)),E=l?Yi(O):vi(O)}C&&(s[a+1]=l?Kc(g):rm(g))}function vv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Us(s,o)>=0}const Wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mm(s){return s.substring(Wt.key,Wt.keyEnd)}function lu(s,o){const a=Wt.textEnd;return a===o?-1:(o=Wt.keyEnd=function dd(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Wt.key=o,a),cu(s,o,a))}function cu(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Rp(s,o,a){return Xi(s,o,a,!1),Rp}function xm(s,o){return Xi(s,o,null,!0),xm}function Iv(s){!function Ni(s,o,a,l){const h=Ut(),g=ds(2);h.firstUpdatePass&&fb(h,null,g,l);const _=De();if(a!==Nt&&li(_,g,a)){const E=h.data[rr()];if(Tv(E,l)&&!Sl(h,g)){let C=l?E.classesWithoutHost:E.stylesWithoutHost;null!==C&&(a=ge(C,a||"")),hv(h,E,_,a,l)}else!function UD(s,o,a,l,h,g,_,E){h===Nt&&(h=It);let C=0,S=0,O=0<h.length?h[0]:null,R=0<g.length?g[0]:null;for(;null!==O||null!==R;){const q=C<h.length?h[C+1]:void 0,te=S<g.length?g[S+1]:void 0;let Re,be=null;O===R?(C+=2,S+=2,q!==te&&(be=R,Re=te)):null===R||null!==O&&O<R?(C+=2,be=O):(S+=2,be=R,Re=te),null!==be&&gb(s,o,a,l,be,Re,_,E),O=C<h.length?h[C]:null,R=S<g.length?g[S]:null}}(h,E,_,_[11],_[g+1],_[g+1]=function pd(s,o,a){if(null==a||""===a)return It;const l=[],h=ys(a);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(l,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(l,g,h[g]);else"string"==typeof h&&o(l,h);return l}(s,o,a),l,g)}}(ri,Ao,s,!0)}function Ao(s,o){for(let a=function Ev(s){return function bv(s){Wt.key=0,Wt.keyEnd=0,Wt.value=0,Wt.valueEnd=0,Wt.textEnd=s.length}(s),lu(s,cu(s,0,Wt.textEnd))}(o);a>=0;a=lu(o,a))ri(s,Mm(o),!0)}function Xi(s,o,a,l){const h=De(),g=Ut(),_=ds(2);g.firstUpdatePass&&fb(g,s,_,l),o!==Nt&&li(h,_,o)&&gb(g,g.data[rr()],h,h[11],s,h[_+1]=function BD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(ys(s)))),s}(o,a),l,_)}function Sl(s,o){return o>=s.expandoStartIndex}function fb(s,o,a,l){const h=s.data;if(null===h[a+1]){const g=h[rr()],_=Sl(s,a);Tv(g,l)&&null===o&&!_&&(o=!1),o=function pb(s,o,a,l){const h=Pa(s);let g=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Mo(a=fd(null,s,o,a,l),o.attrs,l),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(a=fd(h,s,o,a,l),null===g){let C=function FD(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==vi(l))return s[Yi(l)]}(s,o,l);void 0!==C&&Array.isArray(C)&&(C=fd(null,s,o,C[1],l),C=Mo(C,o.attrs,l),function LD(s,o,a,l){s[Yi(a?o.classBindings:o.styleBindings)]=l}(s,o,l,C))}else g=function VD(s,o,a){let l;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)l=Mo(l,s[g].hostAttrs,a);return Mo(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,l),function ab(s,o,a,l,h,g){let _=g?o.classBindings:o.styleBindings,E=Yi(_),C=vi(_);s[l]=a;let O,S=!1;if(Array.isArray(a)){const R=a;O=R[1],(null===O||Us(R,O)>0)&&(S=!0)}else O=a;if(h)if(0!==C){const q=Yi(s[E+1]);s[l+1]=ie(q,E),0!==q&&(s[q+1]=V_(s[q+1],l)),s[E+1]=function gD(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=ie(E,0),0!==E&&(s[E+1]=V_(s[E+1],l)),E=l;else s[l+1]=ie(C,0),0===E?E=l:s[C+1]=V_(s[C+1],l),C=l;S&&(s[l+1]=Kc(s[l+1])),lb(s,O,l,!0),lb(s,O,l,!1),function ub(s,o,a,l,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Us(g,o)>=0&&(a[l+1]=rm(a[l+1]))}(o,O,s,l,g),_=ie(E,C),g?o.classBindings=_:o.styleBindings=_}(h,g,o,a,_,l)}}function fd(s,o,a,l,h){let g=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(g=o[E],l=Mo(l,g.hostAttrs,h),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function Mo(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ri(s,_,!!a||o[++g]))}return void 0===s?null:s}function gb(s,o,a,l,h,g,_,E){if(!(3&o.type))return;const C=s.data,S=C[E+1];gd(function vl(s){return 1==(1&s)}(S)?Om(C,o,a,h,vi(S),_):void 0)||(gd(g)||function zs(s){return 2==(2&s)}(S)&&(g=Om(C,null,a,h,E,_)),function hE(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:ha.DashCase;null==h?s.removeStyle(a,l,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=ha.Important),s.setStyle(a,l,h,g))}}(l,_,mi(rr(),a),h,g))}function Om(s,o,a,l,h,g){const _=null===o;let E;for(;h>0;){const C=s[h],S=Array.isArray(C),O=S?C[1]:C,R=null===O;let q=a[h+1];q===Nt&&(q=R?It:void 0);let te=R?qa(q,l):O===l?q:void 0;if(S&&!gd(te)&&(te=qa(C,l)),gd(te)&&(E=te,_))return E;const be=s[h+1];h=_?Yi(be):vi(be)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=qa(C,l))}return E}function gd(s){return void 0!==s}function Tv(s,o){return 0!=(s.flags&(o?16:32))}function Qh(s,o=""){const a=De(),l=Ut(),h=s+22,g=l.firstCreatePass?ed(l,h,1,o,null):l.data[h],_=a[h]=function fp(s,o){return s.createText(o)}(a[11],o);mp(l,a,_,g),yi(g,!1)}function Jh(s){return Al("",s,""),Jh}function Al(s,o,a){const l=De(),h=function Wh(s,o,a,l){return li(s,io(),a)?o+_e(a)+l:Nt}(l,s,o,a);return h!==Nt&&function Ws(s,o,a){const l=mi(o,s);!function I_(s,o,a){s.setValue(o,a)}(s[11],l,a)}(l,rr(),h),Al}function Rv(s,o,a){const l=De();if(li(l,io(),o)){const g=Ut(),_=mn();Es(g,_,l,s,o,function kE(s,o,a){return(null===s||Sr(s))&&(a=function Tu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(Pa(g.data),_,l),a,!0)}return Rv}const yd=void 0;var KD=["en",[["a","p"],["AM","PM"],yd],[["AM","PM"],yd,yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yd,"{1} 'at' {0}",yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZD(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let _d={};function nf(s){const o=function km(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Rm(o);if(a)return a;const l=o.split("-")[0];if(a=Rm(l),a)return a;if("en"===l)return KD;throw new we(701,!1)}function kv(s){return nf(s)[mt.PluralCase]}function Rm(s){return s in _d||(_d[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),_d[s]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const vd="en-US";let Vv=vd;function kl(s,o,a,l,h){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)kl(s[g],o,a,l,h);else{const g=Ut(),_=De();let E=bo(s)?s:Q(s.provide),C=ca(s);const S=On(),O=1048575&S.providerIndexes,R=S.directiveStart,q=S.providerIndexes>>20;if(bo(s)||!s.multi){const te=new Rs(C,h,Zc),be=cw(E,o,h?O:O+q,R);-1===be?(ks(co(S,_),g,E),Km(g,s,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(te),_.push(te)):(a[be]=te,_[be]=te)}else{const te=cw(E,o,O+q,R),be=cw(E,o,O,O+q),Re=te>=0&&a[te],qe=be>=0&&a[be];if(h&&!qe||!h&&!Re){ks(co(S,_),g,E);const et=function hw(s,o,a,l,h){const g=new Rs(s,a,Zc);return g.multi=[],g.index=o,g.componentProviders=0,Cd(g,h,l&&!a),g}(h?dw:hT,a.length,h,l,C);!h&&qe&&(a[be].providerFactory=et),Km(g,s,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(et),_.push(et)}else Km(g,s,te>-1?te:be,Cd(a[h?be:te],C,!h&&l));!h&&l&&qe&&a[be].componentProviders++}}}function Km(s,o,a,l){const h=bo(o),g=function $s(s){return!!s.useClass}(o);if(h||g){const C=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=S.indexOf(a);-1===O?S.push(a,[l,C]):S[O+1].push(l,C)}else S.push(a,C)}}}function Cd(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function cw(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function hT(s,o,a,l){return jp(this.multi,[])}function dw(s,o,a,l){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=hs(a,a[1],this.providerFactory.index,l);g=E.slice(0,_),jp(h,g);for(let C=_;C<E.length;C++)g.push(E[C])}else g=[],jp(h,g);return g}function jp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Ym(s,o=[]){return a=>{a.providersResolver=(l,h)=>function lf(s,o,a){const l=Ut();if(l.firstCreatePass){const h=Sr(s);kl(a,l.data,l.blueprint,h,!0),kl(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class cf{}class Ub{}function fw(s,o){return new jb(s,o??null)}class jb extends cf{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nv(this);const l=Fr(o);this._bootstrapComponents=da(l.bootstrap),this._r3Injector=N_(o,a,[{provide:cf,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Qm extends Ub{constructor(o){super(),this.moduleType=o}create(o){return new jb(this.moduleType,o)}}class fT extends cf{constructor(o,a,l){super(),this.componentFactoryResolver=new nv(this),this.instance=null;const h=new kc([...o,{provide:cf,useValue:this},{provide:A,useValue:this.componentFactoryResolver}],a||Rc(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Jm(s,o,a=null){return new fT(s,o,a).injector}let Hb=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=ii(0,a.type),h=l.length>0?Jm([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Qt({token:s,providedIn:"environment",factory:()=>new s(jn(sr))}),s})();function pw(s){s.getStandaloneInjector=o=>o.get(Hb).getOrCreateStandaloneInjector(s)}function ny(s,o,a){const l=Nn()+s,h=De();return h[l]===Nt?Do(h,l,a?o.call(a):o()):function zh(s,o){return s[o]}(h,l)}function Zb(s,o,a,l){return ry(De(),Nn(),s,o,a,l)}function ry(s,o,a,l,h,g){const _=o+a;return li(s,_,h)?Do(s,_+1,g?l.call(g,h):l(h)):function Hp(s,o){const a=s[o];return a===Nt?void 0:a}(s,_+1)}function Qb(s,o){const a=Ut();let l;const h=s+22;a.firstCreatePass?(l=function _T(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const g=l.factory||(l.factory=Hi(l.type)),_=Ln(Zc);try{const E=Va(!1),C=g();return Va(E),function qE(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,De(),h,C),C}finally{Ln(_)}}function Xb(s,o,a){const l=s+22,h=De(),g=ls(h,l);return function Id(s,o){return s[1].data[o].pure}(h,l)?ry(h,Nn(),o,g.transform,a,g):g.transform(a)}function $p(s){return o=>{setTimeout(s,void 0,o)}}const xo=class eC extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,g=a||(()=>null),_=l;if(o&&"object"==typeof o){const C=o;h=C.next?.bind(C),g=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(g=$p(g),h&&(h=$p(h)),_&&(_=$p(_)));const E=super.subscribe({next:h,error:g,complete:_});return o instanceof ee.w0&&o.add(E),E}};function ET(){return this._results[od()]()}class Sw{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=od(),l=Sw.prototype;l[a]||(l[a]=ET)}get changes(){return this._changes||(this._changes=new xo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=cn(o);(this._changesDetected=!function ti(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],g=o[l];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dd=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mw,s})();const bT=Dd,Aw=class extends bT{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,h=cm(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(l)),bp(l,h,o),new Dp(h)}};function Mw(){return hf(On(),De())}function hf(s,o){return 4&s.type?new Aw(o,s,Z(s,o)):null}let oy=(()=>{class s{}return s.__NG_ELEMENT_ID__=tC,s})();function tC(){return Gp(On(),De())}const nC=oy,rC=class extends nC{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Z(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Wu(this._hostTNode,this._hostLView);if(Yd(o)){const a=La(o,this._hostLView),l=fr(o);return new fo(a[1].data[l+8],a)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=ay(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let h,g;"number"==typeof l?h=l:null!=l&&(h=l.index,g=l.injector);const _=o.createEmbeddedView(a||{},g);return this.insert(_,h),_}createComponent(o,a,l,h,g){const _=o&&!function en(s){return"function"==typeof s}(o);let E;if(_)E=a;else{const R=a||{};E=R.index,l=R.injector,h=R.projectableNodes,g=R.environmentInjector||R.ngModuleRef}const C=_?o:new $h(Pt(o)),S=l||this.parentInjector;if(!g&&null==C.ngModule){const q=(_?S:this.parentInjector).get(sr,null);q&&(g=q)}const O=C.create(S,h,void 0,g);return this.insert(O.hostView,E),O}insert(o,a){const l=o._lView,h=l[1];if(function Au(s){return Lr(s[3])}(l)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const R=l[3],q=new rC(R,R[6],R[3]);q.detach(q.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function nD(s,o,a,l){const h=10+l,g=a.length;l>0&&(a[h-1][4]=o),l<g-10?(o[4]=a[h],ps(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function rD(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,l,_,g);const E=_p(g,_),C=l[11],S=Hc(C,_[7]);return null!==S&&function br(s,o,a,l,h,g){l[0]=h,l[6]=o,xh(s,l,a,1,h,g)}(h,_[6],C,l,S,E),o.attachToViewContainerRef(),ps(uy(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=ay(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Gg(this._lContainer,a);l&&(Bn(uy(this._lContainer),a),D_(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Gg(this._lContainer,a);return l&&null!=Bn(uy(this._lContainer),a)?new Dp(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function ay(s){return s[8]}function uy(s){return s[8]||(s[8]=[])}function Gp(s,o){let a;const l=o[s.index];if(Lr(l))a=l;else{let h;if(8&s.type)h=xn(l);else{const g=o[11];h=g.createComment("");const _=Vr(s,o);jc(g,Hc(g,_),h,function uE(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=a=X_(l,o,h,s),ym(o,a)}return new rC(a,s,o)}class xw{constructor(o){this.queryList=o,this.matches=null}clone(){return new xw(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new ly(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==aC(o,a).matches&&this.queries[a].setDirty()}}class cy{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class dy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,h);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new dy(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class zp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new zp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const g=l[h];this.matchTNodeWithReadOption(o,a,Ow(a,g)),this.matchTNodeWithReadOption(o,a,Wo(a,o,g,!1,!1))}else l===Dd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Wo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===ce||h===oy||h===Dd&&4&a.type)this.addMatch(a.index,-2);else{const g=Wo(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Ow(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function hy(s,o,a,l){return-1===a?function Nw(s,o){return 11&s.type?Z(s,o):4&s.type?hf(s,o):null}(o,s):-2===a?function Pw(s,o,a){return a===ce?Z(o,s):a===Dd?hf(o,s):a===oy?Gp(o,s):void 0}(s,o,l):hs(s,s[1],a,o)}function Rw(s,o,a,l){const h=o[19].queries[l];if(null===h.matches){const g=s.data,_=a.matches,E=[];for(let C=0;C<_.length;C+=2){const S=_[C];E.push(S<0?null:hy(o,g[S],_[C+1],a.metadata.read))}h.matches=E}return h.matches}function ff(s,o,a,l){const h=s.queries.getByIndex(a),g=h.matches;if(null!==g){const _=Rw(s,o,h,a);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)l.push(_[E/2]);else{const S=g[E+1],O=o[-C];for(let R=10;R<O.length;R++){const q=O[R];q[17]===q[3]&&ff(q[1],q,S,l)}if(null!==O[9]){const R=O[9];for(let q=0;q<R.length;q++){const te=R[q];ff(te[1],te,S,l)}}}}}return l}function kw(s){const o=De(),a=Ut(),l=oc();Ra(l+1);const h=aC(a,l);if(s.dirty&&Aa(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?ff(a,o,l,[]):Rw(a,o,h,l);s.reset(g,Fe),s.notifyOnChanges()}return!0}return!1}function Td(s,o,a,l){const h=Ut();if(h.firstCreatePass){const g=On();(function sC(s,o,a){null===s.queries&&(s.queries=new dy),s.queries.track(new zp(o,a))})(h,new cy(o,a,l),g.index),function oC(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function iC(s,o,a){const l=new Sw(4==(4&a));SE(s,o,l,l.destroy),null===o[19]&&(o[19]=new ly),o[19].queries.push(new xw(l))}(h,De(),a)}function fy(){return function DT(s,o){return s[19].queries[o].queryList}(De(),oc())}function aC(s,o){return s.queries.getByIndex(o)}function Lw(s,o){return hf(s,o)}function _y(...s){}const vy=new pn("Application Initializer");let vf=(()=>{class s{constructor(a){this.appInits=a,this.resolve=_y,this.reject=_y,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(ci(g))a.push(g);else if(pv(g)){const _=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(jn(vy,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ww=new pn("AppId",{providedIn:"root",factory:function Ll(){return`${wy()}${wy()}${wy()}`}});function wy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ey=new pn("Platform Initializer"),Zw=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mC=new pn("appBootstrapListener"),by=new pn("AnimationModuleType");let yC=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Cy=new pn("LocaleId",{providedIn:"root",factory:()=>I(Cy,Ze.Optional|Ze.SkipSelf)||function Zp(){return typeof $localize<"u"&&$localize.locale||vd}()}),Iy=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ul{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let qT=(()=>{class s{compileModuleSync(a){return new Qm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=da(Fr(a).declarations).reduce((_,E)=>{const C=Pt(E);return C&&_.push(new $h(C)),_},[]);return new Ul(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ZT=(()=>Promise.resolve(0))();function Ty(s){typeof Zone>"u"?ZT.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ks{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xo(!1),this.onMicrotaskEmpty=new xo(!1),this.onStable=new xo(!1),this.onError=new xo(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function KT(){let s=ln.requestAnimationFrame,o=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function EC(s){const o=()=>{!function YT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Qw(s),s.isCheckStableRunning=!0,Yw(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Qw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,g,_,E)=>{try{return bC(s),a.invokeTask(h,g,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Jw(s)}},onInvoke:(a,l,h,g,_,E,C)=>{try{return bC(s),a.invoke(h,g,_,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),Jw(s)}},onHasTask:(a,l,h,g)=>{a.hasTask(h,g),l===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Qw(s),Yw(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,h,g)=>(a.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ks.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(Ks.isInAngularZone())throw new we(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,wC,_y,_y);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const wC={};function Yw(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Qw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function bC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Jw(s){s._nesting--,Yw(s)}class CC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xo,this.onMicrotaskEmpty=new xo,this.onStable=new xo,this.onError=new xo}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const Xw=new pn(""),e0=new pn("");let t0,QT=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,t0||(function Ay(s){t0=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ks.assertNotInAngularZone(),Ty(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ty(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(jn(Ks),jn(Sy),jn(e0))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),Sy=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return t0?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),mu=null;const yu=new pn("AllowMultipleToken"),n0=new pn("PlatformDestroyListeners");class eS{constructor(o,a){this.name=o,this.token=a}}function DC(s,o,a=[]){const l=`Platform: ${o}`,h=new pn(l);return(g=[])=>{let _=Qp();if(!_||_.injector.get(yu,!1)){const E=[...a,...g,{provide:h,useValue:!0}];s?s(E):function tS(s){if(mu&&!mu.get(yu,!1))throw new we(400,!1);mu=s;const o=s.get(AC);(function r0(s){const o=s.get(Ey,null);o&&o.forEach(a=>a())})(s)}(function SC(s=[],o){return zc.create({name:o,providers:[{provide:Yn,useValue:"platform"},{provide:n0,useValue:new Set([()=>mu=null])},...s]})}(E,l))}return function TC(s){const o=Qp();if(!o)throw new we(401,!1);return o}()}}function Qp(){return mu?.get(AC)??null}let AC=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function xC(s,o){let a;return a="noop"===s?new CC:("zone.js"===s?void 0:s)||new Ks(o),a}(l?.ngZone,function MC(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:Ks,useValue:h}];return h.run(()=>{const _=zc.create({providers:g,parent:this.injector,name:a.moduleType.name}),E=a.create(_),C=E.injector.get(Eh,null);if(!C)throw new we(402,!1);return h.runOutsideAngular(()=>{const S=h.onError.subscribe({next:O=>{C.handleError(O)}});E.onDestroy(()=>{xy(this._modules,E),S.unsubscribe()})}),function OC(s,o,a){try{const l=a();return ci(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(C,h,()=>{const S=E.injector.get(vf);return S.runInitializers(),S.donePromise.then(()=>(function Tb(s){Bt(s,"Expected localeId to be defined"),"string"==typeof s&&(Vv=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Cy,vd)||vd),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const h=NC({},l);return function JT(s,o,a){const l=new Qm(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const l=a.injector.get(My);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new we(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(n0,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(jn(zc))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function NC(s,o){return Array.isArray(o)?o.reduce(NC,s):{...s,...o}}let My=(()=>{class s{constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new P.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new P.y(E=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Ks.assertNotInAngularZone(),Ty(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{Ks.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ae.T)(g,_.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof rp;if(!this._injector.get(vf).done)throw!h&&Bi(a),new we(405,false);let _;_=h?a:this._injector.get(A).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const E=function XT(s){return s.isBoundToModule}(_)?void 0:this._injector.get(cf),S=_.create(zc.NULL,[],l||_.selector,E),O=S.location.nativeElement,R=S.injector.get(Xw,null);return R?.registerApplication(O),S.onDestroy(()=>{this.detachView(S.hostView),xy(this.components,S),R?.unregisterApplication(O)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;xy(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(mC,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>xy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(jn(Ks),jn(sr),jn(Eh))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function xy(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let s0=!0,PC=!1;function rS(){return PC=!0,s0}function o0(){if(PC)throw new Error("Cannot enable prod mode after platform setup.");s0=!1}let a0=(()=>{class s{}return s.__NG_ELEMENT_ID__=oS,s})();function oS(s){return function aS(s,o,a){if(Ta(s)&&!a){const l=$t(s.index,o);return new Dp(l,l)}return 47&s.type?new Dp(o[16],o):null}(On(),De(),16==(16&s))}class hi{constructor(){}supports(o){return Mp(o)}create(o){return new Oy(o)}}const dS=(s,o)=>o;class Oy{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||dS}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<FC(l,h,g)?a:l,E=FC(_,h,g),C=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{g||(g=[]);const S=E-h,O=C-h;if(S!=O){for(let q=0;q<S;q++){const te=q<g.length?g[q]:g[q]=0,be=te+q;O<=be&&be<S&&(g[q]=te+1)}g[_.previousIndex]=O-S}}E!==C&&o(_,E,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Mp(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],_=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,E),l=!0),a=a._next}else h=0,function xp(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[od()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{_=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,E,_,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new Ny(a,l),g,h),o}_verifyReinsertion(o,a,l,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new kC),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ny{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qr{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class kC{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new qr,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FC(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class LC{constructor(){}supports(o){return o instanceof Map||ad(o)}create(){return new VC}}class VC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||ad(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const l=new hS(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class hS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Df(){return new vu([new hi])}let vu=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Df()),deps:[[s,new Et,new He]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new we(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:Df}),s})();function Jp(){return new Ry([new LC])}let Ry=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Jp()),deps:[[s,new Et,new He]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new we(901,!1)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:Jp}),s})();const BC=DC(null,"core",[]);let ky=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(jn(My))},s.\u0275mod=at({type:s}),s.\u0275inj=Ft({}),s})();function gS(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(lt,Se,k)=>{k.d(Se,{Z:()=>we});var d=k(2090),ee=k(4859),P=k(9681),ae=k(1877);class se{constructor(_e,pe){this._delegate=_e,this.firebase=pe,(0,P._addComponent)(_e,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(_e,pe=P._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(_e);return!st.isInitialized()&&"EXPLICIT"===(null===(Ke=st.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&st.initialize(),st.getImmediate({identifier:pe})}_removeServiceInstance(_e,pe=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(pe)}_addComponent(_e){(0,P._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,P._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ge(){const Xe=function fe(Xe){const _e={},pe={__esModule:!0,initializeApp:function Ae(je,B={}){const ye=P.initializeApp(je,B);if((0,d.r3)(_e,ye.name))return _e[ye.name];const Y=new Xe(ye,pe);return _e[ye.name]=Y,Y},app:st,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ce(je){const B=je.name,ye=B.replace("-compat","");if(P._registerComponent(je)&&"PUBLIC"===je.type){const Y=(X=st())=>{if("function"!=typeof X[ye])throw ue.create("invalid-app-argument",{appName:B});return X[ye]()};void 0!==je.serviceProps&&(0,d.ZB)(Y,je.serviceProps),pe[ye]=Y,Xe.prototype[ye]=function(...X){return this._getService.bind(this,B).apply(this,je.multipleInstances?X:[])}}return"PUBLIC"===je.type?pe[ye]:null},removeApp:function Ke(je){delete _e[je]},useAsService:function Be(je,B){return"serverAuth"===B?null:B},modularAPIs:P}};function st(je){if(!(0,d.r3)(_e,je=je||P._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:je});return _e[je]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function ve(){return Object.keys(_e).map(je=>_e[je])}}),st.App=Xe,pe}(se);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function _e(pe){(0,d.ZB)(Xe,pe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Xe}(),G=new ae.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const we=H;!function xe(Xe){(0,P.registerVersion)("@firebase/app-compat","0.1.33",Xe)}()},9681:(lt,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ds,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Yt,_addOrOverwriteComponent:()=>Qt,_apps:()=>un,_clearComponents:()=>Ca,_components:()=>Fn,_getProvider:()=>Ft,_registerComponent:()=>Rr,_removeServiceInstance:()=>an,deleteApp:()=>Uo,getApp:()=>Yr,getApps:()=>bi,initializeApp:()=>Ui,onLog:()=>rs,registerVersion:()=>Qr,setLogLevel:()=>Ln});var d=k(5861),ee=k(4859),P=k(1877),ae=k(2090),se=k(8766);class he{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(W=>{if(function ue(U){return"VERSION"===U.getComponent()?.type}(W)){const Ie=W.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(W=>W).join(" ")}}const fe="@firebase/app",H=new P.Yd("@firebase/app"),Bt="[DEFAULT]",ze={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},un=new Map,Fn=new Map;function Yt(U,z){try{U.container.addComponent(z)}catch(W){H.debug(`Component ${z.name} failed to register with FirebaseApp ${U.name}`,W)}}function Qt(U,z){U.container.addOrOverwriteComponent(z)}function Rr(U){const z=U.name;if(Fn.has(z))return H.debug(`There were multiple attempts to register component ${z}.`),!1;Fn.set(z,U);for(const W of un.values())Yt(W,U);return!0}function Ft(U,z){const W=U.container.getProvider("heartbeat").getImmediate({optional:!0});return W&&W.triggerHeartbeat(),U.container.getProvider(z)}function an(U,z,W=Bt){Ft(U,z).clearInstance(W)}function Ca(){Fn.clear()}const Tr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Kr{constructor(z,W,Ie){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},W),this._name=W.name,this._automaticDataCollectionEnabled=W.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Ds="9.9.4";function Ui(U,z={}){"object"!=typeof z&&(z={name:z});const W=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},z),Ie=W.name;if("string"!=typeof Ie||!Ie)throw Tr.create("bad-app-name",{appName:String(Ie)});const Ue=un.get(Ie);if(Ue){if((0,ae.vZ)(U,Ue.options)&&(0,ae.vZ)(W,Ue.config))return Ue;throw Tr.create("duplicate-app",{appName:Ie})}const at=new ee.H0(Ie);for(const Xt of Fn.values())at.addComponent(Xt);const fn=new Kr(U,W,at);return un.set(Ie,fn),fn}function Yr(U=Bt){const z=un.get(U);if(!z)throw Tr.create("no-app",{appName:U});return z}function bi(){return Array.from(un.values())}function Uo(U){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(U){const z=U.name;un.has(z)&&(un.delete(z),yield Promise.all(U.container.getProviders().map(W=>W.delete())),U.isDeleted=!0)})).apply(this,arguments)}function Qr(U,z,W){var Ie;let Ue=null!==(Ie=ze[U])&&void 0!==Ie?Ie:U;W&&(Ue+=`-${W}`);const at=Ue.match(/\s|\//),fn=z.match(/\s|\//);if(at||fn){const Xt=[`Unable to register library "${Ue}" with version "${z}":`];return at&&Xt.push(`library name "${Ue}" contains illegal characters (whitespace or "/")`),at&&fn&&Xt.push("and"),fn&&Xt.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void H.warn(Xt.join(" "))}Rr(new ee.wA(`${Ue}-version`,()=>({library:Ue,version:z}),"VERSION"))}function rs(U,z){if(null!==U&&"function"!=typeof U)throw Tr.create("invalid-log-argument");(0,P.Am)(U,z)}function Ln(U){(0,P.Ub)(U)}const Vn="firebase-heartbeat-store";let Xn=null;function gn(){return Xn||(Xn=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(U,z)=>{0===z&&U.createObjectStore(Vn)}}).catch(U=>{throw Tr.create("idb-open",{originalErrorMessage:U.message})})),Xn}function ut(){return(ut=(0,d.Z)(function*(U){var z;try{return(yield gn()).transaction(Vn).objectStore(Vn).get(dr(U))}catch(W){if(W instanceof ae.ZR)H.warn(W.message);else{const Ie=Tr.create("idb-get",{originalErrorMessage:null===(z=W)||void 0===z?void 0:z.message});H.warn(Ie.message)}}})).apply(this,arguments)}function ln(U,z){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(U,z){var W;try{const Ue=(yield gn()).transaction(Vn,"readwrite");return yield Ue.objectStore(Vn).put(z,dr(U)),Ue.done}catch(Ie){if(Ie instanceof ae.ZR)H.warn(Ie.message);else{const Ue=Tr.create("idb-set",{originalErrorMessage:null===(W=Ie)||void 0===W?void 0:W.message});H.warn(Ue.message)}}})).apply(this,arguments)}function dr(U){return`${U.name}!${U.options.appId}`}class is{constructor(z){this.container=z,this._heartbeatsCache=null;const W=this.container.getProvider("app").getImmediate();this._storage=new Kt(W),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var z=this;return(0,d.Z)(function*(){const Ie=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ue=Jt();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==Ue&&!z._heartbeatsCache.heartbeats.some(at=>at.date===Ue))return z._heartbeatsCache.heartbeats.push({date:Ue,agent:Ie}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(at=>{const fn=new Date(at.date).valueOf();return Date.now()-fn<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,d.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const W=Jt(),{heartbeatsToSend:Ie,unsentEntries:Ue}=function Ii(U,z=1024){const W=[];let Ie=U.slice();for(const Ue of U){const at=W.find(fn=>fn.agent===Ue.agent);if(at){if(at.dates.push(Ue.date),K(W)>z){at.dates.pop();break}}else if(W.push({agent:Ue.agent,dates:[Ue.date]}),K(W)>z){W.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:W,unsentEntries:Ie}}(z._heartbeatsCache.heartbeats),at=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ie}));return z._heartbeatsCache.lastSentHeartbeatDate=W,Ue.length>0?(z._heartbeatsCache.heartbeats=Ue,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),at})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,d.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function gt(U){return ut.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var W=this;return(0,d.Z)(function*(){var Ie;if(yield W._canUseIndexedDBPromise){const at=yield W.read();return ln(W.app,{lastSentHeartbeatDate:null!==(Ie=z.lastSentHeartbeatDate)&&void 0!==Ie?Ie:at.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var W=this;return(0,d.Z)(function*(){var Ie;if(yield W._canUseIndexedDBPromise){const at=yield W.read();return ln(W.app,{lastSentHeartbeatDate:null!==(Ie=z.lastSentHeartbeatDate)&&void 0!==Ie?Ie:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...z.heartbeats]})}})()}}function K(U){return(0,ae.L)(JSON.stringify({version:2,heartbeats:U})).length}!function $(U){Rr(new ee.wA("platform-logger",z=>new he(z),"PRIVATE")),Rr(new ee.wA("heartbeat",z=>new is(z),"PRIVATE")),Qr(fe,"0.7.32",U),Qr(fe,"0.7.32","esm2017"),Qr("fire-js","")}("")},4859:(lt,Se,k)=>{k.d(Se,{H0:()=>fe,wA:()=>P});var d=k(5861),ee=k(2090);class P{constructor(H,G,Q){this.name=H,this.instanceFactory=G,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ae="[DEFAULT]";class se{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const Q=new ee.BH;if(this.instancesDeferred.set(G,Q),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:G});Ve&&Q.resolve(Ve)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const Q=this.normalizeInstanceIdentifier(H?.identifier),Ve=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(xe){if(Ve)return null;throw xe}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function ue(ge){return"EAGER"===ge.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[G,Q]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(G);try{const xe=this.getOrInitializeService({instanceIdentifier:Ve});Q.resolve(xe)}catch{}}}}clearInstance(H=ae){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,d.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...G.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ae){return this.instances.has(H)}getOptions(H=ae){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,Q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Q,options:G});for(const[xe,we]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(xe)&&we.resolve(Ve);return Ve}onInit(H,G){var Q;const Ve=this.normalizeInstanceIdentifier(G),xe=null!==(Q=this.onInitCallbacks.get(Ve))&&void 0!==Q?Q:new Set;xe.add(H),this.onInitCallbacks.set(Ve,xe);const we=this.instances.get(Ve);return we&&H(we,Ve),()=>{xe.delete(H)}}invokeOnInitCallbacks(H,G){const Q=this.onInitCallbacks.get(G);if(Q)for(const Ve of Q)try{Ve(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let Q=this.instances.get(H);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=H,ge===ae?void 0:ge),options:G}),this.instances.set(H,Q),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(Q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,Q)}catch{}var ge;return Q||null}normalizeInstanceIdentifier(H=ae){return this.component?this.component.multipleInstances?H:ae:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new se(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Se,k)=>{k.d(Se,{Am:()=>ge,Ub:()=>fe,Yd:()=>ue,in:()=>ee});const d=[];var ee=(()=>{return(H=ee||(ee={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ee;var H})();const P={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},ae=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},he=(H,G,...Q)=>{if(G<H.logLevel)return;const Ve=(new Date).toISOString(),xe=se[G];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[xe](`[${Ve}]  ${H.name}:`,...Q)};class ue{constructor(G){this.name=G,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in ee))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...G),this._logHandler(this,ee.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...G),this._logHandler(this,ee.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...G),this._logHandler(this,ee.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...G),this._logHandler(this,ee.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...G),this._logHandler(this,ee.ERROR,...G)}}function fe(H){d.forEach(G=>{G.setLogLevel(H)})}function ge(H,G){for(const Q of d){let Ve=null;G&&G.level&&(Ve=P[G.level]),Q.userLogHandler=null===H?null:(xe,we,...Xe)=>{const _e=Xe.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");we>=(Ve??xe.logLevel)&&H({level:ee[we].toLowerCase(),message:_e,args:Xe,type:xe.name})}}}},8766:(lt,Se,k)=>{k.d(Se,{Lj:()=>Ae,X3:()=>st});var d=k(5861);let P,ae;const ue=new WeakMap,fe=new WeakMap,ge=new WeakMap,H=new WeakMap,G=new WeakMap;let xe={get(B,ye,Y){if(B instanceof IDBTransaction){if("done"===ye)return fe.get(B);if("objectStoreNames"===ye)return B.objectStoreNames||ge.get(B);if("store"===ye)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return pe(B[ye])},set:(B,ye,Y)=>(B[ye]=Y,!0),has:(B,ye)=>B instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in B};function _e(B){return"function"==typeof B?function Xe(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function he(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...ye){return B.apply(Ke(this),ye),pe(ue.get(this))}:function(...ye){return pe(B.apply(Ke(this),ye))}:function(ye,...Y){const X=B.call(Ke(this),ye,...Y);return ge.set(X,ye.sort?ye.sort():[ye]),pe(X)}}(B):(B instanceof IDBTransaction&&function Ve(B){if(fe.has(B))return;const ye=new Promise((Y,X)=>{const oe=()=>{B.removeEventListener("complete",ne),B.removeEventListener("error",ke),B.removeEventListener("abort",ke)},ne=()=>{Y(),oe()},ke=()=>{X(B.error||new DOMException("AbortError","AbortError")),oe()};B.addEventListener("complete",ne),B.addEventListener("error",ke),B.addEventListener("abort",ke)});fe.set(B,ye)}(B),((B,ye)=>ye.some(Y=>B instanceof Y))(B,function se(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,xe):B)}function pe(B){if(B instanceof IDBRequest)return function Q(B){const ye=new Promise((Y,X)=>{const oe=()=>{B.removeEventListener("success",ne),B.removeEventListener("error",ke)},ne=()=>{Y(pe(B.result)),oe()},ke=()=>{X(B.error),oe()};B.addEventListener("success",ne),B.addEventListener("error",ke)});return ye.then(Y=>{Y instanceof IDBCursor&&ue.set(Y,B)}).catch(()=>{}),G.set(ye,B),ye}(B);if(H.has(B))return H.get(B);const ye=_e(B);return ye!==B&&(H.set(B,ye),G.set(ye,B)),ye}const Ke=B=>G.get(B);function st(B,ye,{blocked:Y,upgrade:X,blocking:oe,terminated:ne}={}){const ke=indexedDB.open(B,ye),Pe=pe(ke);return X&&ke.addEventListener("upgradeneeded",ht=>{X(pe(ke.result),ht.oldVersion,ht.newVersion,pe(ke.transaction))}),Y&&ke.addEventListener("blocked",()=>Y()),Pe.then(ht=>{ne&&ht.addEventListener("close",()=>ne()),oe&&ht.addEventListener("versionchange",()=>oe())}).catch(()=>{}),Pe}function Ae(B,{blocked:ye}={}){const Y=indexedDB.deleteDatabase(B);return ye&&Y.addEventListener("blocked",()=>ye()),pe(Y).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ce=["put","add","delete","clear"],Be=new Map;function je(B,ye){if(!(B instanceof IDBDatabase)||ye in B||"string"!=typeof ye)return;if(Be.get(ye))return Be.get(ye);const Y=ye.replace(/FromIndex$/,""),X=ye!==Y,oe=Ce.includes(Y);if(!(Y in(X?IDBIndex:IDBObjectStore).prototype)||!oe&&!ve.includes(Y))return;const ne=function(){var ke=(0,d.Z)(function*(Pe,...ht){const qt=this.transaction(Pe,oe?"readwrite":"readonly");let Bt=qt.store;return X&&(Bt=Bt.index(ht.shift())),(yield Promise.all([Bt[Y](...ht),oe&&qt.done]))[0]});return function(ht){return ke.apply(this,arguments)}}();return Be.set(ye,ne),ne}!function we(B){xe=B(xe)}(B=>({...B,get:(ye,Y,X)=>je(ye,Y)||B.get(ye,Y,X),has:(ye,Y)=>!!je(ye,Y)||B.has(ye,Y)}))},5861:(lt,Se,k)=>{function d(P,ae,se,he,ue,fe,ge){try{var H=P[fe](ge),G=H.value}catch(Q){return void se(Q)}H.done?ae(G):Promise.resolve(G).then(he,ue)}function ee(P){return function(){var ae=this,se=arguments;return new Promise(function(he,ue){var fe=P.apply(ae,se);function ge(G){d(fe,he,ue,ge,H,"next",G)}function H(G){d(fe,he,ue,ge,H,"throw",G)}ge(void 0)})}}k.d(Se,{Z:()=>ee})}},lt=>{lt(lt.s=6001)}]);